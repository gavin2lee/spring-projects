{"version":3,"sources":["scripts/app-f5b0ff5132.js"],"names":["angular","module","usersServiceFunc","$window","apiHost","$http","$log","$q","toastr","getUserList","deptCode","failed","error","toJson","data","get","users","params","then","complete","deleteUser","seqId","post","save","userObj","saveUser","saveUserRole","userRoleObj","deleteUserRole","response","code","service","$inject","factory","UsersControllerFunc","$scope","$uibModal","deptService","NgTableParams","usersService","filesService","modalService","security","load","deptName","vm","selectedDept","selectedUser","dataForUserModal","formData","tableParams","dataset","metaData","userList","info","open","user","extend","i","hasOwnProperty","templateUrl","ok","size","openRole","role","template_url","dataForRoleModal","getUserRoleList","userId","currentUser","roleList","deptList","deptData","belongedDepts","unshift","hadRoleList","userRoleList","map","r","roleCode","saveRole","del","success","close","showRole","roleTableParams","delUserRole","this","getDeptData","controller","rolesModalControllerFunc","$uibModalInstance","$rootScope","rolesService","dismiss","$apply","cancel","rolesServiceFunc","getHaveFunction","msg","roles","getNotHaveFunction","getUserListComplete","getUserListFailed","edit","roleData","updateRole","deleteRole","rolesControllerFunc","$injector","getNotHave","getHave","roleDetail","all","result","notHaveList","hadList","delObj","refreshData","copy","funs","forEach","fun","concat","child","updateTime","createTime","navExchange","parentItem","item","parentIndex","index","type","new_parentItem","dataList","otherList","some","hadItem","key","funCode","push","length","splice","fileModalControllerFunc","moment","$controller","count","birthday","format","practiceApproveDate","inductionDate","graduationDate","practiceValidDate","selectedDeptCode","startDate","endDate","userCode","comUser","dataType","add","getUserInfo","hisCode","accessible","rootScope","$broadcast","scope","datepickerOption","dateDisabled","formatYear","formatMonth","formatDay","initDate","Date","maxDate","minDate","startingDay","validationOption","blurTrig","isNew","itemInitData","comUserPosition","positionName","reviewUnit","comUserNursing","unitLevel","position","comUserEducation","educationType","leaningTime","courseTopics","courseContent","comUserTraining","learnContent","professional","diploma","speaker","creditType","credit","funding","describe","comUserLearning","school","diplomaNo","degree","degreeNo","comUserFamily","relation","name","phone","email","remark","addItem","removeItem","openCalender","obj","$on","event","config","w5cValidatorProvider","showError","removeError","setRules","number","userName","required","duty","filesServiceFunc","getUserInfoComplete","getUserInfoFailed","files","getUserDetailInfo","lst","setSelectUser","userData","delSeqId","toastrConfig","tapToDismiss","timeOut","filesControllerFunc","selectedUserCode","openDialog","backdrop","controllerAs","animation","loadDetail","row","$emit","callback","viewDetail","detail","prop","dataTemp","dateArr","dateItem","tempItem","isOpen","typeServiceFun","getEventType","events","getEventTypeList","typeControllerFun","$filter","typeService","initData","statisticsControllerFun","groupNo","groupName","bedNo","debug","page","total","getData","$defer","orderedData","sorting","orderBy","filter","resolve","slice","levelServiceFunc","deleteEventLevel","dataObj","saveEventLevel","getEventLevels","levelControllerFun","levelService","selectedLevel","flow","flowList","split","addFlow","flowText","removeFlow","$index","join","handleServiceFunc","reportCode","deleteEventReport","getReportDetail","getEventMeasures","getEventRequirement","saveReportDetail","saveMeasure","saveEventMeasures","saveRequirement","saveEventRequirement","saveEstimate","deleteRequirement","deleteEventRequirement","deleteMeasure","deleteEventMeasures","deleteEstimate","handleControllerFun","fixService","handleService","getEventList","selectedEvent","initModalData","open_it","appendTo","element","methodsObj","saveListItem","listName","itemData","m_this","list_name","upFirstLetter","data_temp","getFromSession","reqCode","reqContent","meaTime","meaCode","meaContent","headUserCode","measure","resStatus","resDescribe","removeListItem","_params","fillItem","itemName","resetForm","str","replace","match","toUpperCase","getReportDetails","_promise","requirements","measures","reportDetails","itemCode","value","itemValue","malCaseInfo","requirementList","measureList","reportDetailList","data_arr","context","fixServiceFunc","param","elementCode","elementName","viewName","elementType","width","callServiceFunc","saveEventReport","callControllerFun","callService","eventTypeList","eventTimeCalender","eventTimeOpen","setUser","initLevelData","response_data","eventDate","eventTime","level","damageLevel","dept","eventType","eventTypeCode","eventTypeName","levelList","date_temp","time_temp","fromJson","turnsRuleControllerFunc","ruleIndex","ruleInfo","start","end","valid","turnsControllerFunc","group","d1","d2","d3","d4","d5","d6","d7","statisticsControllerFunc","leaveControllerFunc","yy","status","endemicAreaControllerFunc","yb","classesControllerFunc","persons","bedControllerFunc","attemperControllerFunc","acmeNavbar","NavbarController","$location","tabObjTemp","tab","isActive","$parent","navData","nav","addToBread","$event","nav_id","currentTarget","nav_name","addToBreadcrumb","directive","restrict","bindToController","cusHeaderFunc","headerController","$interval","openUserDialog","openRoleDialog","hd","logout","time_now","changeUserControllerFunc","$timeout","resetState","loginBtnStatus","title","state","changeUser","loginedUser","loginName","login","path","location","reload","pattern","password","minlength","maxlength","changeRoleControllerFunc","roleBtnStatus","currentRole","selectedRole","roleObj","changedRole","changeRole","acmeBreadFunc","breadController","$state","bc","tabTemp","removeTab","state_id","id","prev_li","parents","prev","next_li","next","find","hasClass","go","removeFromBreadcrumb","pathLen","substr","securityFunc","getNavigation","deferred","defer","system","user_info","saveAtSession","reject","removeFromSession","userInfo","userRoleId","resetUserInfo","userInfoObj","sessionStorage","setItem","to_save_value","isObject","isArray","_key","getItem","getRoleList","interceptorFunc","initToastrIfNeed","request","url","when","requestError","rejection","statusText","responseError","message","deptServiceFunc","getDeptListComplete","userRole","getDeptListFailed","getDept","modalServiceFunc","$uibModalStack","options","initFn","reason","dismissAll","ModalControllerFunc","loadingFunc","loadingLinkFunc","elem","attrs","isLoading","pendingRequests","$watch","v","setAttribute","link","loadingWidth","innerWidth","MainController","isLogined","locationPath","toState","toParams","fromState","fromParams","preventDefault","loginController","setLoginBtnstate","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","$locationProvider","otherwise","constant","delete","update","getFunction","getEventReport","$logProvider","$httpProvider","debugEnabled","autoDismiss","allowHtml","positionClass","progressBar","preventOpenDuplicates","iconClasses","warning","interceptors","$templateCache","put"],"mappings":"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","file":"scripts/app-f5b0ff5132.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('nqms', ['ngLocale', 'ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr', 'w5c.validator', 'ngTable']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('usersService', usersServiceFunc);\n\n  /** @ngInject */\n  function usersServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      getUserList: getUserList,\n      deleteUser: deleteUser,\n      save: save,\n      saveUserRole: saveUserRole,\n      deleteUserRole: deleteUserRole\n    };\n\n    return service;\n\n    function getUserList(deptCode) {\n\n      return $http.get(apiHost.users.getUserList, {\n          params: {\n            deptCode: deptCode\n          }\n        })\n        .then(complete)\n        .catch(failed);\n\n      function failed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function deleteUser(seqId) {\n\n      return $http.post(apiHost.users.deleteUser, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    function save(userObj) {\n      return $http.post(apiHost.users.saveUser, userObj)\n        .then(complete);\n    }\n\n    function saveUserRole(userRoleObj) {\n      return $http.post(apiHost.users.saveUserRole, userRoleObj)\n        .then(complete);\n    }\n\n    function deleteUserRole(seqId) {\n      return $http.post(apiHost.users.deleteUserRole, seqId)\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('UsersController', UsersControllerFunc);\n\n  /** @ngInject */\n  function UsersControllerFunc($scope, $log, $uibModal, deptService, NgTableParams, toastr, usersService, filesService, modalService, security) {\n    var vm = this;\n    var userData;\n    var count = 0;\n    var dataForUserModal = {\n      formData: {},\n      metaData: {}\n    };\n    var dataForRoleModal = {\n      formData: {},\n      metaData: {}\n    };\n\n    deptService.getDeptData().then(function(data) {\n      vm.deptData = data;\n    });\n\n    //删除用户数据\n    vm.del = del;\n    //添加用户\n    vm.open = open;\n\n    // 删除用户角色\n    vm.delUserRole = delUserRole;\n\n    // 添加角色\n    vm.openRole = openRole;\n\n\n    // 点击用户显示该用户的角色信息\n    vm.showRole = showRole;\n\n    vm.selectedDept = null;\n    // 点击加载科室人员\n    vm.load = load;\n\n    function load(deptCode, deptName) {\n      vm.selectedDept = deptCode;\n      vm.selectedUser = false;\n\n      dataForUserModal.formData = {\n        deptCode: deptCode,\n        deptName: deptName\n      };\n\n      usersService.getUserList(deptCode).then(function(response) {\n        if (response.data.code === '0') {\n          vm.tableParams = new NgTableParams({}, {\n            dataset: response.data.data\n          });\n        }\n      });\n\n      // 获取当前选择科室的员工列表\n      filesService.getUserList(deptCode).then(function(response) {\n        if (response) {\n          dataForUserModal.metaData.userList = response;\n\n          $log.info(response);\n        }\n      });\n    }\n\n    function open(user) {\n      // 编辑用户数据时加载当前用户的数据\n      if (user) {\n        dataForUserModal.formData = angular.extend({}, dataForUserModal.formData, user);\n      } else {\n        // 删除已存在的表单数据\n        for (var i in dataForUserModal.formData) {\n          if (dataForUserModal.formData.hasOwnProperty(i)) {\n            if (i !== 'deptCode' && i !== 'deptName') {\n              delete dataForUserModal.formData[i];\n            }\n          }\n        }\n      }\n      modalService.open({\n        templateUrl: 'app/system/users/addUser.tpl.html',\n        ok: save,\n        size: 'md',\n        data: dataForUserModal\n      });\n    }\n\n    function openRole(role) {\n      var template_url = 'app/system/roles/addRole.tpl.html';\n\n      if (role) {\n        dataForRoleModal.formData = angular.extend({}, dataForRoleModal.formData, role);\n        modalService.open({\n          templateUrl: template_url,\n          ok: save,\n          size: 'md',\n          data: dataForRoleModal\n        });\n      } else {\n        template_url = 'app/system/users/addExistRole.tpl.html';\n\n        // 获得所有角色列表\n        // 获得当前用户的角色\n        security.getUserRoleList({\n            userId: security.currentUser.user.seqId\n        }).then(function(response) {\n          dataForRoleModal.metaData.roleList = response.data.data;\n          dataForRoleModal.metaData.currentUser = vm.selectedUser;\n          dataForRoleModal.metaData.deptList = angular.extend([], vm.deptData.belongedDepts);\n          // push顶层科室\n          dataForRoleModal.metaData.deptList.unshift({\n            deptCode: vm.deptData.deptCode,\n            deptName: vm.deptData.deptName\n          });\n          dataForRoleModal.metaData.deptList = angular.extend({}, [dataForUserModal.formData]);\n          dataForRoleModal.metaData.hadRoleList = vm.userRoleList.map(function(r) {\n            return r.roleCode;\n          });\n\n          modalService.open({\n            templateUrl: template_url,\n            ok: saveRole,\n            size: 'md',\n            data: dataForRoleModal\n          });\n        });\n\n      }\n    }\n\n    function del(seqId) {\n      usersService.deleteUser(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('删除成功！', '提示');\n\n          load(dataForUserModal.formData.deptCode, dataForUserModal.formData.deptName);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function save(formData) {\n      usersService.save(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已保存！', '提示');\n          // 刷新数据\n          load(dataForUserModal.formData.deptCode, dataForUserModal.formData.deptName);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveRole(formData) {\n      usersService.saveUserRole(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n\n          showRole(vm.selectedUser);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function showRole(user) {\n      vm.selectedUser = user;\n\n      security.getUserRoleList({\n        userId: user.seqId\n      }).then(function(response) {\n        vm.userRoleList = response.data.data;\n\n        vm.roleTableParams = new NgTableParams({}, {\n          dataset: response.data.data\n        });\n      });\n    }\n\n    function delUserRole(seqId) {\n      usersService.deleteUserRole(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('删除成功！', '提示');\n\n          showRole(vm.selectedUser);\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('RolesModalController', rolesModalControllerFunc);\n\n  /** @ngInject */\n  function rolesModalControllerFunc($uibModalInstance, $rootScope, rolesService, security, toastr) {\n    var vm = this;\n\n    vm.cancel = cancel;\n    vm.save = save;\n\n    function save() {\n      rolesService.save(vm.role).then(function (response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n\n          $uibModalInstance.dismiss('cancel');\n\n          security.getUserRoleList();\n          $rootScope.$apply();\n        } else {\n          toastr.error('保存失败', '警告');\n        }\n      });\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('rolesService', rolesServiceFunc);\n\n  /** @ngInject */\n  function rolesServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      getHaveFunction: getHaveFunction,\n      getNotHaveFunction: getNotHaveFunction,\n      save: save,\n      edit: edit,\n      del: del\n    };\n\n    return service;\n\n    function getHaveFunction(roleCode) {\n\n      return $http.get(apiHost.roles.getHaveFunction, {\n        params: {\n          roleCode: roleCode\n        }\n      })\n        .then(complete)\n        .catch(failed);\n\n      function complete(response) {\n        if (response.data.code === '0') {\n          return response;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function failed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function getNotHaveFunction(roleCode) {\n\n      return $http.get(apiHost.roles.getNotHaveFunction, {\n        params: {\n          roleCode: roleCode\n        }\n      })\n        .then(getUserListComplete)\n        .catch(getUserListFailed);\n\n      function getUserListComplete(response) {\n        if (response.data.code === '0') {\n          return response;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getUserListFailed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function edit(roleData) {\n      return $http.post(apiHost.roles.updateRole, roleData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n        return null;\n      });\n    }\n\n    function save(roleData) {\n      return $http.post(apiHost.roles.saveRole, roleData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n        return null;\n      })\n      .catch(function (error) {\n\n      });\n    }\n\n    function del(seqId) {\n      return $http.post(apiHost.roles.deleteRole, seqId)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n\n        return null;\n      });\n    }\n  }\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('RolesController', rolesControllerFunc);\n\n  /** @ngInject */\n  function rolesControllerFunc($scope, $log, $q, $uibModal, rolesService, toastr, NgTableParams, modalService, security, $injector) {\n    var vm = this;\n\n    vm.roleData = security.roleList;\n\n    security.getUserRoleList().then(function(response) {\n      vm.roleData = security.roleList;\n    });\n\n    var modalInstance;\n    // TODO 首次进入界面表单无数据时，保存和删除按钮不可用状态\n\n    //删除用户数据\n    vm.del = del;\n    //编辑角色数据\n    vm.edit = edit;\n    //添加角色\n    vm.open = open;\n\n    vm.navExchange = navExchange;\n\n    // 点击加载角色人员\n    vm.load = load;\n\n    function load(role) {\n\n      var getNotHave = rolesService.getNotHaveFunction(role.roleCode);\n      var getHave = rolesService.getHaveFunction(role.roleCode);\n\n      vm.roleDetail = role;\n\n      $q.all([getNotHave, getHave]).then(function(result) {\n        $log.info(result);\n        vm.notHaveList = result[0] && result[0].data.code === '0' ? result[0].data.data : [];\n        vm.hadList = result[1] && result[1].data.code === '0' ? result[1].data.data : [];\n      });\n    }\n\n    function open() {\n      modalService.open({\n        templateUrl: 'app/system/roles/addRole.tpl.html',\n        size: 'md',\n        ok: save\n      });\n    }\n\n    /**\n     * [del 删除角色]\n     * @param  {[type]} row [description]\n     * @return {[type]}     [description]\n     */\n    function del() {\n      var delObj = {\n        seqId: vm.roleDetail.seqId,\n        roleCode: vm.roleDetail.roleCode\n      };\n\n      rolesService.del(delObj).then(function(response) {\n        if (response) {\n          toastr.success('该角色已删除', '提示');\n          vm.roleDetail = null;\n          refreshData();\n        }\n      });\n    }\n\n    // TODO 如果修改的角色为当前角色，修改后的导航菜单需要重新获取加载。\n    /**\n     * [edit 修改当前用户的角色信息]\n     * @return {[undefined]}\n     */\n    function edit() {\n      var params = angular.copy(vm.roleDetail);\n      var funs = [];\n\n      params.funs = angular.copy(vm.hadList);\n\n      // 提取子菜单\n      params.funs.forEach(function(fun, i) {\n        funs = funs.concat(fun.child);\n        fun.child = [];\n      });\n      params.funs = params.funs.concat(funs);\n\n      delete params.updateTime;\n      delete params.createTime;\n\n      $log.info(params);\n\n      rolesService.edit(params).then(function(response) {\n        $log.info(response);\n\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n\n          $log.info(vm.hadList);\n        } else {\n          toastr.error(response.data.msg, '警告');\n        }\n      });\n    }\n\n    function save(formData) {\n      rolesService.save(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n          modalService.close('success');\n          refreshData();\n        } else {\n          toastr.error('保存失败', '警告');\n        }\n      });\n    }\n\n    /**\n     * [navExchange 角色功能的添加与删除]\n     * @param  {object} parentItem  [父菜单项]\n     * @param  {object} item        [子菜单项]\n     * @param  {number} parentIndex [父菜单项索引]\n     * @param  {number} index       [子菜单项索引]\n     * @param  {string} type        [操作类型：添加add；删除remove]\n     * @return {undefined}\n     */\n    function navExchange(parentItem, item, parentIndex, index, type) {\n      var new_parentItem;\n      var dataList = type === 'add' ? vm.hadList : vm.notHaveList;\n      var otherList = type === 'add' ? vm.notHaveList : vm.hadList;\n\n      // 添加到已有功能列表\n      dataList.some(function(hadItem, key) {\n        if (hadItem.funCode === parentItem.funCode) {\n          hadItem.child.push(item);\n\n          return true;\n        } else {\n          if (key === dataList.length - 1) {\n            new_parentItem = angular.copy(parentItem);\n            new_parentItem.child = [item];\n            dataList.push(new_parentItem);\n          }\n        }\n      });\n\n      // 功能列表为空时，创建第一个元素\n      if (dataList.length === 0) {\n        new_parentItem = angular.copy(parentItem);\n        new_parentItem.child = [item];\n        dataList.push(new_parentItem);\n      }\n\n      // 从未有功能列表中删除\n      parentItem.child.splice(index, 1);\n\n      if (parentItem.child.length === 0) {\n        otherList.splice(parentIndex, 1);\n      }\n    }\n\n    function refreshData() {\n      security.getUserRoleList().then(function(response) {\n        vm.roleData = response.data.data;\n      });\n    }\n  }\n\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function(w5cValidatorProvider) {\n      w5cValidatorProvider.config({\n        showError: false,\n        removeError: true\n      });\n      w5cValidatorProvider.setRules({\n        userCode: {\n          number: '必须输入数字'\n        },\n        userName: {\n          required: \"姓名不能为空\"\n        },\n        duty: {\n          required: \"职务不能为空\"\n        },\n        email: {\n          required: \"邮箱不能为空\"\n        },\n        phone: {\n          required: \"电话不能为空\"\n        },\n        positionName: {\n          required: '必填'\n        },\n        reviewUnit: {\n          required: '必填'\n        }\n      });\n    })\n    .controller('fileModalController', fileModalControllerFunc);\n\n  function fileModalControllerFunc($rootScope, $scope, $uibModalInstance, filesService, $log, moment, toastr, $window, $controller) {\n    var vm = this;\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n\n    vm.cancel = cancel;\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.accessible = !filesService.isNew;\n\n    // 保存用户\n    vm.save = save;\n    // 添加项目\n    vm.count = filesService.isNew ? {} : angular.extend({}, filesService.selectedUser);\n    // 信息为空时，添加项目时的初始化数据\n    var itemInitData = {\n      comUserPosition: {\n        positionName: '',\n        reviewUnit: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserNursing: {\n        reviewUnit: '',\n        unitLevel: '',\n        deptName: '',\n        position: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserEducation: {\n        educationType: '',\n        leaningTime: '',\n        courseTopics: '',\n        courseContent: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserTraining: {\n        learnContent: '',\n        professional: '',\n        diploma: '',\n        speaker: '',\n        creditType: '',\n        credit: '',\n        funding: '',\n        describe: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserLearning: {\n        school: '',\n        professional: '',\n        diploma: '',\n        diplomaNo: '',\n        degree: '',\n        degreeNo: '',\n        describe: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserFamily: {\n        relation: '',\n        name: '',\n        phone: '',\n        email: '',\n        remark: ''\n      }\n    };\n    vm.addItem = function(type) {\n      vm.count[type].push(angular.extend({}, itemInitData[type]));\n    };\n    // 删除职称\n    vm.removeItem = function(type, index, seqId) {\n      if (seqId) {\n        filesService.deleteUser(type, seqId).then(function(response) {\n          if (response) {\n            vm.count[type].splice(index, 1);\n          }\n        });\n      } else {\n        vm.count[type].splice(index, 1);\n      }\n    };\n\n    vm.openCalender = function(item, obj) {\n      if (obj) {\n        obj[item] = true;\n      } else {\n        vm[item] = true;\n      }\n    };\n\n    function save(type) {\n      var data = {};\n\n      data[type] = vm.count[type];\n\n      if (type == 'comUser') {\n        //日期格式转换\n        if (data[type].birthday) data[type].birthday = moment(data[type].birthday).format('YYYY-MM-DD');\n        if (data[type].practiceApproveDate) data[type].practiceApproveDate = moment(data[type].practiceApproveDate).format('YYYY-MM-DD');\n        if (data[type].inductionDate) data[type].inductionDate = moment(data[type].inductionDate).format('YYYY-MM-DD');\n        if (data[type].graduationDate) data[type].graduationDate = moment(data[type].graduationDate).format('YYYY-MM-DD');\n        if (data[type].practiceValidDate) data[type].practiceValidDate = moment(data[type].practiceValidDate).format('YYYY-MM-DD');\n        // 添加新用户需要添加当前的deptCode\n        vm.count[type].deptCode = filesService.selectedDeptCode;\n      } else {\n        if (type !== 'comUserFamily') {\n          data[type].startDate = moment(data[type].startDate).format('YYYY-MM-DD');\n          data[type].endDate = moment(data[type].endDate).format('YYYY-MM-DD');\n        }\n        // 给除基本信息外的每个项添加userCode\n        data[type].map(function(item, i) {\n          item.userCode = filesService.selectedUser.comUser.userCode;\n\n          return item;\n        });\n      }\n\n      data.dataType = type;\n      filesService.add(data).then(function(response) {\n        if (response) {\n          toastr.success('保存成功！', '提示');\n\n          filesService.getUserInfo(vm.count.comUser.userCode, vm.count.comUser.hisCode).then(function(data) {\n            vm.accessible = true;\n            // 刷新\n            vm.rootScope.$broadcast('refreshUserList', filesService.selectedDeptCode);\n            vm.rootScope.$broadcast('refreshUserDetail', data);\n          });\n        }\n      });\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    vm.scope.$on('resetCount', function(event, data) {\n      vm.count = data;\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (toastrConfig) {\n      toastrConfig.tapToDismiss = true;\n      toastrConfig.timeOut = 0;\n    })\n    .factory('filesService', filesServiceFunc);\n\n  /** @ngInject */\n  function filesServiceFunc($window, apiHost, $http, $log, $q, NgTableParams) {\n    var service = {\n      selectedUser: {},\n      isNew: true,\n      selectedDeptCode: '',\n      userList: [],\n      tableParams: null,\n      getUserInfo: getUserInfo,\n      getUserList: getUserList,\n      setSelectUser: setSelectUser,\n      add: add,\n      deleteUser: deleteUser\n    };\n\n    return service;\n\n    function getUserInfo(userCode, hisCode) {\n\n      return $http.get(apiHost.files.getUserDetailInfo, {\n        params: {\n          userCode : userCode,\n          hisCode : hisCode\n        }\n      })\n        .then(getUserInfoComplete)\n        .catch(getUserInfoFailed);\n\n      function getUserInfoComplete(response) {\n        if (response.data.code === '0') {\n          return response.data.data;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getUserInfoFailed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function getUserList(deptCode) {\n\n      return $http.get(apiHost.files.getUserList, {\n        params: {\n          deptCode: deptCode\n        }\n      })\n        .then(getUserListComplete);\n\n      function getUserListComplete(response) {\n        if (response.data.code === '0') {\n          service.userList = response.data.data.lst;\n\n          service.tableParams = new NgTableParams({}, {\n            dataset: response.data.data.lst\n          });\n\n          return response.data.data.lst;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n    }\n\n    function setSelectUser(userObj) {\n      service.selectedUser = userObj;\n\n      return userObj;\n    }\n\n    function add(userData) {\n      return $http.post(apiHost.files.save, userData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n      })\n    }\n\n    function deleteUser(dataType,delSeqId) {\n      return $http.post(apiHost.files.delete, {\n          dataType : dataType,\n          delSeqId : delSeqId\n      })\n        .then(function (response) {\n          if (response.data.code === '0') {\n            return response;\n          }\n        });\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('NursingWorkersFileController', filesControllerFunc);\n\n  /** @ngInject */\n  function filesControllerFunc($rootScope, $scope, $log, $uibModal, deptService, NgTableParams, filesService, toastr) {\n    var vm = this;\n    var userData;\n    var count = 0;\n\n    var dateArr = [\n      'birthday',\n      'inductionDate',\n      'practiceApproveDate',\n      'practiceValidDate',\n      'graduationDate',\n      'startDate',\n      'endDate'\n    ];\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n\n    vm.isOpen = true;\n\n    deptService.getDeptData().then(function(data) {\n      $log.info('科室数据', data);\n      vm.deptData = data;\n    });\n\n    $log.info(count);\n\n    //删除用户数据\n    vm.del = del;\n    //添加用户\n    vm.open = open;\n\n    // 加载用户列表\n    vm.load = load;\n\n    //加载用户详细信息\n    vm.loadDetail = loadDetail;\n\n    // vm.detail = filesService.userList;\n    vm.tableParams = filesService.tableParams;\n\n\n    function load(deptCode) {\n      vm.selectedDept = deptCode;\n      vm.selectedUserCode = false;\n\n      filesService.selectedDeptCode = deptCode;\n\n      filesService.getUserList(deptCode).then(function(data) {\n        $log.info('用户数据', data);\n        // vm.detail = filesService.userList;\n        vm.tableParams = filesService.tableParams;\n      });\n    }\n\n    function open(userCode) {\n      filesService.isNew = !userCode;\n\n      if (userCode) {\n        loadDetail(userCode, openDialog);\n      } else {\n        openDialog();\n      }\n\n      function openDialog() {\n        var modalInstance = $uibModal.open({\n          templateUrl: 'app/nursingWorkers/files/modal.tpl.html',\n          controller: 'fileModalController',\n          backdrop: 'static',\n          controllerAs: 'vm',\n          animation: true,\n          size: 'xlg'\n        });\n      }\n    }\n\n    function del(row) {\n      filesService.deleteUser('comUser',row.seqId).then(function (response) {\n        if (response) {\n          toastr.success('删除成功', '提示');\n\n          // 刷新\n          vm.scope.$emit('refreshUserList', vm.selectedDept);\n        }\n      });\n    }\n\n    function loadDetail(userCode, callback) {\n      vm.selectedUserCode = userCode;\n      filesService.getUserInfo(userCode,'').then(function (data){\n          viewDetail(data,callback);\n      });\n    }\n\n    //明细数据显示\n      function viewDetail(data,callback) {\n          vm.detail = angular.extend({}, data);\n\n          // 转换日期\n          var dataTemp = data,\n              prop;\n\n          for (prop in dataTemp) {\n              if (dataTemp.hasOwnProperty(prop)) {\n                  dateArr.forEach(function (dateItem) {\n                      if (dataTemp[prop][dateItem]) {\n                          dataTemp[prop][dateItem] = new Date(dataTemp[prop][dateItem]);\n                      }\n\n                      if (dataTemp[prop].length > 0) {\n                          dataTemp[prop].map(function (tempItem) {\n                              if (tempItem[dateItem]) {\n                                  tempItem[dateItem] = new Date(tempItem[dateItem]);\n                              }\n\n                              return tempItem;\n                          });\n                      }\n                  });\n              }\n          }\n\n          filesService.selectedUser = dataTemp;\n          vm.rootScope.$broadcast('resetCount', filesService.selectedUser);\n\n          if (callback) callback();\n      }\n\n\n    // 刷新用户列表\n    vm.scope.$on('refreshUserList', function (event, deptCode) {\n      load(deptCode);\n    });\n\n    // 刷新用户信息详情\n    vm.scope.$on('refreshUserDetail', function (event, data) {\n      vm.selectedUserCode = data.comUser.userCode;//选中行的员工编号\n      viewDetail(data);\n    });\n  }\n\n})();\n\n(function() {\r\n  'use strict';\r\n  angular\r\n    .module('nqms')\r\n    .config(function(toastrConfig) {\r\n      toastrConfig.tapToDismiss = true;\r\n      toastrConfig.timeOut = 0;\r\n    })\r\n    .factory('typeService', typeServiceFun);\r\n\r\n  function typeServiceFun(apiHost, $http, $log, toastr) {\r\n    var service = {\r\n      apiHost: apiHost,\r\n        getEventType: getEventType\r\n    };\r\n\r\n    return service;\r\n        //查询类型数据\r\n      function getEventType(){\r\n        return $http.get(apiHost.events.getEventTypeList)\r\n            .then(complete);\r\n      }\r\n      //执行成功\r\n      function complete(response) {\r\n          if (response.data.code === '0') {\r\n              return response;\r\n          }\r\n      }\r\n  }\r\n\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('MalCaseUpTypeController', typeControllerFun);\r\n\r\n  function typeControllerFun($scope, $log, NgTableParams, $filter,typeService) {\r\n    var vm = this;\r\n    //数据初始化\r\n    initData();\r\n\r\n    function initData(){\r\n        typeService.getEventType().then(function (response){\r\n            if(response){\r\n                vm.lst = response.data.data.lst;\r\n                vm.tableParams = new NgTableParams({}, {\r\n                    dataset: vm.lst\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpStatisticsController',statisticsControllerFun);\r\n\r\n    function statisticsControllerFun($scope,$log,NgTableParams,$filter){\r\n        var vm = this;\r\n        vm.lst = [{groupNo:'跌倒',groupName:'不良治疗',bedNo : 'Ⅱ级',remark : '跌倒'},\r\n            {groupNo:'坠床',groupName:'不良治疗',bedNo : 'Ⅱ级',remark : '坠床'},\r\n            {groupNo:'走失',groupName:'不良治疗',bedNo : 'Ⅰ级',remark : '走失'},\r\n            {groupNo:'烫伤',groupName:'不良治疗',bedNo : 'Ⅲ级',remark : '烫伤'},\r\n            {groupNo:'医患争吵',groupName:'医患沟通',bedNo : 'Ⅰ级',remark : '医患争吵'},\r\n            {groupNo:'身体攻击',groupName:'医患沟通',bedNo : 'Ⅳ级',remark : '身体攻击'},\r\n            {groupNo:'咽入异物',groupName:'饮食类',bedNo : 'Ⅱ级',remark : '咽入异物'},\r\n            {groupNo:'食物中毒',groupName:'饮食类',bedNo : 'Ⅳ级',remark : '食物中毒'},\r\n            {groupNo:'仪器故障',groupName:'医疗设备',bedNo : '0级',remark : '仪器故障'},\r\n            {groupNo:'院内压疮',groupName:'皮肤类',bedNo : 'Ⅲ级',remark : '院内压疮'}];\r\n\r\n        $log.debug(vm.lst);\r\n        vm.tableParams = new NgTableParams({\r\n            page: 1,            // show first page\r\n            count: 10           // count per page\r\n        }, {\r\n            total: vm.lst.length, // length of data\r\n            getData: function($defer, params) {\r\n                var orderedData = params.sorting() ?\r\n                    $filter('orderBy')(vm.lst, params.orderBy()) :\r\n                    vm.lst;\r\n                orderedData = params.filter() ?\r\n                    $filter('filter')(orderedData, params.filter()) :\r\n                    orderedData;\r\n\r\n                params.total(orderedData.length); // set total for recalc pagination\r\n                $defer.resolve($scope.users = orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));\r\n            }\r\n        });\r\n    }\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('levelService', levelServiceFunc);\n\n  /** @ngInject */\n  function levelServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      save: save,\n      get: get,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.events.deleteEventLevel, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventLevel, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpLevelController',levelControllerFun);\r\n\r\n    function levelControllerFun($scope, $log, NgTableParams, $filter, levelService, modalService, toastr){\r\n        var vm = this;\r\n\r\n        vm.save = save;\r\n        vm.edit = edit;\r\n        vm.del = del;\r\n        vm.formData = {};\r\n        vm.add = add;\r\n\r\n        initData();\r\n\r\n        // 获取分级数据\r\n        function initData() {\r\n          levelService.get().then(function(response) {\r\n            if (response) {\r\n              vm.lst = response.data.data.lst;\r\n              // debugger;\r\n              vm.tableParams = new NgTableParams({}, {\r\n                dataset: vm.lst\r\n              });\r\n            }\r\n          });\r\n        }\r\n\r\n        function edit(row) {\r\n          // 处理流程分解\r\n          vm.formData = angular.extend({}, row);\r\n          vm.selectedLevel = row;\r\n\r\n          if (row) {\r\n            if (row.flow) {\r\n              vm.formData.flowList = row.flow.split('|');\r\n            }\r\n          }\r\n        }\r\n\r\n        function add() {\r\n          vm.formData = {};\r\n        }\r\n\r\n        /************\r\n        ****编辑框****\r\n        ************/\r\n        vm.removeFlow = removeFlow;\r\n        vm.addFlow = addFlow;\r\n\r\n        function addFlow() {\r\n          if (vm.flowText === '') {\r\n            return;\r\n          }\r\n\r\n          vm.formData.flowList = vm.formData.flowList || [];\r\n\r\n          vm.formData.flowList.push(vm.flowText);\r\n\r\n          // 置空 ng-model里的值\r\n          vm.flowText = '';\r\n        }\r\n\r\n        function removeFlow($index) {\r\n          vm.formData.flowList.splice($index, 1);\r\n        }\r\n\r\n        function save() {\r\n          // debugger;\r\n          var data = angular.extend({}, vm.formData);\r\n\r\n          data.flow = data.flowList ? data.flowList.join('|') : '';\r\n          // return;\r\n          levelService.save(data).then(function(response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('保存成功！', '提示');\r\n              initData();\r\n              vm.formData = {};\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n\r\n        function del(seqId) {\r\n          levelService.del(seqId).then(function (response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('已删除！', '提示');\r\n              initData();\r\n              //如果删除选中行，那么编辑数据清空\r\n              if(seqId == vm.formData.seqId){\r\n                  vm.formData = {};\r\n              }\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n    }\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('handleService', handleServiceFunc);\n\n  /** @ngInject */\n  function handleServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      saveReportDetail: saveReportDetail,\n      saveMeasure: saveMeasure,\n      saveRequirement: saveRequirement,\n      saveEstimate: saveEstimate,\n      deleteMeasure: deleteMeasure,\n      deleteRequirement: deleteRequirement,\n      deleteEstimate: deleteEstimate,\n      getReportDetail: getReportDetail,\n      getEventMeasures: getEventMeasures,\n      getEventRequirement: getEventRequirement,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [必填]\n     * @param  {[string]} reportCode [必填]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId, reportCode) {\n      return $http.post(apiHost.events.deleteEventReport, {\n          seqId: seqId,\n          reportCode: reportCode\n        })\n        .then(complete);\n    }\n\n    function getReportDetail(params) {\n      return $http.get(apiHost.events.getReportDetail, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function getEventMeasures(params) {\n      return $http.get(apiHost.events.getEventMeasures, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function getEventRequirement(params) {\n      return $http.get(apiHost.events.getEventRequirement, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveReportDetail(dataObj) {\n      return $http.post(apiHost.events.saveReportDetail, dataObj)\n        .then(complete);\n    }\n\n    function saveMeasure(dataObj) {\n      return $http.post(apiHost.events.saveEventMeasures, dataObj)\n        .then(complete);\n    }\n\n    function saveRequirement(dataObj) {\n      return $http.post(apiHost.events.saveEventRequirement, dataObj)\n        .then(complete);\n    }\n\n    // TODO 整改效果评估还没给接口\n    function saveEstimate(dataObj) {\n      return $http.post(apiHost.events.saveReportDetail, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n\n\n    function deleteRequirement(params) {\n      return $http.post(apiHost.events.deleteEventRequirement, params)\n        .then(complete);\n    }\n\n    function deleteMeasure(params) {\n      return $http.post(apiHost.events.deleteEventMeasures, params)\n        .then(complete);\n    }\n\n    function deleteEstimate(params) {\n      return $http.post(apiHost.events.deleteEventReport, params)\n        .then(complete);\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('MalCaseUpHandleController', handleControllerFun);\n\n  function handleControllerFun($rootScope, $scope, $log, $q, NgTableParams, $filter, security, levelService, modalService, toastr, fixService, deptService, handleService, filesService) {\n    var vm = this;\n    var formData = {};\n    var metaData = {};\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n    vm.open = open;\n    vm.del = del;\n\n    initData();\n\n    // 获取分级数据\n    function initData() {\n      fixService.getEventList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          // debugger;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    // TODO 日期格式处理  －>日期和时间已分开\n    function open(row) {\n      // 处理流程分解\n      // formData = angular.extend({}, row);\n      vm.selectedEvent = row;\n      initModalData(row).then(open_it);\n    }\n\n    function open_it() {\n      // debugger;\n      modalService.open({\n        templateUrl: 'app/malCaseUp/handle/handle.modal.html',\n        size: 'lg',\n        appendTo: angular.element('.handle-wrapper'),\n        data: {\n          formData: formData,\n          metaData: metaData\n        },\n        methodsObj: {\n          saveReportDetail: saveReportDetail,\n          // TODO 添加措施的方法\n          saveListItem: function(listName, itemData) {\n            var m_this = this;\n            var list_name = m_this.upFirstLetter(listName);\n            var data_temp = {};\n\n            list_name = list_name === 'Estimate' ? 'Measure' : list_name;\n\n            data_temp.userCode = security.getFromSession().user.userCode;\n\n            switch (listName) {\n              case 'requirement':\n                angular.extend(data_temp, {\n                  reportCode: m_this.formData.reportCode,\n                  seqId: m_this.formData[listName].seqId || null,\n                  reqCode: m_this.formData[listName] && m_this.formData[listName].reqCode || null,\n                  reqContent: m_this.formData[listName].reqContent,\n                  remark: ''\n                });\n                break;\n              case 'measure':\n                if (!m_this.formData[listName].meaTime) {\n                  data_temp.meaTime = moment().format('YYYY-MM-DD HH:mm:ss');\n                }\n                angular.extend(data_temp, {\n                  seqId: m_this.formData[listName].seqId || null,\n                  reportCode: m_this.formData.reportCode,\n                  meaCode: m_this.formData[listName] && m_this.formData[listName].meaCode || null,\n                  meaContent: m_this.formData[listName].meaContent,\n                  headUserCode: m_this.formData[listName].headUserCode\n                    // headUserName: m_this.formData[listName].headUserName\n                });\n                break;\n              case 'estimate':\n                angular.extend(data_temp, {\n                  seqId: m_this.formData.measure.seqId || null,\n                  reportCode: m_this.formData.reportCode,\n                  meaCode: m_this.formData.measure && m_this.formData.measure.meaCode || null,\n                  headUserCode: m_this.formData.measure.headUserCode,\n                  meaContent: m_this.formData.measure.meaContent,\n                  // headUserName: m_this.formData[listName].headUserName,\n                  resStatus: '',\n                  resDescribe: m_this.formData.measure.resDescribe\n                });\n                break;\n              default:\n                break;\n            }\n\n            if (!m_this.formData[listName + 'List']) {\n              m_this.formData[listName + 'List'] = [];\n            }\n\n            // return;\n\n            // 保存到服务器\n            handleService['save' + list_name](data_temp).then(function(response) {\n              if (response) {\n                toastr.success('保存成功', '提示');\n                // m_this.formData[listName].push(data_temp);\n                m_this.rootScope.$broadcast('refresh' + list_name, m_this.formData.reportCode, m_this);\n                m_this.formData[listName] = {};\n              }\n            });\n          },\n          removeListItem: function(params) {\n            var m_this = this;\n            var list_name = m_this.upFirstLetter(params.listName);\n            var _params;\n\n            m_this.formData[params.listName + 'List'].splice(params.index, 1);\n\n            switch (params.listName) {\n              case 'measure':\n                _params = {\n                  reportCode: m_this.reportCode,\n                  meaCode: params.meaCode\n                };\n                break;\n              case 'requirement':\n                _params = {\n                  seqId: params.seqId\n                };\n                break;\n              case 'estimate':\n                return;\n              default:\n                break;\n            }\n\n            handleService['delete' + list_name](_params).then(function(response) {\n              if (response) {\n                toastr.success('已删除', '提示');\n              }\n            });\n          },\n          fillItem: function(itemName, item) {\n            var m_this = this;\n\n            m_this.formData[itemName] = angular.extend({}, item);\n          },\n          resetForm: function(itemName) {\n            this.formData[itemName] = {};\n          },\n          upFirstLetter: function(str) {\n            return str.replace(/^\\w{1}/, function(match) {\n              return match.toUpperCase();\n            });\n          }\n        }\n      });\n    }\n\n    function initModalData(row) {\n      var reportCode = row.reportCode;\n      var deptCode = security.getFromSession().role.deptCode;\n\n      formData.reportCode = reportCode;\n\n      // 获取当前选择科室的员工列表\n\n      var getUserList = filesService.getUserList(deptCode);\n\n      var getEventRequirement = handleService.getEventRequirement({\n        reportCode: reportCode\n      });\n      var getEventMeasures = handleService.getEventMeasures({\n        reportCode: reportCode\n      });\n      var getReportDetails = handleService.getReportDetail({\n        reportCode: reportCode\n      });\n      // var getEventRequirement = handleService.getEventRequirement({reportCode: reportCode});\n      var _promise = $q.all([getEventRequirement, getEventMeasures, getReportDetails, getUserList]).then(function(response) {\n        var requirements = response[0].data.data.lst;\n        var measures = response[1].data.data.lst;\n        var reportDetails = {};\n        var userList = response[3];\n\n        // debugger\n\n        // TODO 数据是数组形式可能需要另外处理成对象key:value形式\n        response[2].data.data.lst.forEach(function(item) {\n          reportDetails[item.itemCode] = {\n            value: item.itemValue,\n            seqId: item.seqId\n          };\n        });\n\n        // 初始化弹层内的表单数据\n        metaData.malCaseInfo = row;\n        metaData.userList = userList;\n        formData.requirementList = requirements;\n        formData.measureList = measures;\n        formData.reportDetailList = reportDetails;\n        // return response;\n      });\n\n      return _promise;\n    }\n\n    function removeFlow($index) {\n      vm.formData.flowList.splice($index, 1);\n    }\n\n    function saveReportDetail() {\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.reportDetailList);\n      var data_arr = [];\n      var prop;\n      debugger;\n      // 将对象转成数组\n      for (prop in data) {\n        if (data.hasOwnProperty(prop)) {\n          data_arr.push({\n            reportCode: m_this.formData.reportCode,\n            itemCode: prop,\n            seqId: data[prop].seqId || null,\n            itemValue: data[prop].value\n          });\n        }\n      }\n\n\n      // return;\n      handleService.saveReportDetail(data_arr).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          vm.scope.$broadcast('resfreshReportDetail', m_this.formData.reportCode, m_this);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveMeasure() {\n      // debugger;\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.measures);\n      // return;\n      handleService.saveMeasure(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveRequirement() {\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.requirements);\n      // return;\n      handleService.saveRequirement(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          modalService.close('success');\n        }\n      });\n    }\n\n    function del(seqId, reportCode) {\n      levelService.del(seqId, reportCode).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    function getEventRequirement(event, reportCode, context) {\n      handleService.getEventRequirement({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.requirementList = response.data.data.lst;\n          // vm.rootScope.$digest();\n        }\n      });\n    }\n\n    function getEventMeasures(event, reportCode, context) {\n      handleService.getEventMeasures({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.measureList = response.data.data.lst;\n          // vm.rootScope.$digest();\n          // debugger;\n        }\n      });\n    }\n\n    function getReportDetail(event, reportCode, context) {\n      handleService.getReportDetail({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.reportDetailList = response.data.data.lst;\n          // vm.rootScope.$digest();\n          // debugger;\n        }\n      });\n    }\n\n    // 数据刷新\n    vm.scope.$on('refreshMeasure', getEventMeasures);\n    vm.scope.$on('refreshRequirement', getEventRequirement);\n    vm.scope.$on('refreshReportDetail', getReportDetail);\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('fixService', fixServiceFunc);\n\n  /** @ngInject */\n  function fixServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      save: save,\n      getEventList: getEventList,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.events.deleteEventLevel, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventLevel, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getEventList(params) {\n      var param = params || {};\n\n      param.userCode = security.getFromSession().user.userCode;\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.events.getEventList, {\n        params: param\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('nqms').controller('MalCaseUpElementController', function ($uibModal, $log) {\r\n        var vm = this;\r\n        vm.lst = [{elementCode:'1',elementName:'压疮大小',viewName : '压疮大小',groupName : '压疮信息',\r\n            elementType:'文本框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'2',elementName:'发生时间',viewName : '发生时间',groupName : '压疮信息',\r\n                elementType:'文本框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'3',elementName:'性别',viewName : '性别',groupName : '患者信息',\r\n                elementType:'单选框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'4',elementName:'医疗类型',viewName : '医疗类型',groupName : '患者信息',\r\n                elementType:'下拉框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'5',elementName:'年龄',viewName : '年龄',groupName : '患者信息',\r\n                elementType:'文本框',width:'3/12',remark:'备注',required:'是'}];\r\n    })\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('callService', callServiceFunc);\n\n  /** @ngInject */\n  function callServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      save: save,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [必填]\n     * @param  {[string]} reportCode [必填]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId, reportCode) {\n      return $http.post(apiHost.events.deleteEventReport, {\n          seqId: seqId,\n          reportCode: reportCode\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventReport, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpCallController',callControllerFun);\r\n\r\n    function callControllerFun($scope, $log, NgTableParams, $filter, security, moment, levelService, modalService, toastr, fixService, callService, deptService,typeService){\r\n        var vm = this;\r\n        var formData = {};\r\n        var metaData = {};\r\n\r\n        vm.save = save;\r\n        vm.open = open;\r\n        vm.del = del;\r\n        vm.add = add;\r\n\r\n        // mock数据\r\n        metaData.eventTypeList = [\r\n          {\r\n            code: 1,\r\n            name: '运送中病情变化'\r\n          }, {\r\n            code: 2,\r\n            name: '误吸'\r\n          }, {\r\n            code: 3,\r\n            name: '院内压疮'\r\n          }, {\r\n            code: 4,\r\n            name: '坠床'\r\n          }, {\r\n            code: 5,\r\n            name: '跌倒'\r\n          }\r\n        ];\r\n\r\n        initData();\r\n\r\n        // 获取不良事件数据\r\n        function initData() {\r\n          fixService.getEventList().then(function(response) {\r\n            if (response) {\r\n              vm.lst = response.data.data.lst;\r\n              // debugger;\r\n              vm.tableParams = new NgTableParams({}, {\r\n                dataset: vm.lst\r\n              });\r\n            }\r\n          });\r\n          typeService.getEventType().then(function(response){\r\n              if (response) {\r\n                  metaData.eventTypeList = response.data.data.lst;\r\n              }\r\n          });\r\n        }\r\n\r\n        // TODO 编辑时日期格式处理  －>日期和时间已分开\r\n        function open(row) {\r\n          // 处理流程分解\r\n          formData = angular.extend({}, row);\r\n          vm.selectedLevel = row;\r\n\r\n          metaData.deptList = deptService.deptList && deptService.deptList.belongedDepts;\r\n\r\n          // 设置弹层的科室数据\r\n          // TODO 对科室数据请求缓存\r\n          initLevelData().then(function () {\r\n            if (!metaData.deptList) {\r\n              deptService.getDeptData().then(function(response) {\r\n                var response_data = response;\r\n\r\n                if (response_data) {\r\n                  metaData.deptList = response_data.belongedDepts;\r\n\r\n                  if (metaData.deptList.length === 0) {\r\n                    delete response_data.belongedDepts;\r\n                    metaData.deptList = [response_data];\r\n                  }\r\n\r\n                  open_it();\r\n                }\r\n              });\r\n            } else {\r\n              open_it();\r\n            }\r\n          });\r\n\r\n          // debugger;\r\n          // 编辑时把时间转换成原始格式\r\n          formData.eventDate = new Date(row.eventTime);\r\n          formData.eventTime = new Date(row.eventTime);\r\n          // 事件等级\r\n          formData.level = {\r\n            damageLevel: row.damageLevel\r\n          };\r\n          // 科室转换\r\n          formData.dept = {\r\n            deptCode: row.deptCode,\r\n            deptName: row.deptName\r\n          };\r\n\r\n          // 事件类型转换\r\n          formData.eventType = {\r\n              eventTypeCode: row.eventTypeCode,\r\n              eventTypeName: row.eventTypeName\r\n          };\r\n\r\n          // 设置上报人为当前用户\r\n          formData.userCode = security.getFromSession().user.userCode;\r\n          formData.userCode = security.getFromSession().user.userName;\r\n\r\n          function open_it() {\r\n            modalService.open({\r\n              templateUrl: 'app/malCaseUp/call/call.modal.html',\r\n              size: 'lg',\r\n              ok: save,\r\n              data: {\r\n                formData: formData,\r\n                metaData: metaData\r\n              },\r\n              methodsObj: {\r\n                eventTimeCalender: function () {\r\n                  var m_this = this;\r\n\r\n                  m_this.eventTimeOpen = true;\r\n                },\r\n\r\n                setUser: function ($index) {\r\n                  var m_this = this;\r\n\r\n                  m_this.formData.flowList.splice($index, 1);\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        function initLevelData() {\r\n          return levelService.get().then(function(response) {\r\n            if (response) {\r\n              metaData.levelList = response.data.data.lst;\r\n            }\r\n          });\r\n        }\r\n\r\n        function add() {\r\n          vm.formData = {};\r\n        }\r\n\r\n        /************\r\n        ****编辑框****\r\n        ************/\r\n        vm.removeFlow = removeFlow;\r\n        vm.addFlow = addFlow;\r\n\r\n        function addFlow() {\r\n          if (vm.flowText === '') {\r\n            return;\r\n          }\r\n\r\n          vm.formData.flowList = vm.formData.flowList || [];\r\n\r\n          vm.formData.flowList.push(vm.flowText);\r\n\r\n          // 置空 ng-model里的值\r\n          vm.flowText = '';\r\n        }\r\n\r\n        function removeFlow($index) {\r\n          vm.formData.flowList.splice($index, 1);\r\n        }\r\n\r\n        function save(dataObj) {\r\n          // debugger;\r\n          var data = angular.extend({}, dataObj);\r\n          var date_temp;\r\n          var time_temp;\r\n          // 科室\r\n          data.deptName = data.dept.deptName;\r\n          // 事件发生时间\r\n          date_temp = moment(data.eventDate).format('YYYY-MM-DD');\r\n          time_temp = moment(data.eventTime).format('HH:mm:ss');\r\n          delete data.eventDate;\r\n          delete data.dept;\r\n\r\n          // 事件类型名称和code\r\n          data.eventTypeCode = angular.fromJson(data.eventType).eventTypeCode;\r\n          data.eventTypeName = angular.fromJson(data.eventType).eventTypeName;\r\n          delete data.eventType;\r\n          delete data.level;\r\n\r\n          data.eventTime = moment(date_temp + ' ' + time_temp).format('YYYY-MM-DD HH:mm:ss');\r\n          // debugger;\r\n          // return;\r\n          callService.save(data).then(function(response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('保存成功！', '提示');\r\n              initData();\r\n              vm.formData = {};\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n\r\n        function del(seqId, reportCode) {\r\n          callService.del(seqId, reportCode).then(function (response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('已删除！', '提示');\r\n              initData();\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n    }\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerTurnsRuleController', turnsRuleControllerFunc);\n\n  /** @ngInject */\n  function turnsRuleControllerFunc() {\n      var vm = this;\n      vm.lst = [{ruleIndex:'1',ruleInfo: '早班', start: '2016-04-08',end:'2016-06-08',valid:'是',user:'张三',remark:'怀孕'},\n          {ruleIndex:'2',ruleInfo: '早班', start: '2016-03-08',end:'2016-06-08',valid:'是',user:'李四',remark:'晚上培训'}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerTurnsController', turnsControllerFunc);\n\n  /** @ngInject */\n  function turnsControllerFunc() {\n      var vm = this;\n      vm.lst = [{name:'张三',group: '+1', d1: '早班',d2: '早班',d3: '晚班',d4: '夜班',d5:'年休',d6: '休息',d7: '夜班'},\n          {name:'李四',group: '+1', d1: '晚班',d2: '夜班',d3: '休息',d4: '夜班',d5:'夜班',d6: '早班',d7: '夜班'},\n          {name:'王五',group: '+2', d1: '夜班',d2: '晚班班',d3: '晚班',d4: '夜班',d5:'夜班',d6: '晚班',d7: '夜班'},\n          {name:'赵六',group: '+1', d1: '早班',d2: '早班',d3: '晚班',d4: '休息',d5:'晚班',d6: '夜班',d7: '夜班'},\n          {name:'朱七七',group: '0', d1: '早班',d2: '早班',d3: '休息',d4: '晚班',d5:'休息',d6: '早班',d7: '夜班'},\n          {name:'黑白白',group: '-1', d1: '早班',d2: '休息',d3: '休息',d4: '年假',d5:'早班',d6: '晚班',d7: '夜班'}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerStatisticsController', statisticsControllerFunc);\n\n  /** @ngInject */\n  function statisticsControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'测试一',bedNo: '01', group: 1},\n          {deptName:'测试一',bedNo: '02', group: 1},\n          {deptName:'测试一',bedNo: '03', group: 1},\n          {deptName:'测试一',bedNo: '04', group: 2},\n          {deptName:'测试一',bedNo: '05', group: 2},\n          {deptName:'测试一',bedNo: '06', group: 2}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerLeaveController', leaveControllerFunc);\n\n  /** @ngInject */\n  function leaveControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'测试一',name: '张三', group: 1,start:'2016-03-18 08',end:'2016-03-22 24',yy:'回家',status:'批准',remark:''},\n          {deptName:'测试一',name: '李四', group: 1,start:'2016-03-18 08',end:'2016-03-22 24',yy:'生病',status:'批准',remark:''},\n          {deptName:'测试一',name: '王五', group: 1,start:'2016-03-18 08',end:'2016-03-22 24',yy:'',status:'驳回',remark:'请写明原因'},\n          {deptName:'测试一',name: '赵六', group: 1,start:'2016-03-18 08',end:'2016-03-22 24',yy:'回家',status:'批准',remark:''},\n          {deptName:'测试一',name: '朱七七', group: 1,start:'2016-03-18 08',end:'2016-03-22 24',yy:'回家',status:'未处理',remark:''}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerEndemicAreaController', endemicAreaControllerFunc);\n\n  /** @ngInject */\n  function endemicAreaControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'张三',bedNo: '01', group: 1,level:'N3',yb:'是'},\n          {deptName:'李四',bedNo: '02', group: 1,level:'N3',yb:'是'},\n          {deptName:'王五',bedNo: '03', group: 1,level:'N2',yb:'否'},\n          {deptName:'赵六',bedNo: '04', group: 2,level:'N1',yb:'否'},\n          {deptName:'陈七',bedNo: '05', group: 2,level:'N2',yb:'否'},\n          {deptName:'孙八',bedNo: '06', group: 2,level:'N1',yb:'否'}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerClassesController', classesControllerFunc);\n\n  /** @ngInject */\n  function classesControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'测试一',index: 1, name: 'A',remark:'白班',start:'8',end:'16',persons:'5',yy:'N3'},\n          {deptName:'测试一',index: 2, name: 'a',remark:'白班',start:'16',end:'24',persons:'5',yy:''},\n          {deptName:'测试一',index: 3, name: 'N',remark:'晚班',start:'0',end:'8',persons:'5',yy:''},\n          {deptName:'测试一',index: 4, name: 'P',remark:'夜班',start:'0',end:'8',persons:'5',yy:'夜班准入'}];\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerBedController', bedControllerFunc);\n\n  /** @ngInject */\n  function bedControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'测试一',bedNo: '01', group: 1},\n          {deptName:'测试一',bedNo: '02', group: 1},\n          {deptName:'测试一',bedNo: '03', group: 1},\n          {deptName:'测试一',bedNo: '04', group: 2},\n          {deptName:'测试一',bedNo: '05', group: 2},\n          {deptName:'测试一',bedNo: '06', group: 2}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerAttemperController', attemperControllerFunc);\n\n  /** @ngInject */\n  function attemperControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'测试一',bedNo: '01', group: 1},\n          {deptName:'测试一',bedNo: '02', group: 1},\n          {deptName:'测试一',bedNo: '03', group: 1},\n          {deptName:'测试一',bedNo: '04', group: 2},\n          {deptName:'测试一',bedNo: '05', group: 2},\n          {deptName:'测试一',bedNo: '06', group: 2}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {},\n      replace: true,\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController($scope, $window, $log, $location, security) {\n      var vm = this;\n      var tabObjTemp = security.currentUser.tab;\n\n      vm.isActive = $scope.$parent.isActive;\n\n      vm.navData = security.getFromSession().nav;\n      /*vm.isExpand = function (name) {\n        var locationArr = $location.path().split('/');\n        var lastPath = locationArr[locationArr.length - 1];\n        var item = $.grep(vm.navData, function (navItem) {\n          return navItem['funUrl'] === name;\n        });\n\n        angular.forEach(item[0]['child'], function (subItem, i) {\n          if (subItem['funUrl'] === lastPath) return true;\n        })\n\n        // $log.info(lastPath);\n      }*/\n      /**\n       * [addToBread 点击导航项添加到tab标签]\n       * @param {[object]} $event [无]\n       */\n      vm.addToBread = function ($event) {\n        var nav_id = angular.element($event.currentTarget).data('id');\n        var nav_name = angular.element($event.currentTarget).data('name');\n        security.addToBreadcrumb(nav_id, nav_name);\n        // breadcrumbData.set(nav_id, nav_name);\n        $log.info('bread 服务', tabObjTemp);\n      }\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeHeader', cusHeaderFunc);\n\n  /** @ngInject */\n  function cusHeaderFunc() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/header/header.html',\n      scope: {},\n      replace: true,\n      controller: headerController,\n      controllerAs: 'hd',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function headerController($scope, $interval, $uibModal, moment, $window, $log, $location, security) {\n      var hd = this;\n\n\n      hd.openUserDialog = openUserDialog;\n      hd.openRoleDialog = openRoleDialog;\n      hd.logout = security.logout;\n\n      $interval(function() {\n        hd.time_now = moment().format('YYYY年MM月DD日 \tHH:mm:ss');\n      }, 1000);\n\n      hd.user = security.getFromSession().user;\n\n      function openUserDialog() {\n        var userModalInstance = $uibModal.open({\n          templateUrl: 'app/components/header/changeUser.tpl.html',\n          controller: 'ChangeUserController',\n          controllerAs: 'vm',\n          backdrop: 'static',\n          animation: false,\n          size: 'sm'\n        });\n      }\n\n      function openRoleDialog() {\n        var roleModalInstance = $uibModal.open({\n          templateUrl: 'app/components/header/changeRole.tpl.html',\n          controller: 'ChangeRoleController',\n          controllerAs: 'vm',\n          backdrop: 'static',\n          animation: false,\n          size: 'md'\n        });\n      }\n\n      $log.info(hd.user);\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (w5cValidatorProvider) {\n      w5cValidatorProvider.setRules({\n        loginName: {\n          required: \"用户名不能为空\",\n          pattern: \"用户名必须输入字母、数字、下划线\"\n        },\n        password: {\n          required: \"密码不能为空\",\n          minlength: \"密码长度不能小于{minlength}\",\n          maxlength: \"密码长度不能大于{maxlength}\"\n        }\n      })\n    })\n    .controller('ChangeUserController', changeUserControllerFunc);\n\n  function changeUserControllerFunc($uibModalInstance, $location, security, $log, moment, $window, $timeout, toastr) {\n    var vm = this;\n\n    vm.cancel = cancel;\n    vm.formData = {};\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.loginBtnStatus = {\n      title: '切换',\n      state: ''\n    };\n\n    vm.changeUser = function (data) {\n      var loginedUser = security.getFromSession().user;\n      $log.info(data);\n\n      vm.loginBtnStatus.title = '正在切换...';\n      vm.loginBtnStatus.state = 'disabled';\n\n      // 检查切换用户是否为当前登录用户\n      if (data.loginName === loginedUser.loginName) {\n        toastr.info('您切换的用户已是当前登录用户，无需切换～', '提示');\n        resetState();\n\n        return;\n      }\n\n      security.login(data).then(function (result) {\n        resetState();\n\n        if (result && result.data['code'] == '-1') {\n          return;\n        }\n\n        $uibModalInstance.dismiss('cancel');\n        $timeout(function () {\n          $location.path('/home');\n          $window.location.reload();\n        }, 2000)\n      }, resetState);\n    };\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    function resetState() {\n      vm.loginBtnStatus.title = '切换';\n      vm.loginBtnStatus.state = '';\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ChangeRoleController', changeRoleControllerFunc);\n\n  function changeRoleControllerFunc($uibModalInstance, $log, moment, $window, toastr, $scope, security) {\n    var vm = this;\n    var currentRole = security.getFromSession().role;\n    var userId = security.getFromSession().user.seqId;\n\n    vm.currentRole = security.getFromSession().role;\n\n    vm.cancel = cancel;\n    vm.formData = {};\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.roleBtnStatus = {\n      title: '切换',\n      state: ''\n    };\n\n    security.getUserRoleList({\n      userId: userId\n    }).then(function (response) {\n      vm.userRoleList = response.data.data;\n    });\n\n    vm.selectedRole = currentRole;\n\n    vm.showRole = function (roleObj) {\n      $log.info(roleObj);\n      vm.changedRole = roleObj;\n    };\n\n    vm.changeRole = function () {\n      currentRole = security.getFromSession().role;\n\n      if (!vm.changedRole) return;\n\n      vm.roleBtnStatus.title = '正在切换...';\n      vm.roleBtnStatus.state = 'disabled';\n\n      // 检查切换角色是否为当前角色\n      if (vm.changedRole.seqId === currentRole.seqId) {\n        toastr.info('您切换的角色已是当前登录的角色，无需切换～', '提示');\n\n        resetState();\n        return;\n      }\n\n      security.changeRole(vm.changedRole);\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    function resetState() {\n      vm.roleBtnStatus.title = '切换';\n      vm.roleBtnStatus.state = '';\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeBread', acmeBreadFunc);\n\n  /** @ngInject */\n  function acmeBreadFunc() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/breadcrumb/breadcrumb.html',\n      scope: {},\n      replace: true,\n      controller: breadController,\n      controllerAs: 'bc',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function breadController($scope, $interval, moment, $window, $log, $location, $state, security) {\n      var bc = this;\n      bc.isActive = $scope.isActive;\n\n      bc.tabTemp = security.currentUser.tab;\n\n      /*\n      关闭标签页\n       */\n      bc.removeTab = function ($event) {\n        // $log.info($event.currentTarget);\n        var id = angular.element($event.currentTarget).data('id');\n        var prev_li = angular.element($event.currentTarget).parents('li').prev();\n        var next_li = angular.element($event.currentTarget).parents('li').next();\n        var state_id;\n\n        // 关闭标签时，如果为当前标签，则路由跳转至前一标签，前一标签没有则跳转至后一标签，只有一个标签页时则跳转至首页；否则不处理跳转。\n        if (prev_li.length > 0) {\n          state_id = '.' + prev_li.find('a').data('id');\n        } else {\n          if (next_li.length > 0) {\n            state_id = '.' + next_li.find('a').data('id');\n          } else {\n            // 跳转至首页\n            state_id = '';\n          }\n        }\n\n        // 判别是否为当前标签\n        if (angular.element($event.currentTarget).parents('.tab-bread__item').hasClass('active')) {\n          $state.go('home' + state_id);\n        }\n\n        security.removeFromBreadcrumb(id);\n      };\n\n      /*\n      高亮显示标签页\n       */\n      bc.isActive = function (path) {\n        var pathLen = path.length;\n\n        return path === $location.path().substr(-pathLen, pathLen);\n      };\n\n      $log.info('tab:',bc.tab);\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n// getUserSysRoles\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('security', securityFunc);\n\n  function securityFunc(apiHost, $http, $log, $window, toastr, $q, $location, $timeout, $state) {\n    var service = {\n      currentUser: (function() {\n        return getFromSession() || {};\n      })(),\n      roleList: [],\n      changeRole: changeRole,\n      removeFromSession: removeFromSession,\n      resetUserInfo: resetUserInfo,\n      saveAtSession: saveAtSession,\n      getFromSession: getFromSession,\n      getUserRoleList: getUserRoleList,\n      getNavigation: getNavigation,\n      addToBreadcrumb: addToBreadcrumb,\n      removeFromBreadcrumb: removeFromBreadcrumb,\n      login: login,\n      logout: logout\n    };\n\n    return service;\n\n    // 更换角色\n    function changeRole(roleObj) {\n      // 根据角色code获取左侧导航数据 同时更新sessionStorage中的用户数据\n      getNavigation(roleObj).then(function(response) {\n        if (response.data.code === '0') {\n          toastr.success('正在切换角色...', '恭喜');\n          $state.go('home');\n\n          $timeout(function() {\n            $window.location.reload();\n          }, 2000);\n        } else {\n          toastr.error('网络或数据错误，请联系管理员～', '警告');\n        }\n      });\n    }\n\n    // 登录\n    function login(formData) {\n      var deferred = $q.defer();\n\n      return $http.post(apiHost.system.login, formData).then(function(result) {\n        var response_data = result.data.data;\n        var user_info;\n\n        if (result.data['code'] == '-1') {\n          toastr.error(result.data['msg']);\n          return result;\n        }\n\n        user_info = {\n          user: response_data.user,\n          nav: response_data.funs,\n          role: response_data.role,\n          tab: {}\n        };\n\n        service.saveAtSession('userInfo', user_info);\n\n        deferred.resolve(user_info);\n        $log.info(result);\n\n        // 登录成功后跳转至首页\n        toastr.success('登录成功！');\n        $location.path('/home');\n\n        service.currentUser = user_info;\n\n        service.saveAtSession('isLogined', true);\n      }, function(error) {\n        deferred.reject(error);\n      });\n\n      return deferred.promise;\n    }\n\n    // 退出系统\n    function logout() {\n      service.removeFromSession('isLogined');\n      service.removeFromSession('userInfo');\n      $location.path('/login');\n    }\n\n    // 根据用户角色获取导航菜单\n    function getNavigation(roleObj) {\n      var userInfo = service.getFromSession();\n\n      return $http.get(apiHost.system.getNavigation, {\n          params: {\n            roleCode: roleObj.roleCode,\n            userRoleId : roleObj.seqId\n          }\n        })\n        .then(function(response) {\n          // 更新session里的导航数据和角色数据，并置空标签页\n          if (response.data.code === '0') {\n            userInfo.nav = response.data.data;\n            userInfo.role = roleObj;\n            userInfo.tab = {};\n\n            saveAtSession('userInfo', userInfo);\n          }\n          return response;\n        });\n    }\n\n    // 重置sessionStorage数据\n    function resetUserInfo(userInfoObj) {\n      $window.sessionStorage.setItem('userInfo', angular.toJson(userInfoObj));\n    }\n\n    // 往sessionStorage里存数据\n    function saveAtSession(key, value) {\n      var to_save_value = value;\n\n      if (angular.isObject(value) || angular.isArray(value)) {\n        to_save_value = angular.toJson(value);\n      }\n\n      $window.sessionStorage.setItem(key, to_save_value);\n    }\n\n    // 从sessionStorage里取数据\n    function getFromSession(key) {\n      var _key = key;\n      // 如果key为空，默认取用户的数据，避免在其他模块多次写userinfo字符串\n      if (!key) {\n        _key = 'userInfo';\n      }\n\n      return angular.fromJson($window.sessionStorage.getItem(_key));\n    }\n\n    // 清空sessionStorage 的数据\n    function removeFromSession(key) {\n      if (typeof key !== 'string') {\n        throw 'key必须是字符串';\n      }\n\n      $window.sessionStorage.removeItem(key);\n    }\n\n    function addToBreadcrumb(key, value) {\n      service.currentUser.tab[key] = value;\n\n      resetUserInfo(service.currentUser);\n    }\n\n    function removeFromBreadcrumb(key) {\n      delete service.currentUser.tab[key];\n\n      resetUserInfo(service.currentUser);\n    }\n\n    // 获取当前用户的所有角色\n    function getUserRoleList(params) {\n      return $http.get(apiHost.system.getRoleList, {\n          params: params\n        })\n        .then(function(response) {\n          service.roleList = response.data.data;\n          if (response.data.code === '0') {\n            return response;\n          }\n        })\n        .catch(function(error) {\n          $log.error('获取角色失败', error);\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    // 响应拦截器\n    .factory('myHttpInterceptor', interceptorFunc);\n\n  /** @ngInject */\n  function interceptorFunc($log, $location, $window, $q, $injector) {\n    var toastr;\n    var isLogined = angular.fromJson($window.sessionStorage.getItem('isLogined'));\n\n    function initToastrIfNeed() {\n      if (toastr) {\n        return;\n      }\n      toastr = $injector.get('toastr');\n    }\n\n    return {\n      // 请求成功\n      request: function(config) {\n        $log.info('请求结果：' + config.url ,config);\n        initToastrIfNeed();\n\n        return config || $q.when(config);\n      },\n\n      // 请求失败\n      requestError: function(rejection) {\n        $log.info('请求失败：' + rejection.statusText ,rejection);\n        // 避免出现循环注入的错误\n        initToastrIfNeed();\n        toastr.error('请检查网络连接或联系服务器管理员！', '请求错误');\n        return $q.reject(rejection);\n      },\n\n      // 响应成功\n      response: function(response) {\n        var security = $injector.get('security');\n        $log.info('响应结果：' + response.config.url ,response);\n\n        if (response.data.code == -2) {\n          security.logout();\n        }\n\n        if (response.data.code == -1) {\n          initToastrIfNeed();\n          toastr.error(response.data.msg + '<br>错误码：-1', '操作不成功！');\n        }\n\n        return response || $q.when(response);\n      },\n\n      // 响应失败\n      responseError: function(rejection) {\n        $log.info('响应失败：' + rejection.statusText ,rejection);\n        // 避免出现循环注入的错误\n        initToastrIfNeed();\n        toastr.error('错误码：' + rejection.status + '<br> URL：' + (rejection.config && rejection.config.url || '') + '\\n ' + rejection.message + '请检查网络连接或联系服务器管理员！', '没有响应');\n\n        return $q.reject(rejection);\n      }\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('deptService', deptServiceFunc);\n\n  /** @ngInject */\n  /**\n   * [deptServiceFunc 科室数据]\n   * @param  {[Object]} $window [全局window对象]\n   * @return {[Object]}         [包涵接口和科室列表数据]\n   */\n  function deptServiceFunc($window, $http, apiHost, $log, toastr, security) {\n    var userRole = security.getFromSession()['role'];\n\n    var service = {\n      apiHost: apiHost,\n      getDeptData: getDeptData,\n      deptList: []\n    };\n\n    return service;\n\n    function getDeptData() {\n\n      return $http.get(apiHost.user.getDept, {\n        params: {\n          deptCode: userRole.deptCode\n        }\n      })\n        .then(getDeptListComplete)\n        .catch(getDeptListFailed);\n\n      function getDeptListComplete(response) {\n        if (response.data.code === '0') {\n          // 不传科室code时，获得全部科室数据\n          if (!userRole.deptCode) {\n            service.deptList = response.data.data;\n          }\n\n          return response.data.data;\n        } else {\n          $log.error('获取科室数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getDeptListFailed(error) {\n        $log.error('获取科室数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n// getUserSysRoles\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('modalService', modalServiceFunc);\n\n  function modalServiceFunc($uibModal, $uibModalStack) {\n    return {\n      open: function(options) {\n        $uibModal.open({\n          templateUrl: options.templateUrl,\n          size: options.size,\n          backdrop: 'static',\n          appendTo: options.appendTo,\n          animation: options.animation || true,\n          controller: 'ModalController',\n          controllerAs: 'vm',\n          resolve: {\n            initFn: function() {\n              return options.initFn;\n            },\n            ok: function() {\n              return options.ok;\n            },\n            data: function() {\n              if (options.data) {\n                return options.data;\n              }\n            },\n            methodsObj: function () {\n              if (options.methodsObj) {\n                return options.methodsObj;\n              }\n            }\n          }\n        });\n      },\n      close: function(reason) {\n        $uibModalStack.dismissAll(reason);\n      }\n    };\n  }\n})();\n\n(function (){\n    'use strict';\n\n    angular\n        .module('nqms')\n        .controller('ModalController',ModalControllerFunc);\n\n    function ModalControllerFunc($rootScope, $scope, $uibModalInstance, ok, data, methodsObj, initFn){\n      var vm = this;\n\n      vm.rootScope = $rootScope;\n      vm.scope = $scope;\n\n      // 预设的表单数据\n      vm.formData = data && data.formData;\n      // 预设的原始数据\n      vm.metaData = data && data.metaData;\n\n      // 在弹层中调用的事件栈\n      if (angular.isObject(methodsObj)) {\n        for (var prop in methodsObj) {\n          if (typeof methodsObj[prop] === 'function') {\n            vm[prop] = methodsObj[prop];\n          }\n        }\n      } else {\n        if (methodsObj) {\n          $log.error('methodsObj必须是对象!');\n        }\n      }\n\n      initFn && initFn(vm);\n\n      vm.ok = function() {\n        ok(vm.formData);\n      };\n\n      vm.cancel = function() {\n        $uibModalInstance.dismiss('cancel');\n      };\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('loading', loadingFunc);\n\n  /** @ngInject */\n  /**\n   * [loadingFunc 全局加载动画]\n   * @return {[object]} [指令对象]\n   */\n  function loadingFunc($http, $log) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/common/loading/loading.tpl.html',\n      link: loadingLinkFunc,\n      scope: {},\n      controller: function ($window, $log) {\n        var vm = this;\n\n        $log.info('windowWidth:' ,$window);\n\n        vm.loadingWidth = $window.innerWidth - 200;\n      },\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    function loadingLinkFunc(scope, elem, attrs) {\n      $log.info('scope', scope);\n      scope.isLoading = function() {\n        return $http.pendingRequests.length > 0;\n      };\n\n      scope.$watch(scope.isLoading, function(v) {\n        // $(elem).show();\n        if (v) {\n          elem[0].setAttribute('style', 'display: block');\n        } else {\n          elem[0].setAttribute('style', 'display: none');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($log, $rootScope, $scope, $uibModal, $location, $window, security) {\n    var vm = this;\n    var isLogined;\n\n    /*\n    高亮显示标签页\n     */\n    $scope.isActive = vm.isActive = function(path) {\n      var pathLen = 0;\n      var locationPath;\n\n      if (path === '') return false;\n\n      pathLen = path.length;\n      locationPath = $location.path().substr(-pathLen, pathLen);\n\n      return path === locationPath;\n    };\n\n    /*\n    当路由发生改变时，判别是否已登录，若非登录则跳转至登录页。\n     */\n    $rootScope.$on('$stateChangeStart',\n      function(event, toState, toParams, fromState, fromParams, options) {\n        isLogined = security.getFromSession('isLogined');\n        if (toState.name === 'login') {\n          if (isLogined) {\n            event.preventDefault();\n          }\n        }\n      });\n  }\n})();\n\n/**\n * Created by lin on 16/3/13.\n */\n\n/**\n * Created by lin on 16/3/13.\n */\n(function () {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (w5cValidatorProvider) {\n      w5cValidatorProvider.setRules({\n        loginName: {\n          required: \"用户名不能为空\",\n          pattern: \"用户名必须输入字母、数字、下划线\"\n        },\n        password: {\n          required: \"密码不能为空\",\n          minlength: \"密码长度不能小于{minlength}\",\n          maxlength: \"密码长度不能大于{maxlength}\"\n        }\n      });\n    })\n    .controller('LoginController', loginController);\n\n  /** @ngInject */\n  function loginController($log, security) {\n    var vm = this;\n\n    vm.loginBtnStatus = {\n      title: '登录',\n      state: ''\n    };\n\n    vm.login = function (data) {\n      vm.loginBtnStatus.title = '正在登录...';\n      vm.loginBtnStatus.state = 'disabled';\n\n      security.login(data)\n      .then(setLoginBtnstate, setLoginBtnstate);\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    function setLoginBtnstate() {\n      vm.loginBtnStatus.title = '登录';\n      vm.loginBtnStatus.state = '';\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $window, $location) {\n    var isLogined = angular.fromJson($window.sessionStorage.getItem('isLogined'));\n    \n    $log.debug('runBlock end');\n\n    if (!isLogined) {\n      $location.path('/login');\n      return;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n    $stateProvider\n      // .state('/', {\n      //   url: '/home',\n      //   templateUrl: 'app/main/main.html',\n      //   controller: 'MainController',\n      //   controllerAs: 'main'\n      // })\n      .state('home', {\n       url: '/home',\n       templateUrl: 'app/main/main.html',\n       controller: 'MainController',\n       controllerAs: 'main'\n       })\n      .state('home.files', {\n        url:'/files',\n        templateUrl: 'app/nursingWorkers/files/files.tpl.html',\n        controller: 'NursingWorkersFileController',\n        controllerAs: 'vm'\n      })\n      .state('home.internship', {\n        url:'/internship',\n        templateUrl: 'app/nursingWorkers/internship/internship.tpl.html',\n        controller: 'NursingWorkersInternshipController',\n        controllerAs: 'vm'\n      })\n      .state('home.graduate', {\n        url:'/graduate',\n        templateUrl: 'app/nursingWorkers/graduate/graduate.tpl.html',\n        controller: 'NursingWorkersGraduateController',\n        controllerAs: 'vm'\n      })\n      .state('home.technical', {\n        url:'/technical',\n        templateUrl: 'app/nursingWorkers/technical/technical.tpl.html',\n        controller: 'NursingWorkersTechnicalController',\n        controllerAs: 'vm'\n      })\n      .state('home.ulteriorly', {\n        url:'/ulteriorly',\n        templateUrl: 'app/nursingWorkers/ulteriorly/ulteriorly.tpl.html',\n        controller: 'NursingWorkersUlteriorlyController',\n        controllerAs: 'vm'\n      })\n      .state('home.nursingAttemper', {\n        url:'/attemper',\n        templateUrl: 'app/nursingWorkers/attemper/attemper.tpl.html',\n        controller: 'NursingWorkersAttemperController',\n        controllerAs: 'vm'\n      })\n      .state('home.nursingStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/nursingWorkers/statistics/statistics.tpl.html',\n        controller: 'NursingWorkersStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.bed', {\n        url:'/bed',\n        templateUrl: 'app/departmentManager/bed/bed.tpl.html',\n        controller: 'DepartmentManagerBedController',\n        controllerAs: 'vm'\n      })\n      .state('home.classes', {\n         url:'/classes',\n         templateUrl: 'app/departmentManager/classes/classes.tpl.html',\n         controller: 'DepartmentManagerClassesController',\n         controllerAs: 'vm'\n      })\n      .state('home.endemicArea', {\n        url:'/endemicArea',\n        templateUrl: 'app/departmentManager/endemicArea/endemicArea.tpl.html',\n        controller: 'DepartmentManagerEndemicAreaController',\n        controllerAs: 'vm'\n      })\n      .state('home.turns', {\n        url:'/turns',\n        templateUrl: 'app/departmentManager/turns/turns.tpl.html',\n        controller: 'DepartmentManagerTurnsController',\n        controllerAs: 'vm'\n      })\n      .state('home.turnsRule', {\n        url:'/turnsRule',\n        templateUrl: 'app/departmentManager/turnsRule/turnsRule.tpl.html',\n        controller: 'DepartmentManagerTurnsRuleController',\n        controllerAs: 'vm'\n      })\n      .state('home.leave', {\n        url:'/leave',\n        templateUrl: 'app/departmentManager/leave/leave.tpl.html',\n        controller: 'DepartmentManagerLeaveController',\n        controllerAs: 'vm'\n      })\n      .state('home.departmentAttemper', {\n        url:'/attemper',\n        templateUrl: 'app/departmentManager/attemper/attemper.tpl.html',\n        controller: 'DepartmentManagerAttemperController',\n        controllerAs: 'vm'\n      })\n      .state('home.departmentStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/departmentManager/statistics/statistics.tpl.html',\n        controller: 'DepartmentManagerStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.type', {\n        url:'/type',\n        templateUrl: 'app/malCaseUp/type/type.tpl.html',\n        controller: 'MalCaseUpTypeController',\n        controllerAs: 'vm'\n      })\n      .state('home.call', {\n        url:'/call',\n        templateUrl: 'app/malCaseUp/call/call.tpl.html',\n        controller: 'MalCaseUpCallController',\n        controllerAs: 'vm'\n      })\n      .state('home.level', {\n        url:'/level',\n        templateUrl: 'app/malCaseUp/level/level.tpl.html',\n        controller: 'MalCaseUpLevelController',\n        controllerAs: 'vm'\n      })\n      .state('home.handle', {\n        url:'/handle',\n        templateUrl: 'app/malCaseUp/handle/handle.tpl.html',\n        controller: 'MalCaseUpHandleController',\n        controllerAs: 'vm'\n      })\n      .state('home.handle.malCase', {\n        url:'/malCase',\n        templateUrl: 'app/malCaseUp/handle/malCaseInfo.tpl.html'\n      })\n      .state('home.handle.report', {\n        url:'/report',\n        templateUrl: 'app/malCaseUp/handle/report.tpl.html'\n      })\n      .state('home.handle.requirement', {\n        url:'/requirement',\n        templateUrl: 'app/malCaseUp/handle/requirement.tpl.html'\n      })\n      .state('home.handle.measures', {\n        url:'/measures',\n        templateUrl: 'app/malCaseUp/handle/measures.tpl.html'\n      })\n      .state('home.handle.estimate', {\n        url:'/estimate',\n        templateUrl: 'app/malCaseUp/handle/estimate.tpl.html'\n      })\n      .state('home.fix', {\n        url:'/fix',\n        templateUrl: 'app/malCaseUp/handle/handle.tpl.html',\n        controller: 'MalCaseUpHandleController',\n        controllerAs: 'vm'\n      })\n      .state('home.element', {\n        url:'/element',\n        templateUrl: 'app/malCaseUp/element/element.tpl.html',\n        controller: 'MalCaseUpElementController',\n        controllerAs: 'vm'\n      })\n      .state('malCaseUpStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/malCaseUp/statistics/statistics.tpl.html',\n        controller: 'MalCaseUpStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.roles', {\n        url:'/roles',\n        templateUrl: 'app/system/roles/roles.tpl.html',\n        controller: 'RolesController',\n        controllerAs: 'vm'\n      })\n      .state('home.users', {\n        url:'/users',\n        templateUrl: 'app/system/users/users.tpl.html',\n        controller: 'UsersController',\n        controllerAs: 'vm'\n      })\n      .state('login', {\n        url: '/login',\n        templateUrl: 'app/login/login.html'\n      });\n\n    $urlRouterProvider.otherwise('/login');\n    // $locationProvider.html5Mode(true);\n  }\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .constant('moment', moment)\n    .constant('apiHost', (function () {\n      //var path = 'http://127.0.0.1:8003/mnisqm';\n      var path = '/mnisqm';\n\n      return {\n        system: {\n          login: path + '/system/login',\n          getRoleList: path + '/system/getRoleLst',\n          getNavigation: path + '/system/getFunction'\n        },\n        user: {\n          getDept: path + '/user/getUserDepts'\n        },\n        files: {\n          getUserList: path + '/user/getUserList',\n          getUserDetailInfo: path + '/user/getUserDetailInfo',\n          add: path + '/user/insertObj',\n          delete: path + '/user/deleteUserInfo',\n          update: path + '/user/updateObj',\n          save : path + '/user/saveComUser'\n        },\n        roles: {\n          getNotHaveFunction: path + '/system/getNotHaveFunction',\n          getFunction: path + '/system/getFunction',\n          getHaveFunction: path + '/system/getHaveFunction',\n          updateRole: path + '/system/saveSysRoleFuns',\n          deleteRole: path + '/system/deleteRole',\n          saveRole: path + '/system/saveRole'\n        },\n        users: {\n          getUserList: path + '/system/getSysUserList',\n          deleteUser: path + '/system/deleteSysUser',\n          deleteUserRole: path + '/system/deleteSysUserRole',\n          saveUserRole: path + '/system/saveSysUserRole',\n          saveUser: path + '/system/saveSysUser'\n        },\n        events: {\n          //获取不良是类型\n          getEventTypeList:path +'/event/getEventTypeList',\n          getEventList: path + '/event/getEventList',\n          getEventReport: path + '/event/getEventReport',\n          saveEventReport: path + '/event/saveEventReport',\n          deleteEventReport: path + '/event/deleteEventReport',\n          getReportDetail: path + '/event/getReportDetail',\n          // 不良事件调查信息新增／修改\n          saveReportDetail: path + '/event/saveReportDetail',\n          // 不良事件要求新增／修改\n          saveEventRequirement: path + '/event/saveEventRequirement',\n          // 不良事件事件要求查询\n          getEventRequirement: path + '/event/getEventRequirement',\n          // 不良事件要求删除\n          deleteEventRequirement: path + '/event/deleteEventRequirement',\n          // 不良事件措施新增／修改\n          saveEventMeasures: path + '/event/saveEventMeasures',\n          // 不良事件措施查询\n          getEventMeasures: path + '/event/getEventMeasures',\n          // 不良事件措施删除\n          deleteEventMeasures: path + '/event/deleteEventMeasures',\n          // 不良事件报告关闭\n          // 待定\n          // 不良事件级别保存\n          saveEventLevel: path + '/event/saveEventLevel',\n          // 不良事件级别查询\n          getEventLevels: path + '/event/getEventLevels',\n          // 不良事件分级删除\n          deleteEventLevel: path + '/event/deleteEventLevel'\n        }\n      };\n    })());\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, w5cValidatorProvider, $httpProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.autoDismiss = true;\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-center';\n    // toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = false;\n    toastrConfig.preventOpenDuplicates = true;\n    toastrConfig.position = 'toast-top-center';\n    toastrConfig.iconClasses = {\n      error: 'toast-error',\n      info: 'toast-info',\n      success: 'toast-success',\n      warning: 'toast-warning'\n    };\n\n    // 验证 全局配置\n    w5cValidatorProvider.config({\n      blurTrig: true,\n      showError: true,\n      removeError: true\n    });\n\n    // 拦截器配置\n    // Add the interceptor to the $httpProvider.\n    $httpProvider.interceptors.push('myHttpInterceptor');\n  }\n\n})();\n\nangular.module(\"nqms\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/login/login.html\",\"<div class=\\\"center-bg\\\" ng-controller=\\\"LoginController as vm\\\"><div class=\\\"left-bg\\\"></div><div class=\\\"w\\\"><div class=\\\"login-wrapper\\\"><div class=\\\"logo-nurse\\\"></div><div class=\\\"login-box\\\"><div class=\\\"login-box__header\\\">用户登录</div><form class=\\\"login-box__form form-wrapper w5c-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"loginForm\\\"><div class=\\\"err-wrapper\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\"><span class=\\\"fa fa-user\\\"></span></label> <input autocomplete=\\\"off\\\" ng-pattern=\\\"/^[0-9A-Za-z_]{1,19}$/\\\" required=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.loginName\\\" name=\\\"loginName\\\" class=\\\"form-ctr input\\\" id=\\\"user-name\\\" placeholder=\\\"用户名\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\" for=\\\"password\\\"><span class=\\\"fa fa-lock\\\"></span></label> <input autocomplete=\\\"off\\\" type=\\\"password\\\" required=\\\"\\\" name=\\\"password\\\" ng-model=\\\"vm.formData.password\\\" class=\\\"form-ctr input\\\" id=\\\"password\\\" placeholder=\\\"密码\\\"></div><div class=\\\"submit-wrapper form-item\\\"><button w5c-form-submit=\\\"vm.login(vm.formData)\\\" class=\\\"btn login-btn btn-default {{vm.loginBtnStatus.state}}\\\">{{vm.loginBtnStatus.title}}</button></div><div class=\\\"reset-password\\\"><a href=\\\"javascript:;\\\">重置</a></div></form></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container-fluid full-screen\\\"><acme-header></acme-header><acme-navbar></acme-navbar><acme-bread></acme-bread><div class=\\\"main-body container-fluid\\\" ui-view=\\\"\\\"></div></div>\");\n$templateCache.put(\"app/role/role.tpl.html\",\"<!DOCTYPE html><html lang=\\\"en\\\"><head><meta charset=\\\"UTF-8\\\"><title>Title</title></head><body></body></html>\");\n$templateCache.put(\"app/common/loading/loading.tpl.html\",\"<div class=\\\"loading-wrapper\\\" ng-style=\\\"{width: vm.loadingWidth}\\\"><div class=\\\"spinner\\\"><div class=\\\"rect1\\\"></div><div class=\\\"rect2\\\"></div><div class=\\\"rect3\\\"></div><div class=\\\"rect4\\\"></div><div class=\\\"rect5\\\"></div></div></div>\");\n$templateCache.put(\"app/common/tpls/loading.tpl.html\",\"<div class=\\\"loading-wrapper\\\" ng-style=\\\"{width: vm.loadingWidth}\\\"><div class=\\\"spinner\\\"><div class=\\\"rect1\\\"></div><div class=\\\"rect2\\\"></div><div class=\\\"rect3\\\"></div><div class=\\\"rect4\\\"></div><div class=\\\"rect5\\\"></div></div></div>\");\n$templateCache.put(\"app/components/breadcrumb/breadcrumb.html\",\"<div class=\\\"tab-bread-wrapper\\\"><ul class=\\\"tab-bread\\\"><li ng-repeat=\\\"(id, name) in bc.tabTemp\\\"><div ui-sref=\\\".{{id}}\\\" ui-sref-active=\\\"active\\\" ng-class=\\\"{active: bc.isActive(\\'{{id}}\\')}\\\" class=\\\"tab-bread__item\\\" href=\\\"#\\\"><span>{{name}}</span> <a ng-click=\\\"bc.removeTab($event)\\\" data-id=\\\"{{id}}\\\" class=\\\"close-tab\\\" href=\\\"javascript:;\\\">×</a></div></li></ul></div>\");\n$templateCache.put(\"app/components/header/changeRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">切换角色</h5></div><div class=\\\"modal-body\\\">您的现有角色：<table class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th></th><th>角色编号</th><th>角色名称</th><th>所属部门</th></tr><tr ng-repeat=\\\"row in vm.userRoleList\\\" ng-class=\\\"{success: row.seqId === vm.currentRole.seqId, active: row.seqId === vm.selectedRole.seqId}\\\"><td><input id=\\\"{{row.seqId}}\\\" name=\\\"userRole\\\" ng-click=\\\"vm.showRole(row)\\\" type=\\\"radio\\\" value=\\\"{{row.seqId}}\\\" ng-model=\\\"vm.selectedRole.seqId\\\"></td><td data-title=\\\"\\'角色编号\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{row.roleCode}}</label></td><td data-title=\\\"\\'角色名称\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{row.roleName}}</label></td><td data-title=\\\"\\'所属部门\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{ row.deptName }}</label></td></tr></table></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.roleBtnStatus.state}}\\\" type=\\\"button\\\" {{vm.loginbtnstatus.state}}=\\\"\\\" ng-click=\\\"vm.changeRole()\\\">{{vm.roleBtnStatus.title}}</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/components/header/changeUser.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">切换用户</h5></div><form class=\\\"form w5c-form login-box__form change-user-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"changeUserForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\"><span class=\\\"fa fa-user\\\"></span></label> <input autocomplete=\\\"off\\\" ng-pattern=\\\"/^[0-9A-Za-z_]{1,19}$/\\\" required=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.loginName\\\" name=\\\"loginName\\\" class=\\\"form-ctr input\\\" id=\\\"user-name\\\" placeholder=\\\"用户名\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\" for=\\\"password\\\"><span class=\\\"fa fa-lock\\\"></span></label> <input autocomplete=\\\"off\\\" type=\\\"password\\\" required=\\\"\\\" name=\\\"password\\\" ng-model=\\\"vm.formData.password\\\" class=\\\"form-ctr input\\\" id=\\\"password\\\" placeholder=\\\"密码\\\"></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" {{vm.loginbtnstatus.state}}=\\\"\\\" w5c-form-submit=\\\"vm.changeUser(vm.formData)\\\">{{vm.loginBtnStatus.title}}</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/components/header/header.html\",\"<div class=\\\"header-top\\\"><div class=\\\"logo-wrapper pull-left\\\"><a href=\\\"/\\\" class=\\\"logo\\\"></a></div><div class=\\\"header-right pull-right\\\"><div class=\\\"header-item time-now\\\"><i class=\\\"fa fa-calendar\\\"></i> {{hd.time_now}}</div><div class=\\\"header-item messages\\\"><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"msg.isopen\\\"><button id=\\\"msg-button\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"fa fa-bell\\\"></i> 消息 <i class=\\\"fa fa-chevron-down\\\"></i></button><ul uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"msg-button\\\"><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li></ul></div></div><div class=\\\"header-item user\\\"><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"user.isopen\\\"><button id=\\\"user-button\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"fa fa-user\\\"></i> {{hd.user.loginName}} <span class=\\\"fa fa-chevron-down\\\"></span></button><ul uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"user-button\\\"><li><a href=\\\"javascript:;\\\"><i class=\\\"fa fa-exclamation-circle\\\"></i> 账号信息</a></li><li><a href=\\\"javascript:;\\\" ng-click=\\\"hd.openRoleDialog()\\\"><i class=\\\"fa fa-exchange\\\"></i> <span>切换角色</span></a></li><li><a href=\\\"javascript:;\\\" ng-click=\\\"hd.openUserDialog()\\\"><i class=\\\"fa fa-users\\\"></i> <span>切换用户</span></a></li><li><a ng-click=\\\"hd.logout()\\\" href=\\\"javascript:;\\\"><i class=\\\"fa fa-sign-out\\\"></i> <span>退出系统</span></a></li></ul></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<div class=\\\"left-nav\\\"><div class=\\\"nav-wrapper\\\"><uib-accordion class=\\\"nav-menu\\\"><uib-accordion-group panel-class=\\\"nav-menu_item\\\" ng-repeat=\\\"item in vm.navData\\\" data-title=\\\"{{item.funUrl}}\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><i class=\\\"fa fa-{{item.icoName}} nav-menu_item-icon\\\"></i> <span class=\\\"nav-menu_item-text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"nav-menu_sub-item\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ui-sref-active=\\\"active\\\" ng-class=\\\"{active: vm.isActive(\\'{{subItem.funUrl}}\\')}\\\" data-id=\\\"{{subItem.funUrl}}\\\" data-name=\\\"{{subItem.funName}}\\\" ng-click=\\\"vm.addToBread($event)\\\" ui-sref=\\\".{{subItem.funUrl}}\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div>\");\n$templateCache.put(\"app/departmentManager/attemper/attemper.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerAttemperController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>床位分组管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增床号</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'床号\\'\\\">{{row.bedNo}}</td><td data-title=\\\"\\'所属组\\'\\\">{{row.group}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/bed/bed.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerBedController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>床位分组管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增床号</button></div><div class=\\\"pull-right col-md-3\\\"><label>所属组:</label> <input> <button class=\\\"btn btn-xs btn-primary\\\">筛选</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'床号\\'\\\">{{row.bedNo}}</td><td data-title=\\\"\\'所属组\\'\\\">{{row.group}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/classes/classes.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerClassesController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-backward\\\"></i> <span>班次管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增班次</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'班次序号\\'\\\">{{row.index}}</td><td data-title=\\\"\\'部门名称\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'班次名称\\'\\\">{{row.name}}</td><td data-title=\\\"\\'描述\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'起始时间\\'\\\">{{row.start}}</td><td data-title=\\\"\\'结束时间\\'\\\">{{row.end}}</td><td data-title=\\\"\\'所需人数\\'\\\">{{row.persons}}</td><td data-title=\\\"\\'护士要求\\'\\\">{{row.yy}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/endemicArea/endemicArea.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerEndemicAreaController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>病区护理人员管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'姓名\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'工号\\'\\\">{{row.bedNo}}</td><td data-title=\\\"\\'所属护理组\\'\\\">{{row.group}}</td><td data-title=\\\"\\'护士级别\\'\\\">{{row.level}}</td><td data-title=\\\"\\'是否夜班准入\\'\\\">{{row.yb}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/leave.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerLeaveController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>请假管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'员工姓名\\'\\\">{{row.name}}</td><td data-title=\\\"\\'所属组\\'\\\">{{row.group}}</td><td data-title=\\\"\\'起始时间\\'\\\">{{row.start}}</td><td data-title=\\\"\\'结束时间\\'\\\">{{row.end}}</td><td data-title=\\\"\\'请假原因\\'\\\">{{row.yy}}</td><td data-title=\\\"\\'审批状态\\'\\\">{{row.status}}</td><td data-title=\\\"\\'备注\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-xs btn-primary\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/statistics/statistics.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerStatisticsController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>床位分组管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增床号</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'床号\\'\\\">{{row.bedNo}}</td><td data-title=\\\"\\'所属组\\'\\\">{{row.group}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/turns/turns.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerTurnsController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>排班管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增排班</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'员工姓名\\'\\\">{{row.name}}</td><td data-title=\\\"\\'2016-04-04(周一)\\'\\\">{{row.d1}}</td><td data-title=\\\"\\'2016-04-05(周二)\\'\\\">{{row.d2}}</td><td data-title=\\\"\\'2016-04-06(周三)\\'\\\">{{row.d3}}</td><td data-title=\\\"\\'2016-04-07(周四)\\'\\\">{{row.d4}}</td><td data-title=\\\"\\'2016-04-08(周五)\\'\\\">{{row.d5}}</td><td data-title=\\\"\\'2016-04-09(周六)\\'\\\">{{row.d6}}</td><td data-title=\\\"\\'2016-04-10(周七)\\'\\\">{{row.d7}}</td><td data-title=\\\"\\'出勤统计\\'\\\">{{row.group}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">重新排班</button> <button class=\\\"btn btn-xs btn-primary\\\">复制上周</button> <button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/turnsRule/turnsRule.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerTurnsRuleController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>排班规则管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增规则</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'规则序号\\'\\\">{{row.ruleIndex}}</td><td data-title=\\\"\\'规则信息\\'\\\">{{row.ruleInfo}}</td><td data-title=\\\"\\'起始时间\\'\\\">{{row.start}}</td><td data-title=\\\"\\'结束时间\\'\\\">{{row.end}}</td><td data-title=\\\"\\'是否有效\\'\\\">{{row.valid}}</td><td data-title=\\\"\\'对谁有效\\'\\\">{{row.user}}</td><td data-title=\\\"\\'说明\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-xs btn-primary\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-xs btn-primary\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/call/call.include.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">事件等级：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.damageLevel\\\"><select ng-change=\\\"vm.formData.damageLevel = (vm.metaData.levelList | filter:vm.formData.level.damageLevelName)[0].damageLevel\\\" data=\\\"\\\" class=\\\"form-controll input-sm\\\" ng-options=\\\"level.damageLevelName for level in vm.metaData.levelList track by level.damageLevel\\\" ng-model=\\\"vm.formData.level\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">上报科室：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.deptCode\\\"><select ng-change=\\\"vm.formData.deptCode = (vm.metaData.deptList | filter:vm.formData.dept.deptName)[0].deptCode\\\" data=\\\"\\\" class=\\\"form-controll input-sm\\\" ng-options=\\\"dept.deptName for dept in vm.metaData.deptList track by dept.deptCode\\\" ng-model=\\\"vm.formData.dept\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">发生时间：</label> <span class=\\\"input-group\\\"><input ng-model=\\\"vm.formData.eventDate\\\" type=\\\"text\\\" id=\\\"eventDate\\\" name=\\\"eventDate\\\" required=\\\"\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.eventTimeOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.eventTimeCalender()\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span><uib-timepicker ng-model=\\\"vm.formData.eventTime\\\" class=\\\"time-picker\\\" ng-change=\\\"vm.timeChanged()\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" show-meridian=\\\"ismeridian\\\"></uib-timepicker></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">上报人：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.userCode\\\"> <input readonly=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.userName\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-model=\\\"vm.formData.userRole\\\" value=\\\"当事人\\\" name=\\\"userRole\\\" type=\\\"radio\\\"> 当事人</label></div><div class=\\\"checkbox\\\"><label><input ng-model=\\\"vm.formData.userRole\\\" value=\\\"目击者\\\" name=\\\"userRole\\\" type=\\\"radio\\\"> 目击者</label></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">住院号：</label> <input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.patientHospNo\\\" type=\\\"text\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">床号：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientBedNo\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">姓名：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientName\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">性别：</label><select name=\\\"gender\\\" ng-model=\\\"vm.formData.patientGender\\\" class=\\\"form-control input-sm\\\"><option value=\\\"0\\\">男</option><option value=\\\"1\\\">女</option></select></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">年龄：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientAge\\\" class=\\\"form-control input-sm\\\" style=\\\"width:4em;\\\"> 岁</div><div class=\\\"form-group form-block\\\"><label class=\\\"col-sm-1 control-label\\\">诊断：</label><div class=\\\"col-sm-11\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.patientDiagnose\\\" class=\\\"form-control input-sm\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">事件类型：</label><div class=\\\"checkbox\\\" ng-repeat=\\\"eventType in vm.metaData.eventTypeList\\\"><label><input ng-model=\\\"vm.formData.eventType\\\" ng-checked=\\\"vm.formData.eventType.eventTypeCode == eventType.eventTypeCode\\\" type=\\\"radio\\\" value=\\\"{{eventType}}\\\" name=\\\"eventTypeCode\\\"> {{eventType.eventTypeName}}</label></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group form-block\\\"><label class=\\\"col-sm-2 control-label\\\">事件经过描述（5WH1）：</label><div class=\\\"col-sm-10\\\"><textarea type=\\\"text\\\" ng-model=\\\"vm.formData.eventDescribe\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">上报</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/call/call.modal.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写上报信息</h5></div><div ng-include=\\\"\\\" src=\\\"\\'app/malCaseUp/call/call.include.html\\'\\\"></div></div>\");\n$templateCache.put(\"app/malCaseUp/call/call.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-list-alt\\\"></i> <span>不良事件列表</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-upload\\\"></i> 事件上报</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'不良事件级别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.damageLevelName }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTypeName}}</td><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'患者住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'患者姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'患者性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientGenderName}}</td><td data-title=\\\"\\'患者年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientAge}}</td><td data-title=\\\"\\'患者主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientDiagnose}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventDescribe}}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.userName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/element/element.tpl.html\",\"<div ng-controller=\\\"MalCaseUpElementController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-indent\\\"></i> <span>不良元素元素管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增元素</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'元素编号\\'\\\">{{row.elementCode}}</td><td data-title=\\\"\\'元素名称\\'\\\">{{row.elementName}}</td><td data-title=\\\"\\'显示名称\\'\\\">{{row.viewName}}</td><td data-title=\\\"\\'压疮大小\\'\\\">{{row.groupName}}</td><td data-title=\\\"\\'元素类型\\'\\\">{{row.elementType}}</td><td data-title=\\\"\\'组件宽度\\'\\\">{{row.width}}</td><td data-title=\\\"\\'备注\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'是否必填\\'\\\">{{row.required}}</td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/fix/fix.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>角色信息</span><div class=\\\"pull-right\\\"></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserCode === row.code}\\\"><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'风险评估\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'等级\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'当事人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'处理措施\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'后果\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'改进措施\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'追踪\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/estimate.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li ng-click=\\\"vm.fillItem(\\'measure\\', measure)\\\" ng-class=\\\"{\\'active\\': vm.formData.measure.meaCode == measure.meaCode}\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"measure in vm.formData.measureList track by $index\\\">{{$index + 1}}. {{measure.meaContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{measure.userName}}</span></div><blockquote>{{!measure.resDescribe ? \\'暂无评估\\' : measure.resDescribe}}</blockquote></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-disabled=\\\"!vm.formData.measure.seqId\\\" ng-model=\\\"vm.formData.measure.resDescribe\\\" placeholder=\\\"请选择措施\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><button ng-click=\\\"vm.saveListItem(\\'estimate\\')\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.formData.measure.resDescribe === \\'\\' || !vm.formData.measure.resDescribe\\\">提交评估</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/handle.modal.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写上报信息</h5></div><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"text-center handle-nav\\\"><div class=\\\"text-center status-buttons\\\"><a ui-sref-active=\\\"active\\\" ui-sref=\\\".malCase\\\"><span>1</span> 不良事件信息</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".report\\\"><span>2</span> 调查处理</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".requirement\\\"><span>3</span> 整改要求</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".measures\\\"><span>4</span> 整改措施</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".estimate\\\"><span>5</span> 整改效果评估</a></div></div><div id=\\\"form-views\\\" class=\\\"well well-sm\\\" ui-view=\\\"\\\"></div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/handle.tpl.html\",\"<div class=\\\"col-md-12 handle-wrapper\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-list-alt\\\"></i> <span>不良事件列表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'不良事件级别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.damageLevelName }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTypeName}}</td><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'患者住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'患者姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'患者性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientGenderName}}</td><td data-title=\\\"\\'患者年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientAge}}</td><td data-title=\\\"\\'患者主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientDiagnose}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventDescribe}}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.userName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/malCaseInfo.tpl.html\",\"<div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">事件类型：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.eventTypeName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">不良事件级别：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.damageLevelName}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"name\\\" class=\\\"col-md-4 control-label\\\">上报科室：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.deptName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"control-label col-md-4\\\">发生时间：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.eventTime}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">上报人：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.userName}}（{{vm.metaData.malCaseInfo.userRole}}）</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"name\\\" class=\\\"col-md-4 control-label\\\">患者住院号：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientHospNo}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者床号：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientBedNo}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者姓名：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientName}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者性别：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientGenderName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">患者年龄：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientAge}}</div></div><div class=\\\"label-group col-md-12\\\"><label class=\\\"col-md-2 control-label\\\">患者诊断：</label><div class=\\\"col-md-10\\\">{{vm.metaData.malCaseInfo.patientDiagnose}}</div></div><div class=\\\"label-group col-md-12\\\"><label class=\\\"col-md-2 control-label\\\">事件经过描述：</label><div class=\\\"col-md-10\\\">{{vm.metaData.malCaseInfo.eventDescribe}}</div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/measures.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li ng-class=\\\"{\\'active\\': vm.formData.measure.meaCode == measure.meaCode}\\\" class=\\\"list-group-item\\\" ng-click=\\\"vm.fillItem(\\'measure\\', measure)\\\" ng-repeat=\\\"measure in vm.formData.measureList track by $index\\\">{{$index + 1}}. {{measure.meaContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{measure.userName}}</span> <span style=\\\"margin-right:1em;\\\">实施负责人：{{(vm.metaData.userList | filter:measure.headUserCode)[0].userName }}</span> <button class=\\\"btn btn-xs btn-danger\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeListItem({index: $index, listName: \\'measure\\', meaCode: measure.meaCode, reportCode: vm.formData.reportCode})\\\"><span class=\\\"fa fa-trash\\\"></span></button></div></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">措施实施负责人：</label><div class=\\\"col-sm-10\\\"><input type=\\\"hidden\\\" name=\\\"headUserCode\\\" ng-model=\\\"vm.formData.headUserCode\\\"><select class=\\\"form-controll input-sm\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.measure.headUserName\\\" ng-change=\\\"vm.formData.measure.headUserCode = (vm.metaData.userList | filter:vm.formData.measure.headUserName)[0].userCode\\\"><option ng-repeat=\\\"user in vm.metaData.userList\\\" ng-selected=\\\"user.userCode == vm.formData.measure.headUserCode\\\" value=\\\"{{user.userName}}\\\">{{user.userName}}</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">整改措施：</label><div class=\\\"col-sm-10\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-model=\\\"vm.formData.measure.meaContent\\\" placeholder=\\\"填写整改要求\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\"></label><div class=\\\"col-sm-10\\\"><button ng-click=\\\"vm.resetForm(\\'measure\\')\\\" class=\\\"btn btn-primary btn-sm\\\">清空</button> <button ng-click=\\\"vm.saveListItem(\\'measure\\')\\\" class=\\\"btn btn-success btn-sm\\\" ng-disabled=\\\"vm.formData.measure.meaContent === \\'\\' || !vm.formData.measure.meaContent\\\">保存</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/report.tpl.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><p>患者信息</p><table class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th style=\\\"width: 5em;\\\"></th><th class=\\\"text-center\\\">不良事件发生前</th><th class=\\\"text-center\\\">不良事件发生后</th></tr><tr><td>生命体征</td><td><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">BP</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.bp_before.value\\\" class=\\\"form-control input-sm\\\"> mmHg</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">P</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.p_before.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><br><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">R</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.r_before.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">T</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.t_before.value\\\" class=\\\"form-control input-sm\\\"> ℃</div></td><td><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">BP</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.bp_after.value\\\" class=\\\"form-control input-sm\\\"> mmHg</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">P</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.p_after.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><br><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">R</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.r_after.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">T</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.t_after.value\\\" class=\\\"form-control input-sm\\\"> ℃</div></td></tr><tr><td>精神状况</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_clear_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_clear_before.value\\\" type=\\\"checkbox\\\"> 神志清</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_directive_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_directive_before.value\\\" type=\\\"checkbox\\\"> 有定向力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_upset_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" tng-model=\\\"vm.formData.reportDetailList.psychosis_upset_before.value\\\" type=\\\"checkbox\\\"> 不安</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_undiscerned_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_undiscerned_before.value\\\" type=\\\"checkbox\\\"> 无定力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_halfComa_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_halfComa_before.value\\\" type=\\\"checkbox\\\"> 半昏迷</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_coma_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_coma_before.value\\\" type=\\\"checkbox\\\"> 昏迷</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_else_before.value\\\" class=\\\"input-sm form-control\\\"></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_clear_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_clear_after.value\\\" type=\\\"checkbox\\\"> 神志清</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_directive_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_directive_after.value\\\" type=\\\"checkbox\\\"> 有定向力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_upset_after.value = \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" tng-model=\\\"vm.formData.reportDetailList.psychosis_upset_after.value\\\" type=\\\"checkbox\\\"> 不安</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_undiscerned_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_undiscerned_after.value\\\" type=\\\"checkbox\\\"> 无定力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_halfComa_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_halfComa_after.value\\\" type=\\\"checkbox\\\"> 半昏迷</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_coma_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_coma_after.value\\\" type=\\\"checkbox\\\"> 昏迷</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_else_after.value\\\" class=\\\"input-sm form-control\\\"></div></div></td></tr><tr><td>运动</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_self_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_self_before.value\\\"> 独立</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_assist_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_assist_before.value\\\"> 辅助支持</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_limit_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_limit_before.value\\\"> 限制在床/轮椅</label></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_self_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_self_after.value\\\" type=\\\"checkbox\\\"> 独立</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_assist_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_assist_after.value\\\" type=\\\"checkbox\\\"> 辅助支持</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_limit_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_limit_after.value\\\" type=\\\"checkbox\\\"> 限制在床/轮椅</label></div></div></td></tr><tr><td>残疾</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_none_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_none_before.value\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_auditionDown_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_auditionDown_before.value\\\"> 听力下降</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_costive_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_costive_before.value\\\"> 行动不便</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_unclearEyed_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_unclearEyed_before.value\\\"> 视力缺损</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_else_before.value\\\" class=\\\"input-sm form-control\\\"></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_none_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_none_after.value\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_auditionDown_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_auditionDown_after.value\\\" type=\\\"checkbox\\\"> 听力下降</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_costive_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_costive_after.value\\\" type=\\\"checkbox\\\"> 行动不便</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_unclearEyed_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_unclearEyed_after.value\\\" type=\\\"checkbox\\\"> 视力缺损</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_else_after.value\\\" class=\\\"input-sm form-control\\\"></div></div></td></tr><tr><td>其他说明</td><td><textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.elsedeclare_before.value\\\" rows=\\\"2\\\" cols=\\\"50\\\" class=\\\"form-control input-sm\\\"></textarea></td><td><textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.elsedeclare_after.value\\\" rows=\\\"2\\\" cols=\\\"50\\\" class=\\\"form-control input-sm\\\"></textarea></td></tr></table></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生24小时内用药：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_none.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_none.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_diuretic.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_diuretic.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 利尿剂</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_nicotine.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_nicotine.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 尼古丁／镇静</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_high_handed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_high_handed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 抗高压</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_depressed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_depressed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 抗抑郁</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生前采取的特殊预防措施：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_none.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_none.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_accompany.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_accompany.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 陪伴</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_informed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_informed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 已告知</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_guardrail.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_guardrail.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 床边扶栏</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_motionDevice.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_motionDevice.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 动作设备</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_sign.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_sign.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 标识</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_closestool.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_closestool.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 床边便器</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_restlessLimit.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_restlessLimit.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 躁动约束</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_riskWarning.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_riskWarning.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 风险预警</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生地点：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_ward.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_ward.value\\\"> 病房</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_treatmentRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_treatmentRoom.value\\\"> 治疗室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_changeRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_changeRoom.value\\\"> 换药室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_handleRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_handleRoom.value\\\"> 处置室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_corridor.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_corridor.value\\\"> 走廊</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_washroom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_washroom.value\\\"> 厕所</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_outDepartment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_outDepartment.value\\\"> 病区外</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生原因：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value\\\"> 病患生理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_old.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_old.value\\\"> 年老体弱</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value\\\"> 久病不愈</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value\\\"> 病情恶化</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value\\\"> 病患心理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value\\\"> 情绪不稳</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value\\\"> 精神失常</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value\\\"> 人为因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value\\\"> 医疗材料故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value\\\"> 仪器故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value\\\"> 设备故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_yard.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_yard.value\\\"> 场地</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_environment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_environment.value\\\"> 环境因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value\\\"> 酒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value\\\"> 毒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value\\\"> 与制度有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value\\\"> 与流程有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_else.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件目击：</label><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_witness.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生的事实（包括不良事件发生经过，发生后治疗，发生后护理及发生后检查结果等情况，由当事人或发现者填写）：</label> <textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_truth.value\\\" rows=\\\"3\\\" cols=\\\"100\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveReportDetail()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/requirement.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li class=\\\"list-group-item\\\" ng-class=\\\"{\\'active\\': vm.formData.requirement.reqCode == requirement.reqCode}\\\" ng-click=\\\"vm.fillItem(\\'requirement\\', requirement)\\\" ng-repeat=\\\"requirement in vm.formData.requirementList track by $index\\\">{{$index + 1}}. {{requirement.reqContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{requirement.userName}}</span> <button class=\\\"btn btn-xs btn-danger\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeListItem({index: $index, listName: \\'requirement\\', seqId: requirement.seqId})\\\"><span class=\\\"fa fa-trash\\\"></span></button></div></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-model=\\\"vm.formData.requirement.reqContent\\\" placeholder=\\\"填写整改要求\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><button ng-click=\\\"vm.resetForm(\\'requirement\\')\\\" class=\\\"btn btn-primary btn-sm\\\">清空</button> <button ng-click=\\\"vm.saveListItem(\\'requirement\\')\\\" class=\\\"btn btn-success btn-sm\\\" ng-disabled=\\\"vm.formData.requirement.reqContent === \\'\\' || !vm.formData.requirement.reqContent\\\">保存</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/level/addLevel.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写分级标准信息</h5></div><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">等级</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.damageLevelName\\\" name=\\\"damageLevelName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">流程：</label><div class=\\\"col-sm-9\\\"><div class=\\\"flow-list\\\"><div ng-repeat=\\\"flowItem in vm.formData.flowList track by $index\\\"><i class=\\\"fa fa-level-down fa-flip-horizontal\\\" ng-if=\\\"!$last\\\"></i> <span>{{flowItem}}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></div></div><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"填写流程\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow($event)\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.flowText === \\'\\' || !vm.flowText\\\">添加流程</button></span></div></div></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/malCaseUp/level/level.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>填写不良事件上报表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedLevel.seqId === row.seqId}\\\"><td data-title=\\\"\\'等级\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{row.damageLevelName}}</td><td data-title=\\\"\\'等级描述\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{row.remark}}</td><td data-title=\\\"\\'处理流程\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.flow }}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>填写分级标准信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.add()\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-plus\\\"></i> 添加分级标准 <i class=\\\"fa fa-angle-right\\\"></i></button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">等级</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.damageLevelName\\\" name=\\\"damageLevelName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">流程：</label><div class=\\\"col-sm-9\\\"><div class=\\\"flow-list\\\"><div ng-repeat=\\\"flowItem in vm.formData.flowList track by $index\\\"><i class=\\\"fa fa-level-down fa-flip-horizontal\\\" ng-if=\\\"!$last\\\"></i> <span>{{flowItem}}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></div></div><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"填写流程\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.flowText === \\'\\' || !vm.flowText\\\">添加流程</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.save()\\\">保存</button></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/statistics/statistics.tpl.html\",\"<div ng-controller=\\\"MalCaseUpStatisticsController as vm\\\"><button ng-click=\\\"tableParams.sorting({})\\\" class=\\\"btn btn-default pull-left\\\">新增</button> <button ng-click=\\\"tableParams.sorting({})\\\" class=\\\"btn btn-danger pull-left\\\">修改</button><table ng-table=\\\"tableParams\\\" class=\\\"table table-striped table-bordered\\\"><thead><tr><td>事件名称</td><td>事件类型</td><td>伤害级别</td><td>事件描述</td></tr></thead><tbody style=\\\"background-color: white\\\"><tr ng-repeat=\\\"ls in vm.lst\\\"><td>{{ls.groupNo}}</td><td>{{ls.groupName}}</td><td>{{ls.bedNo}}</td><td>{{ls.remark}}</td></tr></tbody></table></div>\");\n$templateCache.put(\"app/malCaseUp/type/type.tpl.html\",\"<div class=\\\"col-md-12\\\" ng-controller=\\\"MalCaseUpTypeController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-send\\\"></i> <span>上报类型列表</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">增加类型</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'上报类型编号\\'\\\"><em>{{row.eventCode}}</em></td><td data-title=\\\"\\'上报类型名称\\'\\\">{{row.eventName}}</td><td data-title=\\\"\\'最后更新人\\'\\\">{{ row.lastUpdateCode }}</td><td data-title=\\\"\\'最后更新时间\\'\\\">{{row.lastUpdateTime}}</td></tr></table><loading></loading></div></div></div>\");\n$templateCache.put(\"app/nursingWorkers/files/files.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter: vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>人员数据</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" ng-disabled=\\\"!vm.selectedDept\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-user-plus\\\"></i> 添加员工</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserCode === row.userCode}\\\"><td data-title=\\\"\\'编号\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{row.userName}}</td><td data-title=\\\"\\'邮箱\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{ row.email }}</td><td data-title=\\\"\\'电话\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{row.phone}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row.userCode)\\\" uib-tooltip=\\\"编辑员工信息\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row)\\\" uib-tooltip=\\\"删除员工\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-if=\\\"vm.selectedUserCode\\\"><div class=\\\"panel-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工编号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.hisCode}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工姓名：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.userName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工性别：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.genderName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">出生日期：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.birthday | date: \\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">电话：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.phone}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">邮箱：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.email}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">到院日期：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.inductionDate | date: \\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工性质：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.natureName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">国籍：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.country}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">籍贯：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.nativePlace}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">民族：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.nation}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">证件类型：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.papersTypeName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">证件号码：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.papersNo}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">毕业学校：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.graduationSchool}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">所学专业：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.profession}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学位：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.degree}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学位证编号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.degreeNo}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学历：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.education}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学历证编号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.educationNo}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">毕业时间：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.graduationDate | date:\\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">外语水平：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.language}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">健康状态：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.health}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">批准时间：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceApproveDate | date:\\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">执业类型：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceTypeName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">执业证号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceType}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">有效期致：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceValidDate | date: \\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">政治面貌：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.politacalStatusName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">职称：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.technicalPost}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">职务：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.duty}}</span></div></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"职称职务\\\" active=\\\"tab.active\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>职务名称</th><th>审批单位</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserPosition\\\"><td class=\\\"text-left\\\">{{dtl.positionName}}</td><td class=\\\"text-left\\\">{{dtl.reviewUnit}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"护理信息\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>工作单位</th><th>工作部门</th><th>职务</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserNursing\\\"><td class=\\\"text-left\\\">{{dtl.reviewUnit}}</td><td class=\\\"text-left\\\">{{dtl.deptName}}</td><td class=\\\"text-left\\\">{{dtl.position}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"教育工作\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserEducation\\\"><td class=\\\"text-left\\\">{{dtl.educationType}}</td><td class=\\\"text-left\\\">{{dtl.leaningTime}}</td><td class=\\\"text-left\\\">{{dtl.courseTopics}}</td><td class=\\\"text-left\\\">{{dtl.courseContent}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"继续教育\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>主办单位</th><th>学习内容</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserTraining\\\"><td class=\\\"text-left\\\">{{dtl.professional}}</td><td class=\\\"text-left\\\">{{dtl.learnContent}}</td><td class=\\\"text-left\\\">{{dtl.diploma}}</td><td class=\\\"text-left\\\">{{dtl.speaker}}</td><td class=\\\"text-left\\\">{{dtl.creditType}}</td><td class=\\\"text-left\\\">{{dtl.credit}}</td><td class=\\\"text-left\\\">{{dtl.funding}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"学历信息\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserLearning\\\"><td class=\\\"text-left\\\">{{dtl.school}}</td><td class=\\\"text-left\\\">{{dtl.professional}}</td><td class=\\\"text-left\\\">{{dtl.diploma}}</td><td class=\\\"text-left\\\">{{dtl.diplomaNo}}</td><td class=\\\"text-left\\\">{{dtl.degree}}</td><td class=\\\"text-left\\\">{{dtl.degreeNo}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"家庭成员\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>亲属关系</th><th>姓名</th><th>联系电话</th><th>邮件</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserFamily\\\"><td class=\\\"text-left\\\">{{dtl.relation}}</td><td class=\\\"text-left\\\">{{dtl.name}}</td><td class=\\\"text-left\\\">{{dtl.phone}}</td><td class=\\\"text-left\\\">{{dtl.email}}</td></tr></table></uib-tab></uib-tabset></div></div></div>\");\n$templateCache.put(\"app/nursingWorkers/files/modal.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写用户信息</h5></div><div class=\\\"modal-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"hisCode\\\" class=\\\"col-sm-3 control-label\\\">员工编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.count.comUser.hisCode\\\" id=\\\"hisCode\\\" name=\\\"hisCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"userName\\\" class=\\\"col-sm-3 control-label\\\">姓名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.count.comUser.userName\\\" id=\\\"userName\\\" name=\\\"userName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"duty\\\" class=\\\"col-sm-3 control-label\\\">职务：</label><div class=\\\"col-sm-9\\\"><input id=\\\"duty\\\" name=\\\"duty\\\" ng-model=\\\"vm.count.comUser.duty\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"birthday\\\" class=\\\"col-sm-3 control-label\\\">出生日期：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"birthday\\\" name=\\\"birthday\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.birthdayOpen\\\" ng-model=\\\"vm.count.comUser.birthday\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'birthdayOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"papersType\\\" class=\\\"col-sm-3 control-label\\\">证件类型：</label><div class=\\\"col-sm-9\\\"><select id=\\\"papersType\\\" name=\\\"papersType\\\" ng-model=\\\"vm.count.comUser.papersType\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"身份证\\\"></option><option value=\\\"02\\\" label=\\\"居住证\\\"></option><option value=\\\"03\\\" label=\\\"签证\\\"></option><option value=\\\"04\\\" label=\\\"护照\\\"></option><option value=\\\"05\\\" label=\\\"军人证\\\"></option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"nature\\\" class=\\\"col-sm-3 control-label\\\">员工性质：</label><div class=\\\"col-sm-9\\\"><select id=\\\"nature\\\" name=\\\"nature\\\" ng-model=\\\"vm.count.comUser.nature\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"实习\\\"></option><option value=\\\"02\\\" label=\\\"试用\\\"></option><option value=\\\"03\\\" label=\\\"正式\\\"></option><option value=\\\"04\\\" label=\\\"离职\\\"></option><option value=\\\"05\\\" label=\\\"其他\\\"></option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"country\\\" class=\\\"col-sm-3 control-label\\\">国籍：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"country\\\" name=\\\"country\\\" ng-model=\\\"vm.count.comUser.country\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"nativePlace\\\" class=\\\"col-sm-3 control-label\\\">籍贯：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"nativePlace\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.nativePlace\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"graduationSchool\\\" class=\\\"col-sm-3 control-label\\\">毕业学校：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"graduationSchool\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.graduationSchool\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"degree\\\" class=\\\"col-sm-3 control-label\\\">学分类型：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"degree\\\" name=\\\"degree\\\" ng-model=\\\"vm.count.comUser.degree\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"education\\\" class=\\\"col-sm-3 control-label\\\">学历：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"education\\\" name=\\\"education\\\" ng-model=\\\"vm.count.comUser.education\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"language\\\" class=\\\"col-sm-3 control-label\\\">外语水平：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"language\\\" name=\\\"language\\\" ng-model=\\\"vm.count.comUser.language\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"health\\\" class=\\\"col-sm-3 control-label\\\">健康状态：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"health\\\" name=\\\"health\\\" ng-model=\\\"vm.count.comUser.health\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceApproveDate\\\" class=\\\"col-sm-3 control-label\\\">执业批准时间：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"practiceApproveDate\\\" name=\\\"practiceApproveDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.practiceApproveDateIsOpen\\\" ng-model=\\\"vm.count.comUser.practiceApproveDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'practiceApproveDateIsOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"politacalStatus\\\" class=\\\"col-sm-3 control-label\\\">政治面貌：</label><div class=\\\"col-sm-9\\\"><select id=\\\"politacalStatus\\\" name=\\\"politacalStatus\\\" ng-model=\\\"vm.count.comUser.politacalStatus\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"党员\\\"></option><option value=\\\"02\\\" label=\\\"团员\\\"></option><option value=\\\"03\\\" label=\\\"公民\\\"></option><option value=\\\"04\\\" label=\\\"其他\\\"></option></select></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"male\\\" class=\\\"col-sm-3 control-label\\\">性别：</label><div class=\\\"col-sm-9\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.count.comUser.gender\\\" checked=\\\"\\\" id=\\\"male\\\" value=\\\"1\\\"> 男</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.count.comUser.gender\\\" id=\\\"female\\\" value=\\\"0\\\"> 女</label></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">邮箱：</label><div class=\\\"col-sm-9\\\"><input id=\\\"email\\\" class=\\\"form-control input-sm\\\" name=\\\"email\\\" ng-model=\\\"vm.count.comUser.email\\\" type=\\\"email\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"phone\\\" class=\\\"col-sm-3 control-label\\\">电话：</label><div class=\\\"col-sm-9\\\"><input id=\\\"phone\\\" class=\\\"form-control input-sm\\\" name=\\\"phone\\\" ng-model=\\\"vm.count.comUser.phone\\\" type=\\\"tel\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"inductionDate\\\" class=\\\"col-sm-3 control-label\\\">到院日期：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"inductionDate\\\" name=\\\"inductionDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.inductionDateOpen\\\" ng-model=\\\"vm.count.comUser.inductionDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'inductionDateOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"papersNo\\\" class=\\\"col-sm-3 control-label\\\">证件号码：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"papersNo\\\" name=\\\"papersNo\\\" ng-model=\\\"vm.count.comUser.papersNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"nation\\\" class=\\\"col-sm-3 control-label\\\">民族：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"nation\\\" name=\\\"nation\\\" ng-model=\\\"vm.count.comUser.nation\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"profession\\\" class=\\\"col-sm-3 control-label\\\">所学专业：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"profession\\\" name=\\\"profession\\\" ng-model=\\\"vm.count.comUser.profession\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"educationNo\\\" class=\\\"col-sm-3 control-label\\\">学历证书编号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"educationNo\\\" name=\\\"educationNo\\\" ng-model=\\\"vm.count.comUser.educationNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"graduationDate\\\" class=\\\"col-sm-3 control-label\\\">毕业时间：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"graduationDate\\\" name=\\\"graduationDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.graduationDateOpen\\\" ng-model=\\\"vm.count.comUser.graduationDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'graduationDateOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"degreeNo\\\" class=\\\"col-sm-3 control-label\\\">学分：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"degreeNo\\\" name=\\\"degreeNo\\\" ng-model=\\\"vm.count.comUser.degreeNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceType\\\" class=\\\"col-sm-3 control-label\\\">执业类型：</label><div class=\\\"col-sm-9\\\"><select id=\\\"practiceType\\\" name=\\\"practiceType\\\" ng-model=\\\"vm.count.comUser.practiceType\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"医师\\\"></option><option value=\\\"02\\\" label=\\\"护士\\\"></option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceNo\\\" class=\\\"col-sm-3 control-label\\\">执业证号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"practiceNo\\\" name=\\\"practiceNo\\\" ng-model=\\\"vm.count.comUser.practiceNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceValidDate\\\" class=\\\"col-sm-3 control-label\\\">执业有效期致：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"practiceValidDate\\\" name=\\\"practiceValidDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.practiceValidDateIsOpen\\\" ng-model=\\\"vm.count.comUser.practiceValidDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'practiceValidDateIsOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"technicalPost\\\" class=\\\"col-sm-3 control-label\\\">职称：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"technicalPost\\\" name=\\\"technicalPost\\\" ng-model=\\\"vm.count.comUser.technicalPost\\\" class=\\\"form-control input-sm\\\"></div></div></div></div><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label> <button data-type=\\\"comUser\\\" w5c-form-submit=\\\"vm.save(\\'comUser\\', $event)\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></div></div></form></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"职称职务\\\" disable=\\\"!vm.accessible\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline comUserPosition-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"comUserPositionForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>职称</th><th>审批单位</th><th>开始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserPosition track by $index\\\"><td><input class=\\\"form-control input-sm\\\" required=\\\"\\\" name=\\\"positionName\\\" ng-model=\\\"item.positionName\\\" placeholder=\\\"在职职称\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" name=\\\"reviewUnit\\\" required=\\\"\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.reviewUnit\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserPosition_startDate_{{$index}}\\\" required=\\\"\\\" name=\\\"comUserPositionStartDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" on-open-focus=\\\"true\\\" id=\\\"comUserPosition_endDate_{{$index}}\\\" required=\\\"\\\" name=\\\"comUserPositionEndDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserPosition\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserPosition\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加职称</button> <button data-type=\\\"comUserPosition\\\" w5c-form-submit=\\\"vm.save(\\'comUserPosition\\', $event)\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"护理信息\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserNursing-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserNursingForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>工作单位</th><th>单位级别</th><th>所属部门</th><th>职务</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserNursing\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.reviewUnit\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.unitLevel\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.deptName\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.position\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserNursing_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserNursing_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserNursing\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserNursing\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加教育信息</button> <button data-type=\\\"comUserNursing\\\" w5c-form-submit=\\\"vm.save(\\'comUserNursing\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"教育工作\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserEducation-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserEducationForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserEducation\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.educationType\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.leaningTime\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.courseTopics\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.courseContent\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserEducation_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserEducation_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserEducation\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserEducation\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加教育信息</button> <button data-type=\\\"comUserEducation\\\" ng-click=\\\"vm.save(\\'comUserEducation\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"继续教育\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserTraining-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserTrainingForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学习内容</th><th>主办单位</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>描述</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserTraining\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.learnContent\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.professional\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 3em;\\\" ng-model=\\\"item.diploma\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.speaker\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.creditType\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 4em;\\\" ng-model=\\\"item.credit\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 4em;\\\" ng-model=\\\"item.funding\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.describe\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserTraining_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserTraining_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserTraining\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserTraining\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加继续教育</button> <button data-type=\\\"comUserTraining\\\" ng-click=\\\"vm.save(\\'comUserTraining\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"学历信息\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserLearning-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserLearningForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>描述</th><th>开始时间</th><th>结束时间</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserLearning\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.school\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.professional\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.diploma\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.diplomaNo\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.degree\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.degreeNo\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.describe\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserLearning_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserLearning_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserLearning\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserLearning\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加学历</button> <button data-type=\\\"comUserLearning\\\" ng-click=\\\"vm.save(\\'comUserLearning\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"家庭成员\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal comUserFamily-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserFamilyForm\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>亲属关系</th><th>姓名</th><th>联系电话</th><th>邮件</th><th>备注</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserFamily\\\"><td><input type=\\\"hidden\\\" ng-model=\\\"item.userCode\\\" ng-value=\\\"vm.comUser.userCode\\\"> <input class=\\\"form-control input-sm\\\" ng-model=\\\"item.relation\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.name\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.phone\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.email\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.removeItem(\\'comUserFamily\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserFamily\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加成员</button> <button data-type=\\\"comUserFamily\\\" ng-click=\\\"vm.save(\\'comUserFamily\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab></uib-tabset></div></div>\");\n$templateCache.put(\"app/system/roles/addRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.roleName\\\" id=\\\"roleName\\\" name=\\\"roleName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/system/roles/roles.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>角色列表</span></div><div class=\\\"panel-body list\\\"><ul class=\\\"sublist\\\"><li ng-repeat=\\\"item in vm.roleData\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': item.roleCode === vm.roleDetail.roleCode}\\\"><a ng-click=\\\"vm.load(item)\\\" data-role-code=\\\"{{item.roleCode}}\\\" class=\\\"sublist__item\\\">{{item.roleName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>角色信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\">添加角色</button></div></div><div class=\\\"panel-body\\\"><form data-role-id=\\\"{{vm.roleDetail.seqId}}\\\" class=\\\"form form-horizontal w5c-form role-edit-form change-user-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"roleEditForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"roleCode\\\" class=\\\"col-sm-3 control-label\\\">角色编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" ng-model=\\\"vm.roleDetail.roleCode\\\" id=\\\"roleCode\\\" name=\\\"roleCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"roleName\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.roleDetail.roleName\\\" id=\\\"roleName\\\" name=\\\"roleName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" ng-disabled=\\\"\\\" w5c-form-submit=\\\"vm.edit()\\\">保存</button> <button class=\\\"btn btn-sm btn-danger\\\" type=\\\"button\\\" ng-disabled=\\\"\\\" ng-click=\\\"vm.del()\\\">删除</button></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"remark\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" id=\\\"remark\\\" name=\\\"remark\\\" ng-model=\\\"vm.roleDetail.remark\\\"></textarea></div></div></div></div><div class=\\\"navgation-edition container-fluid\\\" ng-if=\\\"vm.roleDetail\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-danger\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>未添加的功能</span></div><uib-accordion class=\\\"list-accordion\\\" close-others=\\\"false\\\"><uib-accordion-group ng-repeat=\\\"item in vm.notHaveList\\\" panel-class=\\\"list__title\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><span class=\\\"dept-list__text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"dept-sublist\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ng-click=\\\"vm.navExchange(item, subItem, $parent.$index, $index, \\'add\\')\\\" class=\\\"sublist__item\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div><div class=\\\"col-md-2 exchange-icon\\\"><div class=\\\"text-center\\\"><i class=\\\"fa fa-exchange\\\"></i></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-success\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>已添加的功能</span></div><uib-accordion class=\\\"list-accordion\\\" close-others=\\\"false\\\"><uib-accordion-group ng-repeat=\\\"item in vm.hadList\\\" panel-class=\\\"list__title\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><span class=\\\"dept-list__text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"dept-sublist\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ng-click=\\\"vm.navExchange(item, subItem, $parent.$index, $index, \\'remove\\')\\\" class=\\\"sublist__item\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/system/users/addExistRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">编辑用户角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-options=\\\"role.roleName for role in vm.metaData.roleList track by role.roleCode\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.role\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">所属科室：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-options=\\\"dept.deptName for dept in vm.metaData.deptList track by dept.deptCode\\\" name=\\\"dept\\\" ng-model=\\\"vm.formData.dept\\\"></select></div></div></div></div></form></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.roleBtnStatus.state}}\\\" type=\\\"button\\\" ng-click=\\\"vm.formData = {data: [{roleCode:vm.formData.role.roleCode,deptCode: vm.formData.dept.deptCode, userId: vm.metaData.currentUser.seqId}]}; vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/system/users/addUser.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">所属部门：</label><div class=\\\"col-sm-9\\\"><input type=\\\"hidden\\\" name=\\\"deptCode\\\" ng-model=\\\"vm.formData.deptCode\\\"> <input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.deptName\\\" readonly=\\\"\\\" id=\\\"deptCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">用户姓名：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.userName\\\" ng-change=\\\"vm.formData.userCode = (vm.metaData.userList | filter:vm.formData.userName)[0].userCode\\\"><option ng-repeat=\\\"user in vm.metaData.userList\\\" value=\\\"{{user.userName}}\\\">{{user.userName}}</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">用户编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.userCode\\\" id=\\\"userCode\\\" readonly=\\\"\\\" name=\\\"userCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">登录名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.loginName\\\" id=\\\"loginName\\\" name=\\\"loginName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">密码：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.password\\\" id=\\\"password\\\" name=\\\"password\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/system/users/users.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><uib-accordion class=\\\"list-accordion\\\"><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode, vm.deptData.deptName)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter:vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode, subItem.deptName)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></uib-accordion></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>用户信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\" ng-disabled=\\\"!vm.selectedDept\\\">添加用户</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': row.userCode === vm.selectedUser.userCode}\\\" ng-click=\\\"vm.showRole(row)\\\"><td data-title=\\\"\\'员工编号\\'\\\">{{row.userCode}}</td><td data-title=\\\"\\'用户姓名\\'\\\">{{row.userName}}</td><td data-title=\\\"\\'登录名\\'\\\">{{row.loginName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" uib-tooltip=\\\"编辑用户信息\\\" ng-click=\\\"vm.open(row)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除用户\\\" ng-click=\\\"vm.del(row.seqId)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-if=\\\"vm.selectedUser\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>用户角色</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.openRole()\\\" class=\\\"btn btn-primary btn-xs\\\" ng-disabled=\\\"!vm.selectedDept\\\">添加现有角色</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.roleTableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'角色编号\\'\\\">{{row.roleCode}}</td><td data-title=\\\"\\'所属部门\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'角色名称\\'\\\">{{row.roleName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除这个角色\\\" ng-click=\\\"vm.delUserRole(row.seqId)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");}]);"],"sourceRoot":"/source/"}