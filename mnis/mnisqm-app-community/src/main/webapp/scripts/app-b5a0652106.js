!function(){"use strict";angular.module("nqms",["ngLocale","ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","toastr","w5c.validator","ngTable"])}(),function(){"use strict";function t(t,e,a,l,s,o){function n(t){function s(t){l.error("获取用户数据失败！\n"+angular.toJson(t.data,!0))}return a.get(e.users.getUserList,{params:{deptCode:t}}).then(m)["catch"](s)}function r(t){return a.post(e.users.deleteUser,{seqId:t}).then(m)}function i(t){return a.post(e.users.saveUser,t).then(m)}function d(t){return a.post(e.users.saveUserRole,t).then(m)}function c(t){return a.post(e.users.deleteUserRole,t).then(m)}function m(t){return"0"===t.data.code?t:void 0}var p={getUserList:n,deleteUser:r,save:i,saveUserRole:d,deleteUserRole:c};return p}t.$inject=["$window","apiHost","$http","$log","$q","toastr"],angular.module("nqms").factory("usersService",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n,r,i,d){function c(t,a){h.selectedDept=t,h.selectedUser=!1,y.formData={deptCode:t,deptName:a},n.getUserList(t).then(function(t){"0"===t.data.code&&(h.tableParams=new s({},{dataset:t.data.data}))}),r.getUserList(t).then(function(t){t&&(y.metaData.userList=t,e.info(t))})}function m(t){if(t)y.formData=angular.extend({},y.formData,t);else for(var e in y.formData)y.formData.hasOwnProperty(e)&&"deptCode"!==e&&"deptName"!==e&&delete y.formData[e];i.open("app/system/users/addUser.tpl.html","md",b,y)}function p(t){var e="app/system/roles/addRole.tpl.html";t?(w.formData=angular.extend({},w.formData,t),i.open(e,"md",b,w)):(e="app/system/users/addExistRole.tpl.html",d.getUserRoleList({userId:d.currentUser.user.seqId}).then(function(t){w.metaData.roleList=t.data.data,w.metaData.currentUser=h.selectedUser,w.metaData.deptList=angular.extend({},[y.formData]),w.metaData.hadRoleList=h.userRoleList.map(function(t){return t.roleCode}),i.open(e,"md",v,w)}))}function u(t){n.deleteUser(t).then(function(t){t&&"0"===t.data.code&&(o.success("删除成功！","提示"),c(y.formData.deptCode,y.formData.deptName),i.close("success"))})}function b(t){n.save(t).then(function(t){t&&"0"===t.data.code&&(o.success("已保存！","提示"),c(y.formData.deptCode,y.formData.deptName),i.close("success"))})}function v(t){n.saveUserRole(t).then(function(t){t&&"0"===t.data.code&&(o.success("添加成功！","提示"),g(h.selectedUser),i.close("success"))})}function g(t){h.selectedUser=t,d.getUserRoleList({userId:t.seqId}).then(function(t){h.userRoleList=t.data.data,h.roleTableParams=new s({},{dataset:t.data.data})})}function f(t){n.deleteUserRole(t).then(function(t){t&&"0"===t.data.code&&(o.success("删除成功！","提示"),g(h.selectedUser),i.close("success"))})}var h=this,y={formData:{},metaData:{}},w={formData:{},metaData:{}};l.getDeptData().then(function(t){h.deptData=t}),h.del=u,h.open=m,h.delUserRole=f,h.openRole=p,h.showRole=g,h.selectedDept=null,h.load=c}t.$inject=["$scope","$log","$uibModal","deptService","NgTableParams","toastr","usersService","filesService","modalService","security"],angular.module("nqms").controller("UsersController",t)}(),function(){"use strict";function t(t,e,a,l,s){function o(){a.save(r.role).then(function(a){a&&"0"===a.data.code?(s.success("添加成功！","提示"),t.dismiss("cancel"),l.getUserRoleList(),e.$apply()):s.error("保存失败","警告")})}function n(){t.dismiss("cancel")}var r=this;r.cancel=n,r.save=o}t.$inject=["$uibModalInstance","$rootScope","rolesService","security","toastr"],angular.module("nqms").controller("RolesModalController",t)}(),function(){"use strict";function t(t,e,a,l,s,o){function n(t){function s(t){return"0"===t.data.code?t:void l.error("获取用户数据失败！\n"+t.data.msg)}function o(t){l.error("获取用户数据失败！\n"+angular.toJson(t.data,!0))}return a.get(e.roles.getHaveFunction,{params:{roleCode:t}}).then(s)["catch"](o)}function r(t){function s(t){return"0"===t.data.code?t:void l.error("获取用户数据失败！\n"+t.data.msg)}function o(t){l.error("获取用户数据失败！\n"+angular.toJson(t.data,!0))}return a.get(e.roles.getNotHaveFunction,{params:{roleCode:t}}).then(s)["catch"](o)}function i(t){return a.post(e.roles.updateRole,t).then(function(t){return"0"===t.data.code?t:null})}function d(t){return a.post(e.roles.saveRole,t).then(function(t){return"0"===t.data.code?t:null})["catch"](function(t){})}function c(t){return a.post(e.roles.deleteRole,t).then(function(t){return"0"===t.data.code?t:null})}var m={getHaveFunction:n,getNotHaveFunction:r,save:d,edit:i,del:c};return m}t.$inject=["$window","apiHost","$http","$log","$q","toastr"],angular.module("nqms").factory("rolesService",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n,r,i,d){function c(t){var l=s.getNotHaveFunction(t.roleCode),o=s.getHaveFunction(t.roleCode);f.roleDetail=t,a.all([l,o]).then(function(t){e.info(t),f.notHaveList=t[0]&&"0"===t[0].data.code?t[0].data.data:[],f.hadList=t[1]&&"0"===t[1].data.code?t[1].data.data:[]})}function m(){r.open("app/system/roles/addRole.tpl.html","md",b)}function p(){var t={seqId:f.roleDetail.seqId,roleCode:f.roleDetail.roleCode};s.del(t).then(function(t){t&&(o.success("该角色已删除","提示"),f.roleDetail=null,g())})}function u(){var t=angular.copy(f.roleDetail),a=[];t.funs=angular.copy(f.hadList),t.funs.forEach(function(t,e){a=a.concat(t.child),t.child=[]}),t.funs=t.funs.concat(a),delete t.updateTime,delete t.createTime,e.info(t),s.edit(t).then(function(t){e.info(t),t&&"0"===t.data.code?(o.success("保存成功！","提示"),e.info(f.hadList)):o.error(t.data.msg,"警告")})}function b(t){s.save(t).then(function(t){t&&"0"===t.data.code?(o.success("添加成功！","提示"),r.close("success"),g()):o.error("保存失败","警告")})}function v(t,e,a,l,s){var o,n="add"===s?f.hadList:f.notHaveList,r="add"===s?f.notHaveList:f.hadList;n.some(function(a,l){return a.funCode===t.funCode?(a.child.push(e),!0):void(l===n.length-1&&(o=angular.copy(t),o.child=[e],n.push(o)))}),0===n.length&&(o=angular.copy(t),o.child=[e],n.push(o)),t.child.splice(l,1),0===t.child.length&&r.splice(a,1)}function g(){i.getUserRoleList().then(function(t){f.roleData=t.data.data})}var f=this;f.roleData=i.roleList,i.getUserRoleList().then(function(t){f.roleData=i.roleList});f.del=p,f.edit=u,f.open=m,f.navExchange=v,f.load=c}t.$inject=["$scope","$log","$q","$uibModal","rolesService","toastr","NgTableParams","modalService","security","$injector"],angular.module("nqms").controller("RolesController",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n,r,i){function d(t){var e={};e[t]=m.count[t],"comUser"==t?(e[t].birthday=o(e[t].birthday).format("YYYY-MM-DD"),e[t].practiceApproveDate&&(e[t].practiceApproveDate=o(e[t].practiceApproveDate).format("YYYY-MM-DD")),e[t].inductionDate&&(e[t].inductionDate=o(e[t].inductionDate).format("YYYY-MM-DD")),e[t].graduationDate&&(e[t].graduationDate=o(e[t].graduationDate).format("YYYY-MM-DD")),e[t].practiceValidDate&&(e[t].practiceValidDate=o(e[t].practiceValidDate).format("YYYY-MM-DD")),m.count[t].deptCode=l.selectedDeptCode):("comUserFamily"!==t&&(e[t].startDate=o(e[t].startDate).format("YYYY-MM-DD"),e[t].endDate=o(e[t].endDate).format("YYYY-MM-DD")),e[t].map(function(t,e){return t.userCode=l.selectedUser.comUser.userCode,t})),e.dataType=t,l.add(e).then(function(t){t&&(n.success("保存成功！","提示"),l.getUserInfo(m.count.comUser.userCode,m.count.comUser.hisCode).then(function(t){m.accessible=!0,m.rootScope.$broadcast("refreshUserList",l.selectedDeptCode),m.rootScope.$broadcast("refreshUserDetail",m.count.comUser.userCode)}))})}function c(){a.dismiss("cancel")}var m=this;m.rootScope=t,m.scope=e,m.cancel=c,m.datepickerOption={dateDisabled:"disabled",formatYear:"yyyy",formatMonth:"MM",formatDay:"dd",initDate:new Date,maxDate:new Date(2020,5,22),minDate:o(),startingDay:1},m.validationOption={blurTrig:!0},m.accessible=!l.isNew,m.save=d,m.count=l.isNew?{}:angular.extend({},l.selectedUser);var p={comUserPosition:{positionName:"",reviewUnit:"",startDate:"",endDate:""},comUserNursing:{reviewUnit:"",unitLevel:"",deptName:"",position:"",startDate:"",endDate:""},comUserEducation:{educationType:"",leaningTime:"",courseTopics:"",courseContent:"",startDate:"",endDate:""},comUserTraining:{learnContent:"",professional:"",diploma:"",speaker:"",creditType:"",credit:"",funding:"",describe:"",startDate:"",endDate:""},comUserLearning:{school:"",professional:"",diploma:"",diplomaNo:"",degree:"",degreeNo:"",describe:"",startDate:"",endDate:""},comUserFamily:{relation:"",name:"",phone:"",email:"",remark:""}};m.addItem=function(t){m.count[t].push(angular.extend({},p[t]))},m.removeItem=function(t,e,a){a?l.deleteUser(t,a).then(function(a){a&&m.count[t].splice(e,1)}):m.count[t].splice(e,1)},m.openCalender=function(t,e){e?e[t]=!0:m[t]=!0},m.scope.$on("resetCount",function(t,e){m.count=e})}t.$inject=["$rootScope","$scope","$uibModalInstance","filesService","$log","moment","toastr","$window","$controller"],angular.module("nqms").config(["w5cValidatorProvider",function(t){t.config({showError:!1,removeError:!0}),t.setRules({userCode:{number:"必须输入数字"},userName:{required:"姓名不能为空"},duty:{required:"职务不能为空"},email:{required:"邮箱不能为空"},phone:{required:"电话不能为空"}})}]).controller("fileModalController",t)}(),function(){"use strict";function t(t,e,a,l,s,o){function n(t,s){function o(t){return"0"===t.data.code?t.data.data:void l.error("获取用户数据失败！\n"+t.data.msg)}function n(t){l.error("获取用户数据失败！\n"+angular.toJson(t.data,!0))}return a.get(e.files.getUserDetailInfo,{params:{userCode:t,hisCode:s}}).then(o)["catch"](n)}function r(t){function s(t){return"0"===t.data.code?(m.userList=t.data.data.lst,m.tableParams=new o({},{dataset:t.data.data.lst}),t.data.data.lst):void l.error("获取用户数据失败！\n"+t.data.msg)}return a.get(e.files.getUserList,{params:{deptCode:t}}).then(s)}function i(t){return m.selectedUser=t,t}function d(t){return a.post(e.files.save,t).then(function(t){return"0"===t.data.code?t:void 0})}function c(t,l){return a.post(e.files["delete"],{dataType:t,delSeqId:l}).then(function(t){return"0"===t.data.code?t:void 0})}var m={selectedUser:{},isNew:!0,selectedDeptCode:"",userList:[],tableParams:null,getUserInfo:n,getUserList:r,setSelectUser:i,add:d,deleteUser:c};return m}t.$inject=["$window","apiHost","$http","$log","$q","NgTableParams"],angular.module("nqms").config(["toastrConfig",function(t){t.tapToDismiss=!0,t.timeOut=0}]).factory("filesService",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n,r){function i(t){p.selectedDept=t,p.selectedUserCode=!1,n.selectedDeptCode=t,n.getUserList(t).then(function(t){a.info("用户数据",t),p.tableParams=n.tableParams})}function d(t){function e(){l.open({templateUrl:"app/nursingWorkers/files/modal.tpl.html",controller:"fileModalController",backdrop:"static",controllerAs:"vm",animation:!0,size:"xlg"})}n.isNew=!t,t?m(t,e):e()}function c(t){n.deleteUser("comUser",t.seqId).then(function(t){t&&(r.success("删除成功","提示"),p.scope.$emit("refreshUserList",p.selectedDept))})}function m(t,e){p.selectedUserCode=t,n.getUserInfo(t,"").then(function(t){p.detail=angular.extend({},t);var a,l=t;for(a in l)l.hasOwnProperty(a)&&b.forEach(function(t){l[a][t]&&(l[a][t]=new Date(l[a][t])),l[a].length>0&&l[a].map(function(e){return e[t]&&(e[t]=new Date(e[t])),e})});n.selectedUser=l,p.rootScope.$broadcast("resetCount",n.selectedUser),e&&e()})}var p=this,u=0,b=["birthday","inductionDate","practiceApproveDate","practiceValidDate","graduationDate","startDate","endDate"];p.rootScope=t,p.scope=e,p.isOpen=!0,s.getDeptData().then(function(t){a.info("科室数据",t),p.deptData=t}),a.info(u),p.del=c,p.open=d,p.load=i,p.loadDetail=m,p.tableParams=n.tableParams,p.scope.$on("refreshUserList",function(t,e){i(e)}),p.scope.$on("refreshUserDetail",function(t,e){m(e)})}t.$inject=["$rootScope","$scope","$log","$uibModal","deptService","NgTableParams","filesService","toastr"],angular.module("nqms").controller("NursingWorkersFileController",t)}(),function(){"use strict";function t(t,e,a,l){function s(){function t(t){return"0"==t.data.code?(a.debug(t.data),t.data.data):(a.error("获取用户数据失败！\n"+t.data.msg),void l.error("请检查网络连接或联系服务器管理员！","没有响应"))}function s(t){l.error("请检查网络连接或联系服务器管理员！","没有响应"),a.error("获取用户数据失败！\n"+angular.toJson(t.data,!0))}return e.post(o.typeList).then(t)["catch"](s)}var o={typeList:t+"/event/getEventTypeList"},n={apiHost:o,getEventTypeList:s};return n}t.$inject=["path","$http","$log","toastr"],angular.module("nqms").config(["toastrConfig",function(t){t.tapToDismiss=!0,t.timeOut=0}]).factory("typeService",t)}(),function(){"use strict";function t(t,e,a,l,s){var o=this;t.loading=!0,s.getEventTypeList().then(function(t){e.debug(t),o.lst=t}),e.debug(o.lst)}t.$inject=["$scope","$log","NgTableParams","$filter","typeService"],angular.module("nqms").controller("MalCaseUpTypeController",t)}(),function(){"use strict";function t(t,e,a,l){var s=this;s.lst=[{groupNo:"跌倒",groupName:"不良治疗",bedNo:"Ⅱ级",remark:"跌倒"},{groupNo:"坠床",groupName:"不良治疗",bedNo:"Ⅱ级",remark:"坠床"},{groupNo:"走失",groupName:"不良治疗",bedNo:"Ⅰ级",remark:"走失"},{groupNo:"烫伤",groupName:"不良治疗",bedNo:"Ⅲ级",remark:"烫伤"},{groupNo:"医患争吵",groupName:"医患沟通",bedNo:"Ⅰ级",remark:"医患争吵"},{groupNo:"身体攻击",groupName:"医患沟通",bedNo:"Ⅳ级",remark:"身体攻击"},{groupNo:"咽入异物",groupName:"饮食类",bedNo:"Ⅱ级",remark:"咽入异物"},{groupNo:"食物中毒",groupName:"饮食类",bedNo:"Ⅳ级",remark:"食物中毒"},{groupNo:"仪器故障",groupName:"医疗设备",bedNo:"0级",remark:"仪器故障"},{groupNo:"院内压疮",groupName:"皮肤类",bedNo:"Ⅲ级",remark:"院内压疮"}],e.debug(s.lst),s.tableParams=new a({page:1,count:10},{total:s.lst.length,getData:function(e,a){var o=a.sorting()?l("orderBy")(s.lst,a.orderBy()):s.lst;o=a.filter()?l("filter")(o,a.filter()):o,a.total(o.length),e.resolve(t.users=o.slice((a.page()-1)*a.count(),a.page()*a.count()))}})}t.$inject=["$scope","$log","NgTableParams","$filter"],angular.module("nqms").controller("MalCaseUpStatisticsController",t)}(),function(){"use strict";function t(t,e,a,l){var s=this;s.lst=[{eventCode:"跌倒",eventType:"不良治疗",impact:"Ⅱ级",status:"跌倒",userCode:"123",userName:"张三",callTime:"2016-03-25 14:33"},{eventCode:"跌倒",eventType:"不良治疗",impact:"Ⅱ级",status:"跌倒",userCode:"123",userName:"张三",callTime:"2016-03-25 14:33"},{eventCode:"跌倒",eventType:"不良治疗",impact:"Ⅱ级",status:"跌倒",userCode:"123",userName:"张三",callTime:"2016-03-25 14:33"}],e.debug(s.lst),s.tableParams=new a({page:1,count:10},{total:s.lst.length,getData:function(e,a){var o=a.sorting()?l("orderBy")(s.lst,a.orderBy()):s.lst;o=a.filter()?l("filter")(o,a.filter()):o,a.total(o.length),e.resolve(t.users=o.slice((a.page()-1)*a.count(),a.page()*a.count()))}})}t.$inject=["$scope","$log","NgTableParams","$filter"],angular.module("nqms").controller("MalCaseUpHandleController",t)}(),function(){"use strict";angular.module("nqms").controller("MalCaseUpFixController",["$uibModal","$log",function(t,e){var a=this;a.items=["item1","item2","item3"],a.animationsEnabled=!1,a.open=function(l){var s=t.open({animation:a.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",backdrop:!1,size:l,resolve:{items:function(){return a.items}}});s.result.then(function(t){a.selected=t},function(){e.info("Modal dismissed at: "+new Date)})},a.toggleAnimation=function(){a.animationsEnabled=!a.animationsEnabled}}]),angular.module("nqms").controller("ModalInstanceCtrl",["$scope","$uibModalInstance","items",function(t,e,a){t.items=a,t.selected={item:t.items[0]},t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}])}(),function(){"use strict";function t(t,e,a,l){var s=this;s.lst=[{elementCode:"code1",labelName:"压疮大小",dataType:"text",width:"col-sm-3"},{elementCode:"code2",labelName:"发生时间",dataType:"datetime-local",width:"col-sm-3"},{elementCode:"code3",labelName:"病人性别",dataType:"radio",width:"col-sm-3",lst:[{elementCode:"son1",labelName:"男",dataType:"radio",width:"col-sm-3"},{elementCode:"son2",labelName:"女",dataType:"radio",width:"col-sm-3"}]},{elementCode:"code4",labelName:"医疗类型",dataType:"select",width:"col-sm-3",lst:[{elementCode:"code4-1",labelName:"工费",dataType:"label",width:"col-sm-3"},{elementCode:"code4-2",labelName:"职工社保",dataType:"label",width:"col-sm-3"},{elementCode:"code4-3",labelName:"农村合作医疗",dataType:"label",width:"col-sm-3"},{elementCode:"code4-4",labelName:"城镇居民基保",dataType:"label",width:"col-sm-3"},{elementCode:"code4-5",labelName:"商业保险",dataType:"label",width:"col-sm-3"},{elementCode:"code4-6",labelName:"军人",dataType:"label",width:"col-sm-3"},{elementCode:"code4-7",labelName:"自费",dataType:"label",width:"col-sm-3"}]},{elementCode:"code5",labelName:"年龄",dataType:"text",width:"col-sm-6"},{elementCode:"code6",labelName:"药品种类",dataType:"select",width:"col-sm-3",lst:[{elementCode:"code6-1",labelName:"抗感冒药",dataType:"label",width:"col-sm-3"},{elementCode:"code6-2",labelName:"抗肿瘤药",dataType:"label",width:"col-sm-3"},{elementCode:"code6-3",labelName:"激素",dataType:"label",width:"col-sm-3"},{elementCode:"code6-4",labelName:"维生素",dataType:"label",width:"col-sm-3"},{elementCode:"code6-5",labelName:"其他",dataType:"label",width:"col-sm-3"}]},{elementCode:"code7",labelName:"诊断日期",dataType:"date",width:"col-sm-3"}],e.debug(s.lst),s.tableParams=new a({page:1,count:10},{total:s.lst.length,getData:function(e,a){var o=a.sorting()?l("orderBy")(s.lst,a.orderBy()):s.lst;o=a.filter()?l("filter")(o,a.filter()):o,a.total(o.length),e.resolve(t.users=o.slice((a.page()-1)*a.count(),a.page()*a.count()))}})}t.$inject=["$scope","$log","NgTableParams","$filter"],angular.module("nqms").controller("MalCaseUpCallController",t)}(),function(){"use strict";angular.module("nqms").controller("MalCaseUpElementController",["$uibModal","$log",function(t,e){var a=this;a.lst=[{elementCode:"1",elementName:"压疮大小",viewName:"压疮大小",groupName:"压疮信息",elementType:"文本框",width:"3/12",remark:"备注",required:"是"},{elementCode:"2",elementName:"发生时间",viewName:"发生时间",groupName:"压疮信息",elementType:"文本框",width:"3/12",remark:"备注",required:"是"},{elementCode:"3",elementName:"性别",viewName:"性别",groupName:"患者信息",elementType:"单选框",width:"3/12",remark:"备注",required:"是"},{elementCode:"4",elementName:"医疗类型",viewName:"医疗类型",groupName:"患者信息",elementType:"下拉框",width:"3/12",remark:"备注",required:"是"},{elementCode:"5",elementName:"年龄",viewName:"年龄",groupName:"患者信息",elementType:"文本框",width:"3/12",remark:"备注",required:"是"}]}])}(),function(){"use strict";function t(){var t=this;t.lst=[{ruleIndex:"1",ruleInfo:"早班",start:"2016-04-08",end:"2016-06-08",valid:"是",user:"张三",remark:"怀孕"},{ruleIndex:"2",ruleInfo:"早班",start:"2016-03-08",end:"2016-06-08",valid:"是",user:"李四",remark:"晚上培训"}]}angular.module("nqms").controller("DepartmentManagerTurnsRuleController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{deptName:"测试一",bedNo:"01",group:1},{deptName:"测试一",bedNo:"02",group:1},{deptName:"测试一",bedNo:"03",group:1},{deptName:"测试一",bedNo:"04",group:2},{deptName:"测试一",bedNo:"05",group:2},{deptName:"测试一",bedNo:"06",group:2}]}angular.module("nqms").controller("DepartmentManagerStatisticsController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{name:"张三",group:"+1",d1:"早班",d2:"早班",d3:"晚班",d4:"夜班",d5:"年休",d6:"休息",d7:"夜班"},{name:"李四",group:"+1",d1:"晚班",d2:"夜班",d3:"休息",d4:"夜班",d5:"夜班",d6:"早班",d7:"夜班"},{name:"王五",group:"+2",d1:"夜班",d2:"晚班班",d3:"晚班",d4:"夜班",d5:"夜班",d6:"晚班",d7:"夜班"},{name:"赵六",group:"+1",d1:"早班",d2:"早班",d3:"晚班",d4:"休息",d5:"晚班",d6:"夜班",d7:"夜班"},{name:"朱七七",group:"0",d1:"早班",d2:"早班",d3:"休息",d4:"晚班",d5:"休息",d6:"早班",d7:"夜班"},{name:"黑白白",group:"-1",d1:"早班",d2:"休息",d3:"休息",d4:"年假",d5:"早班",d6:"晚班",d7:"夜班"}]}angular.module("nqms").controller("DepartmentManagerTurnsController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{deptName:"测试一",name:"张三",group:1,start:"2016-03-18 08",end:"2016-03-22 24",yy:"回家",status:"批准",remark:""},{deptName:"测试一",name:"李四",group:1,start:"2016-03-18 08",end:"2016-03-22 24",yy:"生病",status:"批准",remark:""},{deptName:"测试一",name:"王五",group:1,start:"2016-03-18 08",end:"2016-03-22 24",yy:"",status:"驳回",remark:"请写明原因"},{deptName:"测试一",name:"赵六",group:1,start:"2016-03-18 08",end:"2016-03-22 24",yy:"回家",status:"批准",remark:""},{deptName:"测试一",name:"朱七七",group:1,start:"2016-03-18 08",end:"2016-03-22 24",yy:"回家",status:"未处理",remark:""}]}angular.module("nqms").controller("DepartmentManagerLeaveController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{deptName:"张三",bedNo:"01",group:1,level:"N3",yb:"是"},{deptName:"李四",bedNo:"02",group:1,level:"N3",yb:"是"},{deptName:"王五",bedNo:"03",group:1,level:"N2",yb:"否"},{deptName:"赵六",bedNo:"04",group:2,level:"N1",yb:"否"},{deptName:"陈七",bedNo:"05",group:2,level:"N2",yb:"否"},{deptName:"孙八",bedNo:"06",group:2,level:"N1",yb:"否"}]}angular.module("nqms").controller("DepartmentManagerEndemicAreaController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{deptName:"测试一",index:1,name:"A",remark:"白班",start:"8",end:"16",persons:"5",yy:"N3"},{deptName:"测试一",index:2,name:"a",remark:"白班",start:"16",end:"24",persons:"5",yy:""},{deptName:"测试一",index:3,name:"N",remark:"晚班",start:"0",end:"8",persons:"5",yy:""},{deptName:"测试一",index:4,name:"P",remark:"夜班",start:"0",end:"8",persons:"5",yy:"夜班准入"}]}angular.module("nqms").controller("DepartmentManagerClassesController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{deptName:"测试一",bedNo:"01",group:1},{deptName:"测试一",bedNo:"02",group:1},{deptName:"测试一",bedNo:"03",group:1},{deptName:"测试一",bedNo:"04",group:2},{deptName:"测试一",bedNo:"05",group:2},{deptName:"测试一",bedNo:"06",group:2}]}angular.module("nqms").controller("DepartmentManagerBedController",t)}(),function(){"use strict";function t(){var t=this;t.lst=[{deptName:"测试一",bedNo:"01",group:1},{deptName:"测试一",bedNo:"02",group:1},{deptName:"测试一",bedNo:"03",group:1},{deptName:"测试一",bedNo:"04",group:2},{deptName:"测试一",bedNo:"05",group:2},{deptName:"测试一",bedNo:"06",group:2}]}angular.module("nqms").controller("DepartmentManagerAttemperController",t)}(),function(){"use strict";function t(){function t(t,e,a,l,s){var o=this,n=s.currentUser.tab;o.isActive=t.$parent.isActive,o.navData=s.getFromSession().nav,o.addToBread=function(t){var e=angular.element(t.currentTarget).data("id"),l=angular.element(t.currentTarget).data("name");s.addToBreadcrumb(e,l),a.info("bread 服务",n)}}t.$inject=["$scope","$window","$log","$location","security"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{},replace:!0,controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("nqms").directive("acmeNavbar",t)}(),function(){"use strict";function t(){function t(t,e,a,l,s,o,n,r){function i(){a.open({templateUrl:"app/components/header/changeUser.tpl.html",controller:"ChangeUserController",controllerAs:"vm",backdrop:"static",animation:!1,size:"sm"})}function d(){a.open({templateUrl:"app/components/header/changeRole.tpl.html",controller:"ChangeRoleController",controllerAs:"vm",backdrop:"static",animation:!1,size:"md"})}var c=this;c.openUserDialog=i,c.openRoleDialog=d,c.logout=r.logout,e(function(){c.time_now=l().format("YYYY-MM-DD hh:mm:ss")},1e3),c.user=r.getFromSession().user,o.info(c.user)}t.$inject=["$scope","$interval","$uibModal","moment","$window","$log","$location","security"];var e={restrict:"E",templateUrl:"app/components/header/header.html",scope:{},replace:!0,controller:t,controllerAs:"hd",bindToController:!0};return e}angular.module("nqms").directive("acmeHeader",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n,r){function i(){t.dismiss("cancel")}function d(){c.loginBtnStatus.title="切换",c.loginBtnStatus.state=""}var c=this;c.cancel=i,c.formData={},c.datepickerOption={dateDisabled:"disabled",formatYear:"yyyy",formatMonth:"MM",formatDay:"dd",initDate:new Date,maxDate:new Date(2020,5,22),minDate:s(),startingDay:1},c.validationOption={blurTrig:!0},c.loginBtnStatus={title:"切换",state:""},c.changeUser=function(s){var i=a.getFromSession().user;return l.info(s),c.loginBtnStatus.title="正在切换...",c.loginBtnStatus.state="disabled",s.loginName===i.loginName?(r.info("您切换的用户已是当前登录用户，无需切换～","提示"),void d()):void a.login(s).then(function(a){d(),a&&"-1"==a.data.code||(t.dismiss("cancel"),n(function(){e.path("/home"),o.location.reload()},2e3))},d)}}t.$inject=["$uibModalInstance","$location","security","$log","moment","$window","$timeout","toastr"],angular.module("nqms").config(["w5cValidatorProvider",function(t){t.setRules({loginName:{required:"用户名不能为空",pattern:"用户名必须输入字母、数字、下划线"},password:{required:"密码不能为空",minlength:"密码长度不能小于{minlength}",maxlength:"密码长度不能大于{maxlength}"}})}]).controller("ChangeUserController",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n){function r(){t.dismiss("cancel")}function i(){d.roleBtnStatus.title="切换",d.roleBtnStatus.state=""}var d=this,c=n.getFromSession().role,m=n.getFromSession().user.seqId;d.currentRole=n.getFromSession().role,d.cancel=r,d.formData={},d.datepickerOption={dateDisabled:"disabled",formatYear:"yyyy",formatMonth:"MM",formatDay:"dd",initDate:new Date,maxDate:new Date(2020,5,22),minDate:a(),startingDay:1},d.validationOption={blurTrig:!0},d.roleBtnStatus={title:"切换",state:""},n.getUserRoleList({userId:m}).then(function(t){d.userRoleList=t.data.data}),d.selectedRole=c,d.showRole=function(t){e.info(t),d.changedRole=t},d.changeRole=function(){return c=n.getFromSession().role,d.changedRole?(d.roleBtnStatus.title="正在切换...",d.roleBtnStatus.state="disabled",d.changedRole.seqId===c.seqId?(s.info("您切换的角色已是当前登录的角色，无需切换～","提示"),void i()):void n.changeRole(d.changedRole)):void 0}}t.$inject=["$uibModalInstance","$log","moment","$window","toastr","$scope","security"],angular.module("nqms").controller("ChangeRoleController",t)}(),function(){"use strict";function t(){function t(t,e,a,l,s,o,n,r){var i=this;i.isActive=t.isActive,i.tabTemp=r.currentUser.tab,i.removeTab=function(t){var e,a=angular.element(t.currentTarget).data("id"),l=angular.element(t.currentTarget).parents("li").prev(),s=angular.element(t.currentTarget).parents("li").next();e=l.length>0?"."+l.find("a").data("id"):s.length>0?"."+s.find("a").data("id"):"",$(t.currentTarget).parents(".tab-bread__item").hasClass("active")&&n.go("home"+e),r.removeFromBreadcrumb(a)},i.isActive=function(t){var e=t.length;return t===o.path().substr(-e,e)},s.info("tab:",i.tab)}t.$inject=["$scope","$interval","moment","$window","$log","$location","$state","security"];var e={restrict:"E",templateUrl:"app/components/breadcrumb/breadcrumb.html",scope:{},replace:!0,controller:t,controllerAs:"bc",bindToController:!0};return e}angular.module("nqms").directive("acmeBread",t)}(),function(){"use strict";function t(t,e,a,l){return{open:function(e,l,s,o){t.open({templateUrl:e,size:l,backdrop:"static",animation:!0,controller:["$scope","$uibModalInstance","callback","data",function(t,e,l,s){var o=this;o.formData=s&&s.formData,o.metaData=s&&s.metaData,o.alert=function(){a.info(o.formData)},o.ok=function(){l(o.formData)},o.cancel=function(){e.dismiss("cancel")}}],controllerAs:"vm",resolve:{callback:function(){return s},data:function(){return o?o:void 0}}})},close:function(t){e.dismissAll(t)}}}t.$inject=["$uibModal","$uibModalStack","$log","$parse"],angular.module("nqms").factory("modalService",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n,r,i){function d(t){p(t).then(function(t){"0"===t.data.code?(s.success("正在切换角色...","恭喜"),i.go("home"),r(function(){l.location.reload()},2e3)):s.error("网络或数据错误，请联系管理员～","警告")})}function c(l){var r=o.defer();return e.post(t.system.login,l).then(function(t){var e,l=t.data.data;return"-1"==t.data.code?(s.error(t.data.msg),t):(e={user:l.user,nav:l.funs,role:l.role,tab:{}},w.saveAtSession("userInfo",e),r.resolve(e),a.info(t),s.success("登录成功！"),n.path("/home"),w.currentUser=e,void w.saveAtSession("isLogined",!0))},function(t){r.reject(t)})}function m(){w.removeFromSession("isLogined"),w.removeFromSession("userInfo"),n.path("/login")}function p(a){var l=w.getFromSession();return e.get(t.system.getNavigation,{params:{roleCode:a.roleCode,userRoleId:a.seqId}}).then(function(t){return"0"===t.data.code&&(l.nav=t.data.data,l.role=a,l.tab={},b("userInfo",l)),t})}function u(t){l.sessionStorage.setItem("userInfo",angular.toJson(t))}function b(t,e){var a=e;(angular.isObject(e)||angular.isArray(e))&&(a=angular.toJson(e)),l.sessionStorage.setItem(t,a)}function v(t){var e=t;return t||(e="userInfo"),angular.fromJson(l.sessionStorage.getItem(e))}function g(t){if("string"!=typeof t)throw"key必须是字符串";l.sessionStorage.removeItem(t)}function f(t,e){w.currentUser.tab[t]=e,u(w.currentUser)}function h(t){delete w.currentUser.tab[t],u(w.currentUser)}function y(l){return e.get(t.system.getRoleList,{params:l}).then(function(t){return w.roleList=t.data.data,"0"===t.data.code?t:void 0})["catch"](function(t){a.error("获取角色失败",t)})}var w={currentUser:function(){return v()||{}}(),roleList:[],changeRole:d,removeFromSession:g,resetUserInfo:u,saveAtSession:b,getFromSession:v,getUserRoleList:y,getNavigation:p,addToBreadcrumb:f,removeFromBreadcrumb:h,login:c,logout:m};return w}t.$inject=["apiHost","$http","$log","$window","toastr","$q","$location","$timeout","$state"],angular.module("nqms").factory("security",t)}(),function(){"use strict";function t(t,e,a,l,s){function o(){n||(n=s.get("toastr"))}var n;angular.fromJson(a.sessionStorage.getItem("isLogined"));return{request:function(e){return t.info("请求结果："+e.url,e),o(),e||l.when(e)},requestError:function(e){return t.info("请求失败："+e.statusText,e),o(),n.error("请检查网络连接或联系服务器管理员！","请求错误"),l.reject(e)},response:function(e){var a=s.get("security");return t.info("响应结果："+e.config.url,e),-2==e.data.code&&a.logout(),-1==e.data.code&&(o(),n.error(e.data.msg+"<br>错误码：-1","操作不成功！")),e||l.when(e)},responseError:function(e){return t.info("响应失败："+e.statusText,e),o(),n.error("错误码："+e.status+"<br> URL："+(e.config&&e.config.url||"")+"\n "+e.message+"请检查网络连接或联系服务器管理员！","没有响应"),l.reject(e)}}}t.$inject=["$log","$location","$window","$q","$injector"],angular.module("nqms").factory("myHttpInterceptor",t)}(),function(){"use strict";function t(t,e,a,l,s,o){function n(){function t(t){return"0"===t.data.code?t.data.data:void l.error("获取科室数据失败！\n"+t.data.msg)}function s(t){l.error("获取科室数据失败！\n"+angular.toJson(t.data,!0))}return e.get(a.user.getDept,{params:{deptCode:r.deptCode}}).then(t)["catch"](s)}var r=o.getFromSession().role,i={apiHost:a,getDeptData:n};return i}t.$inject=["$window","$http","apiHost","$log","toastr","security"],angular.module("nqms").factory("deptService",t)}(),function(){"use strict";function t(t,e){function a(a,l,s){e.info("scope",a),a.isLoading=function(){return t.pendingRequests.length>0},a.$watch(a.isLoading,function(t){t?l[0].setAttribute("style","display: block"):l[0].setAttribute("style","display: none")})}var l={restrict:"E",templateUrl:"app/common/loading/loading.tpl.html",link:a,scope:{},controller:function(t,e){var a=this;e.info("windowWidth:",t),a.loadingWidth=t.innerWidth-200},controllerAs:"vm"};return l}t.$inject=["$http","$log"],angular.module("nqms").directive("loading",t)}(),function(){"use strict";function t(t,e,a,l,s,o,n){var r,i=this;a.isActive=i.isActive=function(t){var e,a=0;return""===t?!1:(a=t.length,e=s.path().substr(-a,a),t===e)},e.$on("$stateChangeStart",function(t,e,a,l,s,o){r=n.getFromSession("isLogined"),"login"===e.name&&r&&t.preventDefault()})}t.$inject=["$log","$rootScope","$scope","$uibModal","$location","$window","security"],angular.module("nqms").controller("MainController",t)}(),function(){"use strict";function t(t,e){function a(){l.loginBtnStatus.title="登录",l.loginBtnStatus.state=""}var l=this;l.loginBtnStatus={title:"登录",state:""},l.login=function(t){l.loginBtnStatus.title="正在登录...",l.loginBtnStatus.state="disabled",e.login(t).then(a,a)},l.validationOption={blurTrig:!0}}t.$inject=["$log","security"],angular.module("nqms").config(["w5cValidatorProvider",function(t){t.setRules({loginName:{required:"用户名不能为空",pattern:"用户名必须输入字母、数字、下划线"},password:{required:"密码不能为空",minlength:"密码长度不能小于{minlength}",maxlength:"密码长度不能大于{maxlength}"}})}]).controller("LoginController",t)}(),function(){"use strict";function t(t,e,a){var l=angular.fromJson(e.sessionStorage.getItem("isLogined"));return t.debug("runBlock end"),l?void 0:void a.path("/login")}t.$inject=["$log","$window","$location"],angular.module("nqms").run(t)}(),function(){"use strict";function t(t,e,a){t.state("home",{url:"/home",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("home.files",{
url:"/files",templateUrl:"app/nursingWorkers/files/files.tpl.html",controller:"NursingWorkersFileController",controllerAs:"vm"}).state("home.internship",{url:"/internship",templateUrl:"app/nursingWorkers/internship/internship.tpl.html",controller:"NursingWorkersInternshipController",controllerAs:"vm"}).state("home.graduate",{url:"/graduate",templateUrl:"app/nursingWorkers/graduate/graduate.tpl.html",controller:"NursingWorkersGraduateController",controllerAs:"vm"}).state("home.technical",{url:"/technical",templateUrl:"app/nursingWorkers/technical/technical.tpl.html",controller:"NursingWorkersTechnicalController",controllerAs:"vm"}).state("home.ulteriorly",{url:"/ulteriorly",templateUrl:"app/nursingWorkers/ulteriorly/ulteriorly.tpl.html",controller:"NursingWorkersUlteriorlyController",controllerAs:"vm"}).state("home.nursingAttemper",{url:"/attemper",templateUrl:"app/nursingWorkers/attemper/attemper.tpl.html",controller:"NursingWorkersAttemperController",controllerAs:"vm"}).state("home.nursingStatistics",{url:"/statistics",templateUrl:"app/nursingWorkers/statistics/statistics.tpl.html",controller:"NursingWorkersStatisticsController",controllerAs:"vm"}).state("home.bed",{url:"/bed",templateUrl:"app/departmentManager/bed/bed.tpl.html",controller:"DepartmentManagerBedController",controllerAs:"vm"}).state("home.classes",{url:"/classes",templateUrl:"app/departmentManager/classes/classes.tpl.html",controller:"DepartmentManagerClassesController",controllerAs:"vm"}).state("home.endemicArea",{url:"/endemicArea",templateUrl:"app/departmentManager/endemicArea/endemicArea.tpl.html",controller:"DepartmentManagerEndemicAreaController",controllerAs:"vm"}).state("home.turns",{url:"/turns",templateUrl:"app/departmentManager/turns/turns.tpl.html",controller:"DepartmentManagerTurnsController",controllerAs:"vm"}).state("home.turnsRule",{url:"/turnsRule",templateUrl:"app/departmentManager/turnsRule/turnsRule.tpl.html",controller:"DepartmentManagerTurnsRuleController",controllerAs:"vm"}).state("home.leave",{url:"/leave",templateUrl:"app/departmentManager/leave/leave.tpl.html",controller:"DepartmentManagerLeaveController",controllerAs:"vm"}).state("home.departmentAttemper",{url:"/attemper",templateUrl:"app/departmentManager/attemper/attemper.tpl.html",controller:"DepartmentManagerAttemperController",controllerAs:"vm"}).state("home.departmentStatistics",{url:"/statistics",templateUrl:"app/departmentManager/statistics/statistics.tpl.html",controller:"DepartmentManagerStatisticsController",controllerAs:"vm"}).state("home.type",{url:"/type",templateUrl:"app/malCaseUp/type/type.tpl.html",controller:"MalCaseUpTypeController",controllerAs:"vm"}).state("home.call",{url:"/call",templateUrl:"app/malCaseUp/call/call.tpl.html",controller:"MalCaseUpCallController",controllerAs:"vm"}).state("home.handle",{url:"/handle",templateUrl:"app/malCaseUp/handle/handle.tpl.html",controller:"MalCaseUpHandleController",controllerAs:"vm"}).state("home.fix",{url:"/fix",templateUrl:"app/malCaseUp/fix/fix.tpl.html",controller:"MalCaseUpFixController",controllerAs:"vm"}).state("home.element",{url:"/element",templateUrl:"app/malCaseUp/element/element.tpl.html",controller:"MalCaseUpElementController",controllerAs:"vm"}).state("malCaseUpStatistics",{url:"/statistics",templateUrl:"app/malCaseUp/statistics/statistics.tpl.html",controller:"MalCaseUpStatisticsController",controllerAs:"vm"}).state("home.roles",{url:"/roles",templateUrl:"app/system/roles/roles.tpl.html",controller:"RolesController",controllerAs:"vm"}).state("home.users",{url:"/users",templateUrl:"app/system/users/users.tpl.html",controller:"UsersController",controllerAs:"vm"}).state("login",{url:"/login",templateUrl:"app/login/login.html"}),e.otherwise("/login")}t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("nqms").config(t)}(),function(){"use strict";angular.module("nqms").constant("moment",moment).constant("apiHost",function(){var t="/mnisqm";return{system:{login:t+"/system/login",getRoleList:t+"/system/getRoleLst",getNavigation:t+"/system/getFunction"},user:{getDept:t+"/user/getUserDepts"},files:{getUserList:t+"/user/getUserList",getUserDetailInfo:t+"/user/getUserDetailInfo",add:t+"/user/insertObj","delete":t+"/user/deleteUserInfo",update:t+"/user/updateObj",save:t+"/user/saveComUser"},roles:{getNotHaveFunction:t+"/system/getNotHaveFunction",getFunction:t+"/system/getFunction",getHaveFunction:t+"/system/getHaveFunction",updateRole:t+"/system/saveSysRoleFuns",deleteRole:t+"/system/deleteRole",saveRole:t+"/system/saveRole"},users:{getUserList:t+"/system/getSysUserList",deleteUser:t+"/system/deleteSysUser",deleteUserRole:t+"/system/deleteSysUserRole",saveUserRole:t+"/system/saveSysUserRole",saveUser:t+"/system/saveSysUser"}}}())}(),function(){"use strict";function t(t,e,a,l){t.debugEnabled(!0),e.autoDismiss=!0,e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-center",e.progressBar=!1,e.preventOpenDuplicates=!0,e.position="toast-top-center",e.iconClasses={error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},a.config({blurTrig:!0,showError:!0,removeError:!0}),l.interceptors.push("myHttpInterceptor")}t.$inject=["$logProvider","toastrConfig","w5cValidatorProvider","$httpProvider"],angular.module("nqms").config(t)}(),angular.module("nqms").run(["$templateCache",function(t){t.put("app/login/login.html",'<div class="center-bg" ng-controller="LoginController as vm"><div class="left-bg"></div><div class="w"><div class="login-wrapper"><div class="logo-nurse"></div><div class="login-box"><div class="login-box__header">用户登录</div><form class="login-box__form form-wrapper w5c-form" novalidate="" w5c-form-validate="vm.validationOption" name="loginForm"><div class="err-wrapper"></div><div class="form-item form-item__sm"><label class="name-label"><span class="fa fa-user"></span></label> <input autocomplete="off" ng-pattern="/^[0-9A-Za-z_]{1,19}$/" required="" type="text" ng-model="vm.formData.loginName" name="loginName" class="form-ctr input" id="user-name" placeholder="用户名"></div><div class="form-item form-item__sm"><label class="name-label" for="password"><span class="fa fa-lock"></span></label> <input autocomplete="off" type="password" required="" name="password" ng-model="vm.formData.password" class="form-ctr input" id="password" placeholder="密码"></div><div class="submit-wrapper form-item"><button w5c-form-submit="vm.login(vm.formData)" class="btn login-btn btn-default {{vm.loginBtnStatus.state}}">{{vm.loginBtnStatus.title}}</button></div><div class="reset-password"><a href="javascript:;">重置</a></div></form></div></div></div></div>'),t.put("app/main/main.html",'<div class="container-fluid full-screen"><acme-header></acme-header><acme-navbar></acme-navbar><acme-bread></acme-bread><div class="main-body container-fluid" ui-view=""></div></div>'),t.put("app/role/role.tpl.html",'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>'),t.put("app/common/loading/loading.tpl.html",'<div class="loading-wrapper" ng-style="{width: vm.loadingWidth}"><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div>'),t.put("app/common/tpls/loading.tpl.html",'<div class="loading-wrapper" ng-style="{width: vm.loadingWidth}"><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div>'),t.put("app/components/breadcrumb/breadcrumb.html",'<div class="tab-bread-wrapper"><ul class="tab-bread"><li ng-repeat="(id, name) in bc.tabTemp"><div ui-sref=".{{id}}" ng-class="{active: bc.isActive(\'{{id}}\')}" class="tab-bread__item" href="#"><span>{{name}}</span> <a ng-click="bc.removeTab($event)" data-id="{{id}}" class="close-tab" href="javascript:;">×</a></div></li></ul></div>'),t.put("app/components/header/changeRole.tpl.html",'<div><div class="modal-header"><button type="button" ng-click="vm.cancel()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">切换角色</h5></div><div class="modal-body">您的现有角色：<table class="table table-condensed table-bordered table-striped"><tr><th></th><th>角色编号</th><th>角色名称</th><th>所属部门</th></tr><tr ng-repeat="row in vm.userRoleList" ng-class="{success: row.seqId === vm.currentRole.seqId, active: row.seqId === vm.selectedRole.seqId}"><td><input id="{{row.seqId}}" name="userRole" ng-click="vm.showRole(row)" type="radio" value="{{row.seqId}}" ng-model="vm.selectedRole.seqId"></td><td data-title="\'角色编号\'"><label for="{{row.seqId}}">{{row.roleCode}}</label></td><td data-title="\'角色名称\'"><label for="{{row.seqId}}">{{row.roleName}}</label></td><td data-title="\'所属部门\'"><label for="{{row.seqId}}">{{ row.deptName }}</label></td></tr></table></div><div class="modal-footer"><button class="btn btn-sm btn-success {{vm.roleBtnStatus.state}}" type="button" {{vm.loginbtnstatus.state}}="" ng-click="vm.changeRole()">{{vm.roleBtnStatus.title}}</button> <button class="btn btn-sm btn-default" type="button" ng-click="vm.cancel()">取消</button></div></div>'),t.put("app/components/header/changeUser.tpl.html",'<div><div class="modal-header"><button type="button" ng-click="vm.cancel()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">切换用户</h5></div><form class="form w5c-form login-box__form change-user-form" novalidate="" w5c-form-validate="vm.validationOption" name="changeUserForm"><div class="modal-body"><div class="form-item form-item__sm"><label class="name-label"><span class="fa fa-user"></span></label> <input autocomplete="off" ng-pattern="/^[0-9A-Za-z_]{1,19}$/" required="" type="text" ng-model="vm.formData.loginName" name="loginName" class="form-ctr input" id="user-name" placeholder="用户名"></div><div class="form-item form-item__sm"><label class="name-label" for="password"><span class="fa fa-lock"></span></label> <input autocomplete="off" type="password" required="" name="password" ng-model="vm.formData.password" class="form-ctr input" id="password" placeholder="密码"></div></div><div class="modal-footer"><button class="btn btn-sm btn-success {{vm.loginBtnStatus.state}}" type="button" {{vm.loginbtnstatus.state}}="" w5c-form-submit="vm.changeUser(vm.formData)">{{vm.loginBtnStatus.title}}</button> <button class="btn btn-sm btn-default" type="button" ng-click="vm.cancel()">取消</button></div></form></div>'),t.put("app/components/header/header.html",'<div class="header-top"><div class="logo-wrapper pull-left"><a href="/" class="logo"></a></div><div class="header-right pull-right"><div class="header-item time-now"><i class="fa fa-calendar"></i> {{hd.time_now}}</div><div class="header-item messages"><div class="btn-group" uib-dropdown="" is-open="msg.isopen"><button id="msg-button" type="button" class="btn btn-default" uib-dropdown-toggle="" ng-disabled="disabled"><i class="fa fa-bell"></i> 消息 <i class="fa fa-chevron-down"></i></button><ul uib-dropdown-menu="" role="menu" aria-labelledby="msg-button"><li><a href="">账号信息</a></li><li><a href="">账号信息</a></li><li><a href="">账号信息</a></li><li><a href="">账号信息</a></li></ul></div></div><div class="header-item user"><div class="btn-group" uib-dropdown="" is-open="user.isopen"><button id="user-button" type="button" class="btn btn-default" uib-dropdown-toggle="" ng-disabled="disabled"><i class="fa fa-user"></i> {{hd.user.loginName}} <span class="fa fa-chevron-down"></span></button><ul uib-dropdown-menu="" role="menu" aria-labelledby="user-button"><li><a href="javascript:;"><i class="fa fa-exclamation-circle"></i> 账号信息</a></li><li><a href="javascript:;" ng-click="hd.openRoleDialog()"><i class="fa fa-exchange"></i> <span>切换角色</span></a></li><li><a href="javascript:;" ng-click="hd.openUserDialog()"><i class="fa fa-users"></i> <span>切换用户</span></a></li><li><a ng-click="hd.logout()" href="javascript:;"><i class="fa fa-sign-out"></i> <span>退出系统</span></a></li></ul></div></div></div></div>'),t.put("app/components/navbar/navbar.html",'<div class="left-nav"><div class="nav-wrapper"><uib-accordion class="nav-menu"><uib-accordion-group panel-class="nav-menu_item" ng-repeat="item in vm.navData" data-title="{{item.funUrl}}" is-open="item.isOpen"><uib-accordion-heading><i class="fa fa-{{item.icoName}} nav-menu_item-icon"></i> <span class="nav-menu_item-text">{{item.funName}}</span> <i class="pull-right fa" ng-class="{\'fa-angle-down\': item.isOpen, \'fa-angle-right\': !item.isOpen}"></i></uib-accordion-heading><ul class="nav-menu_sub-item"><li ng-repeat="subItem in item.child"><a ng-class="{active: vm.isActive(\'{{subItem.funUrl}}\')}" data-id="{{subItem.funUrl}}" data-name="{{subItem.funName}}" ng-click="vm.addToBread($event)" ui-sref=".{{subItem.funUrl}}">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div>'),t.put("app/departmentManager/attemper/attemper.tpl.html",'<div ng-controller="DepartmentManagerAttemperController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>床位分组管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增床号</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'部门名称\'">{{row.deptName}}</td><td data-title="\'床号\'">{{row.bedNo}}</td><td data-title="\'所属组\'">{{row.group}}</td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/bed/bed.tpl.html",'<div ng-controller="DepartmentManagerBedController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>床位分组管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增床号</button></div><div class="pull-right col-md-3"><label>所属组:</label> <input> <button class="btn btn-xs btn-primary">筛选</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'部门名称\'">{{row.deptName}}</td><td data-title="\'床号\'">{{row.bedNo}}</td><td data-title="\'所属组\'">{{row.group}}</td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/classes/classes.tpl.html",'<div ng-controller="DepartmentManagerClassesController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-backward"></i> <span>班次管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增班次</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'班次序号\'">{{row.index}}</td><td data-title="\'部门名称\'">{{row.deptName}}</td><td data-title="\'班次名称\'">{{row.name}}</td><td data-title="\'描述\'">{{row.remark}}</td><td data-title="\'起始时间\'">{{row.start}}</td><td data-title="\'结束时间\'">{{row.end}}</td><td data-title="\'所需人数\'">{{row.persons}}</td><td data-title="\'护士要求\'">{{row.yy}}</td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/endemicArea/endemicArea.tpl.html",'<div ng-controller="DepartmentManagerEndemicAreaController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>病区护理人员管理</span></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'姓名\'">{{row.deptName}}</td><td data-title="\'工号\'">{{row.bedNo}}</td><td data-title="\'所属护理组\'">{{row.group}}</td><td data-title="\'护士级别\'">{{row.level}}</td><td data-title="\'是否夜班准入\'">{{row.yb}}</td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/leave/leave.tpl.html",'<div ng-controller="DepartmentManagerLeaveController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>请假管理</span></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'部门名称\'">{{row.deptName}}</td><td data-title="\'员工姓名\'">{{row.name}}</td><td data-title="\'所属组\'">{{row.group}}</td><td data-title="\'起始时间\'">{{row.start}}</td><td data-title="\'结束时间\'">{{row.end}}</td><td data-title="\'请假原因\'">{{row.yy}}</td><td data-title="\'审批状态\'">{{row.status}}</td><td data-title="\'备注\'">{{row.remark}}</td><td data-title="\'操作\'"><button class="btn btn-xs btn-primary"><span class="fa fa-pencil"></span></button></td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/statistics/statistics.tpl.html",'<div ng-controller="DepartmentManagerStatisticsController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>床位分组管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增床号</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'部门名称\'">{{row.deptName}}</td><td data-title="\'床号\'">{{row.bedNo}}</td><td data-title="\'所属组\'">{{row.group}}</td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/turns/turns.tpl.html",'<div ng-controller="DepartmentManagerTurnsController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>排班管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增排班</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'员工姓名\'">{{row.name}}</td><td data-title="\'2016-04-04(周一)\'">{{row.d1}}</td><td data-title="\'2016-04-05(周二)\'">{{row.d2}}</td><td data-title="\'2016-04-06(周三)\'">{{row.d3}}</td><td data-title="\'2016-04-07(周四)\'">{{row.d4}}</td><td data-title="\'2016-04-08(周五)\'">{{row.d5}}</td><td data-title="\'2016-04-09(周六)\'">{{row.d6}}</td><td data-title="\'2016-04-10(周七)\'">{{row.d7}}</td><td data-title="\'出勤统计\'">{{row.group}}</td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">重新排班</button> <button class="btn btn-xs btn-primary">复制上周</button> <button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/departmentManager/turnsRule/turnsRule.tpl.html",'<div ng-controller="DepartmentManagerTurnsRuleController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-eye-slash"></i> <span>排班规则管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增规则</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'规则序号\'">{{row.ruleIndex}}</td><td data-title="\'规则信息\'">{{row.ruleInfo}}</td><td data-title="\'起始时间\'">{{row.start}}</td><td data-title="\'结束时间\'">{{row.end}}</td><td data-title="\'是否有效\'">{{row.valid}}</td><td data-title="\'对谁有效\'">{{row.user}}</td><td data-title="\'说明\'">{{row.remark}}</td><td data-title="\'操作\'"><button class="btn btn-xs btn-primary"><span class="fa fa-pencil"></span></button> <button class="btn btn-xs btn-primary"><span class="fa fa-trash"></span></button></td></tr></table><div class="pull-right"><button class="btn btn-xs btn-primary">保存</button></div></div></div></div>'),t.put("app/malCaseUp/call/call.tpl.html",'<div class="col-md-12" ng-controller="MalCaseUpCallController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-edit"></i> <span>填写不良事件上报表</span></div><div class="panel-body"><form class="form-horizontal"><div class="col-md-12"><div class="form-group" ng-repeat="row in vm.lst"><div ng-if="row.dataType ==\'text\'"><div class="form-group"><label class="col-sm-3 control-label">{{row.labelName}}：</label><div class="{{row.width}}"><input type="{{row.dataType}}" class="form-control input-sm"></div></div></div><div ng-if="row.dataType ==\'datetime-local\'"><div class="form-group"><label class="col-sm-3 control-label">{{row.labelName}}：</label><div class="{{row.width}}"><input type="{{row.dataType}}" class="form-control input-sm"></div></div></div><div ng-if="row.dataType ==\'date\'"><div class="form-group"><label class="col-sm-3 control-label">{{row.labelName}}：</label><div class="{{row.width}}"><input type="{{row.dataType}}" class="form-control input-sm"></div></div></div><div ng-if="row.dataType ==\'radio\'"><div class="form-group"><label class="col-sm-3 control-label">{{row.labelName}}：</label><div class="col-sm-9"><label ng-repeat="dtl in row.lst" class="radio-inline"><input type="radio" name="{{row.elementCode}}" id="{{dtl.elementCode}}" value="{{dtl.labelName}}">{{dtl.labelName}}</label></div></div></div><div ng-if="row.dataType ==\'select\'"><div class="form-group"><label class="col-sm-3 control-label">{{row.labelName}}：</label><div class="{{row.width}}"><select class="form-control input-sm"><option ng-repeat="dtl in row.lst" value="{{dtl.elementCode}}">{{dtl.labelName}}</option></select></div></div></div></div><div class="form-group"><div class="col-md-offset-3 col-md-9"><button type="submit" class="btn btn-success">上报</button></div></div></div></form></div></div></div>'),t.put("app/malCaseUp/element/element.tpl.html",'<div ng-controller="MalCaseUpElementController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-indent"></i> <span>不良元素元素管理</span><div class="pull-right"><button class="btn btn-xs btn-primary">新增元素</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'元素编号\'">{{row.elementCode}}</td><td data-title="\'元素名称\'">{{row.elementName}}</td><td data-title="\'显示名称\'">{{row.viewName}}</td><td data-title="\'压疮大小\'">{{row.groupName}}</td><td data-title="\'元素类型\'">{{row.elementType}}</td><td data-title="\'组件宽度\'">{{row.width}}</td><td data-title="\'备注\'">{{row.remark}}</td><td data-title="\'是否必填\'">{{row.required}}</td></tr></table></div></div></div>'),t.put("app/malCaseUp/fix/fix.tpl.html",'<div ng-controller="MalCaseUpFixController as vm"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">I\'m a modal!</h3> </div> <div class="modal-body"> <ul> <li ng-repeat="item in items"> <a href="#" ng-click="$event.preventDefault(); selected.item = item">{{ item }}</a> </li> </ul> Selected: <b>{{ selected.item }}</b> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> </div></script><button type="button" class="btn btn-default" ng-click="vm.open()">Open me!</button> <button type="button" class="btn btn-default" ng-click="vm.open(\'lg\')">Large modal</button> <button type="button" class="btn btn-default" ng-click="vm.open(\'sm\')">Small modal</button> <button type="button" class="btn btn-default" ng-click="vm.toggleAnimation()">Toggle Animation ({{ animationsEnabled }})</button><div ng-show="selected">Selection from a modal: {{ selected }}</div></div>'),t.put("app/malCaseUp/handle/handle.tpl.html",'<div class="col-md-12" ng-controller="MalCaseUpHandleController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-info"></i> <span>不良事件管理</span></div><div class="panel-body"><div class="panel panel-default"><div class="panel-title"><span>查询条件</span></div><div class="panel-body"><form class="form-horizontal"><div class="col-md-6"><div class="form-group"><label class="col-md-3 control-label">部门名称：</label> <input class="col-md-8"></div><div class="form-group"><label class="col-md-3 control-label">事件类型：</label> <input class="col-md-8"></div></div><div class="col-md-6"><div class="form-group"><label class="col-md-3 control-label">影响程度：</label> <input class="col-md-8"></div><div class="form-group"><label class="col-md-3 control-label">处理状态：</label> <input class="col-md-8"></div><div class="form-group col-md-11"><button class="pull-right"><span class="col-md-12">查询</span></button></div></div></form></div></div><div class="panel panel-default"><div class="panel-title"><span>查询结果</span></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'事件编号\'">{{row.eventCode}}</td><td data-title="\'事件类型\'">{{row.eventType}}</td><td data-title="\'影响程度\'">{{row.impact}}</td><td data-title="\'处理状态\'">{{row.status}}</td><td data-title="\'员工编号\'">{{row.userCode}}</td><td data-title="\'员工姓名\'">{{row.userName}}</td><td data-title="\'上报时间\'">{{row.callTime}}</td></tr></table></div><div class="panel-body"><button class="button pull-right">导出</button></div></div></div></div></div>'),t.put("app/malCaseUp/statistics/statistics.tpl.html",'<div ng-controller="MalCaseUpStatisticsController as vm"><button ng-click="tableParams.sorting({})" class="btn btn-default pull-left">新增</button> <button ng-click="tableParams.sorting({})" class="btn btn-danger pull-left">修改</button><table ng-table="tableParams" class="table table-striped table-bordered"><thead><tr><td>事件名称</td><td>事件类型</td><td>伤害级别</td><td>事件描述</td></tr></thead><tbody style="background-color: white"><tr ng-repeat="ls in vm.lst"><td>{{ls.groupNo}}</td><td>{{ls.groupName}}</td><td>{{ls.bedNo}}</td><td>{{ls.remark}}</td></tr></tbody></table></div>'),t.put("app/malCaseUp/type/type.tpl.html",'<div class="col-md-12" ng-controller="MalCaseUpTypeController as vm"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-send"></i> <span>上报类型列表</span><div class="pull-right"><button class="btn btn-xs btn-primary">增加类型</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in vm.lst"><td data-title="\'上报类型编号\'"><em>{{row.eventCode}}</em></td><td data-title="\'上报类型名称\'">{{row.eventName}}</td><td data-title="\'最后更新人\'">{{ row.lastUpdateCode }}</td><td data-title="\'最后更新时间\'">{{row.lastUpdateTime}}</td></tr></table><loading></loading></div></div></div>'),t.put("app/nursingWorkers/files/files.tpl.html",'<div class="col-md-2"><div class="panel pull-left dept-wrapper panel-default"><div class="panel-heading"><i class="fa fa-bars"></i> <span>科室列表</span></div><div class="panel-body list"><div class="list-filter"><input type="text" class="form-control input-sm" ng-model="vm.filterText.deptName" placeholder="输入关键字搜索"></div><div class="list__tile"><a href="javascript:;" ng-class="{\'active\': vm.deptData.deptCode === vm.selectedDept}" ng-click="vm.load(vm.deptData.deptCode)"><span class="list__text ng-binding ng-scope" role="button" tabindex="0">{{vm.deptData.deptName}}</span> <i class="pull-right fa fa-angle-down"></i></a></div><ul class="sublist"><li ng-repeat="subItem in vm.deptData.belongedDepts | filter: vm.filterText" class="accordion-item" ng-class="{\'active\': subItem.deptCode === vm.selectedDept}"><a ng-click="vm.load(subItem.deptCode)" class="sublist__item">{{subItem.deptName}}</a></li></ul></div></div></div><div class="col-md-10"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-user"></i> <span>人员数据</span><div class="pull-right"><button ng-click="vm.open()" ng-disabled="!vm.selectedDept" class="btn btn-primary btn-xs"><i class="fa fa-user-plus"></i> 添加员工</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-hover table-condensed table-bordered table-striped" demo-tracked-table="demo.tableTracker"><tr ng-repeat="row in $data" ng-class="{\'info\': vm.selectedUserCode === row.code}"><td data-title="\'编号\'" ng-click="vm.loadDetail(row.code)">{{row.hisCode}}</td><td data-title="\'姓名\'" ng-click="vm.loadDetail(row.code)">{{row.name}}</td><td data-title="\'邮箱\'" ng-click="vm.loadDetail(row.code)">{{ row.email }}</td><td data-title="\'电话\'" ng-click="vm.loadDetail(row.code)">{{row.phone}}</td><td data-title="\'操作\'"><button class="btn btn-default btn-xs" ng-click="vm.open(row.code)" uib-tooltip="编辑员工信息" ng-if="!row.isEditing"><span class="fa fa-pencil"></span></button> <button class="btn btn-danger btn-xs" ng-click="vm.del(row)" uib-tooltip="删除员工" ng-if="!row.isEditing"><span class="fa fa-trash"></span></button></td></tr></table></div></div><div class="panel panel-default" ng-if="vm.selectedUserCode"><div class="panel-body"><uib-tabset active="active"><uib-tab index="0" heading="基本信息"><div class="form-group col-md-3"><label class="col-sm-6 control-label">员工编号：</label> <span class="col-sm-6">{{vm.detail.comUser.hisCode}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">员工姓名：</label> <span class="col-sm-6">{{vm.detail.comUser.userName}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">员工性别：</label> <span class="col-sm-6">{{vm.detail.comUser.genderName}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">出生日期：</label> <span class="col-sm-6">{{vm.detail.comUser.birthday | date: \'yyyy-MM-dd\'}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">电话：</label> <span class="col-sm-6">{{vm.detail.comUser.phone}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">邮箱：</label> <span class="col-sm-6">{{vm.detail.comUser.email}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">到院日期：</label> <span class="col-sm-6">{{vm.detail.comUser.inductionDate | date: \'yyyy-MM-dd\'}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">员工性质：</label> <span class="col-sm-6">{{vm.detail.comUser.natureName}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">国籍：</label> <span class="col-sm-6">{{vm.detail.comUser.country}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">籍贯：</label> <span class="col-sm-6">{{vm.detail.comUser.nativePlace}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">民族：</label> <span class="col-sm-6">{{vm.detail.comUser.nation}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">证件类型：</label> <span class="col-sm-6">{{vm.detail.comUser.papersTypeName}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">证件号码：</label> <span class="col-sm-6">{{vm.detail.comUser.papersNo}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">毕业学校：</label> <span class="col-sm-6">{{vm.detail.comUser.graduationSchool}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">所学专业：</label> <span class="col-sm-6">{{vm.detail.comUser.profession}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">学位：</label> <span class="col-sm-6">{{vm.detail.comUser.degree}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">学位证编号：</label> <span class="col-sm-6">{{vm.detail.comUser.degreeNo}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">学历：</label> <span class="col-sm-6">{{vm.detail.comUser.education}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">学历证编号：</label> <span class="col-sm-6">{{vm.detail.comUser.educationNo}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">毕业时间：</label> <span class="col-sm-6">{{vm.detail.comUser.graduationDate | date:\'yyyy-MM-dd\'}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">外语水平：</label> <span class="col-sm-6">{{vm.detail.comUser.language}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">健康状态：</label> <span class="col-sm-6">{{vm.detail.comUser.health}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">批准时间：</label> <span class="col-sm-6">{{vm.detail.comUser.practiceApproveDate | date:\'yyyy-MM-dd\'}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">执业类型：</label> <span class="col-sm-6">{{vm.detail.comUser.practiceTypeName}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">执业证号：</label> <span class="col-sm-6">{{vm.detail.comUser.practiceType}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">有效期致：</label> <span class="col-sm-6">{{vm.detail.comUser.practiceValidDate | date: \'yyyy-MM-dd\'}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">政治面貌：</label> <span class="col-sm-6">{{vm.detail.comUser.politacalStatusName}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">职称：</label> <span class="col-sm-6">{{vm.detail.comUser.technicalPost}}</span></div><div class="form-group col-md-3"><label class="col-sm-6 control-label">职务：</label> <span class="col-sm-6">{{vm.detail.comUser.technicalPost}}</span></div></uib-tab><uib-tab index="1" heading="职称职务" active="tab.active"><table class="table table-striped table-condensed table-no-border"><tr><th>职务名称</th><th>审批单位</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat="dtl in vm.detail.comUserPosition"><td class="text-left">{{dtl.positionName}}</td><td class="text-left">{{dtl.reviewUnit}}</td><td class="text-left">{{dtl.startDate | date:\'yyyy-MM-dd\'}}</td><td class="text-left">{{dtl.endDate | date:\'yyyy-MM-dd\'}}</td></tr></table></uib-tab><uib-tab index="2" heading="护理信息"><table class="table table-striped table-condensed table-no-border"><tr><th>工作单位</th><th>工作部门</th><th>职务</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat="dtl in vm.detail.comUserNursing"><td class="text-left">{{dtl.reviewUnit}}</td><td class="text-left">{{dtl.deptName}}</td><td class="text-left">{{dtl.position}}</td><td class="text-left">{{dtl.startDate | date:\'yyyy-MM-dd\'}}</td><td class="text-left">{{dtl.endDate | date:\'yyyy-MM-dd\'}}</td></tr></table></uib-tab><uib-tab index="3" heading="教育工作"><table class="table table-striped table-condensed table-no-border"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat="dtl in vm.detail.comUserEducation"><td class="text-left">{{dtl.educationType}}</td><td class="text-left">{{dtl.leaningTime}}</td><td class="text-left">{{dtl.courseTopics}}</td><td class="text-left">{{dtl.courseContent}}</td><td class="text-left">{{dtl.startDate | date:\'yyyy-MM-dd\'}}</td><td class="text-left">{{dtl.endDate | date:\'yyyy-MM-dd\'}}</td></tr></table></uib-tab><uib-tab index="4" heading="继续教育"><table class="table table-striped table-condensed table-no-border"><tr><th>主办单位</th><th>学习内容</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat="dtl in vm.detail.comUserTraining"><td class="text-left">{{dtl.professional}}</td><td class="text-left">{{dtl.learnContent}}</td><td class="text-left">{{dtl.diploma}}</td><td class="text-left">{{dtl.speaker}}</td><td class="text-left">{{dtl.creditType}}</td><td class="text-left">{{dtl.credit}}</td><td class="text-left">{{dtl.funding}}</td><td class="text-left">{{dtl.startDate | date:\'yyyy-MM-dd\'}}</td><td class="text-left">{{dtl.endDate | date:\'yyyy-MM-dd\'}}</td></tr></table></uib-tab><uib-tab index="5" heading="学历信息"><table class="table table-striped table-condensed table-no-border"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat="dtl in vm.detail.comUserLearning"><td class="text-left">{{dtl.school}}</td><td class="text-left">{{dtl.professional}}</td><td class="text-left">{{dtl.diploma}}</td><td class="text-left">{{dtl.diplomaNo}}</td><td class="text-left">{{dtl.degree}}</td><td class="text-left">{{dtl.degreeNo}}</td><td class="text-left">{{dtl.startDate | date:\'yyyy-MM-dd\'}}</td><td class="text-left">{{dtl.endDate | date:\'yyyy-MM-dd\'}}</td></tr></table></uib-tab><uib-tab index="6" heading="家庭成员"><table class="table table-striped table-condensed table-no-border"><tr><th>亲属关系</th><th>姓名</th><th>联系电话</th><th>邮件</th></tr><tr ng-repeat="dtl in vm.detail.comUserFamily"><td class="text-left">{{dtl.relation}}</td><td class="text-left">{{dtl.name}}</td><td class="text-left">{{dtl.phone}}</td><td class="text-left">{{dtl.email}}</td></tr></table></uib-tab></uib-tabset></div></div></div>'),
t.put("app/nursingWorkers/files/modal.tpl.html",'<div><div class="modal-header"><button type="button" ng-click="vm.cancel()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">填写用户信息</h5></div><div class="modal-body"><uib-tabset active="active"><uib-tab index="0" heading="基本信息"><form class="form-horizontal comUser-form w5c-form" role="form" novalidate="" w5c-form-validate="vm.user.validationOption" name="userForm"><div class="static-form-item container-fluid"><div class="col-md-6"><div class="form-group"><label for="hisCode" class="col-sm-3 control-label">员工编号：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.count.comUser.hisCode" id="hisCode" name="hisCode" type="text"></div></div><div class="form-group"><label for="userName" class="col-sm-3 control-label">姓名：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.count.comUser.userName" id="userName" name="userName" type="text"></div></div><div class="form-group"><label for="duty" class="col-sm-3 control-label">职务：</label><div class="col-sm-9"><input id="duty" name="duty" ng-model="vm.count.comUser.duty" class="form-control input-sm" type="text"></div></div><div class="form-group"><label for="birthday" class="col-sm-3 control-label">出生日期：</label><div class="col-sm-9"><span class="input-group"><input type="text" id="birthday" name="birthday" required="" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="vm.birthdayOpen" ng-model="vm.count.comUser.birthday" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'birthdayOpen\')"><i class="fa fa-calendar"></i></button></span></span></div></div><div class="form-group"><label for="papersType" class="col-sm-3 control-label">证件类型：</label><div class="col-sm-9"><select id="papersType" name="papersType" ng-model="vm.count.comUser.papersType" class="form-control input-sm"><option value="01" label="身份证"></option><option value="02" label="居住证"></option><option value="03" label="签证"></option><option value="04" label="护照"></option><option value="05" label="军人证"></option></select></div></div><div class="form-group"><label for="nature" class="col-sm-3 control-label">员工性质：</label><div class="col-sm-9"><select id="nature" name="nature" ng-model="vm.count.comUser.nature" class="form-control input-sm"><option value="01" label="实习"></option><option value="02" label="试用"></option><option value="03" label="正式"></option><option value="04" label="离职"></option><option value="05" label="其他"></option></select></div></div><div class="form-group"><label for="country" class="col-sm-3 control-label">国籍：</label><div class="col-sm-9"><input type="text" id="country" name="country" ng-model="vm.count.comUser.country" class="form-control input-sm"></div></div><div class="form-group"><label for="nativePlace" class="col-sm-3 control-label">籍贯：</label><div class="col-sm-9"><input type="text" id="nativePlace" name="nativePlace" ng-model="vm.count.comUser.nativePlace" class="form-control input-sm"></div></div><div class="form-group"><label for="graduationSchool" class="col-sm-3 control-label">毕业学校：</label><div class="col-sm-9"><input type="text" id="graduationSchool" name="nativePlace" ng-model="vm.count.comUser.graduationSchool" class="form-control input-sm"></div></div><div class="form-group"><label for="degree" class="col-sm-3 control-label">学分类型：</label><div class="col-sm-9"><input type="text" id="degree" name="degree" ng-model="vm.count.comUser.degree" class="form-control input-sm"></div></div><div class="form-group"><label for="education" class="col-sm-3 control-label">学历：</label><div class="col-sm-9"><input type="text" id="education" name="education" ng-model="vm.count.comUser.education" class="form-control input-sm"></div></div><div class="form-group"><label for="language" class="col-sm-3 control-label">外语水平：</label><div class="col-sm-9"><input type="text" id="language" name="language" ng-model="vm.count.comUser.language" class="form-control input-sm"></div></div><div class="form-group"><label for="health" class="col-sm-3 control-label">健康状态：</label><div class="col-sm-9"><input type="text" id="health" name="health" ng-model="vm.count.comUser.health" class="form-control input-sm"></div></div><div class="form-group"><label for="practiceApproveDate" class="col-sm-3 control-label">执业批准时间：</label><div class="col-sm-9"><span class="input-group"><input type="text" id="practiceApproveDate" name="practiceApproveDate" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="vm.practiceApproveDateIsOpen" ng-model="vm.count.comUser.practiceApproveDate" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'practiceApproveDateIsOpen\')"><i class="fa fa-calendar"></i></button></span></span></div></div><div class="form-group"><label for="politacalStatus" class="col-sm-3 control-label">政治面貌：</label><div class="col-sm-9"><select id="politacalStatus" name="politacalStatus" ng-model="vm.count.comUser.politacalStatus" class="form-control input-sm"><option value="01" label="党员"></option><option value="02" label="团员"></option><option value="03" label="公民"></option><option value="04" label="其他"></option></select></div></div></div><div class="col-md-6"><div class="form-group"><label for="male" class="col-sm-3 control-label">性别：</label><div class="col-sm-9"><label class="radio-inline"><input type="radio" name="gender" ng-model="vm.count.comUser.gender" checked="" id="male" value="1"> 男</label> <label class="radio-inline"><input type="radio" name="gender" ng-model="vm.count.comUser.gender" id="female" value="0"> 女</label></div></div><div class="form-group"><label for="email" class="col-sm-3 control-label">邮箱：</label><div class="col-sm-9"><input id="email" class="form-control input-sm" name="email" ng-model="vm.count.comUser.email" type="email"></div></div><div class="form-group"><label for="phone" class="col-sm-3 control-label">电话：</label><div class="col-sm-9"><input id="phone" class="form-control input-sm" name="phone" ng-model="vm.count.comUser.phone" type="tel"></div></div><div class="form-group"><label for="inductionDate" class="col-sm-3 control-label">到院日期：</label><div class="col-sm-9"><span class="input-group"><input type="text" id="inductionDate" name="inductionDate" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="vm.inductionDateOpen" ng-model="vm.count.comUser.inductionDate" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'inductionDateOpen\')"><i class="fa fa-calendar"></i></button></span></span></div></div><div class="form-group"><label for="papersNo" class="col-sm-3 control-label">证件号码：</label><div class="col-sm-9"><input type="text" id="papersNo" name="papersNo" ng-model="vm.count.comUser.papersNo" class="form-control input-sm"></div></div><div class="form-group"><label for="nation" class="col-sm-3 control-label">民族：</label><div class="col-sm-9"><input type="text" id="nation" name="nation" ng-model="vm.count.comUser.nation" class="form-control input-sm"></div></div><div class="form-group"><label for="profession" class="col-sm-3 control-label">所学专业：</label><div class="col-sm-9"><input type="text" id="profession" name="profession" ng-model="vm.count.comUser.profession" class="form-control input-sm"></div></div><div class="form-group"><label for="educationNo" class="col-sm-3 control-label">学历证书编号：</label><div class="col-sm-9"><input type="text" id="educationNo" name="educationNo" ng-model="vm.count.comUser.educationNo" class="form-control input-sm"></div></div><div class="form-group"><label for="graduationDate" class="col-sm-3 control-label">毕业时间：</label><div class="col-sm-9"><span class="input-group"><input type="text" id="graduationDate" name="graduationDate" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="vm.graduationDateOpen" ng-model="vm.count.comUser.graduationDate" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'graduationDateOpen\')"><i class="fa fa-calendar"></i></button></span></span></div></div><div class="form-group"><label for="degreeNo" class="col-sm-3 control-label">学分：</label><div class="col-sm-9"><input type="text" id="degreeNo" name="degreeNo" ng-model="vm.count.comUser.degreeNo" class="form-control input-sm"></div></div><div class="form-group"><label for="practiceType" class="col-sm-3 control-label">执业类型：</label><div class="col-sm-9"><select id="practiceType" name="practiceType" ng-model="vm.count.comUser.practiceType" class="form-control input-sm"><option value="01" label="医师"></option><option value="02" label="护士"></option></select></div></div><div class="form-group"><label for="practiceNo" class="col-sm-3 control-label">执业证号：</label><div class="col-sm-9"><input type="text" id="practiceNo" name="practiceNo" ng-model="vm.count.comUser.practiceNo" class="form-control input-sm"></div></div><div class="form-group"><label for="practiceValidDate" class="col-sm-3 control-label">执业有效期致：</label><div class="col-sm-9"><span class="input-group"><input type="text" id="practiceValidDate" name="practiceValidDate" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="vm.practiceValidDateIsOpen" ng-model="vm.count.comUser.practiceValidDate" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'practiceValidDateIsOpen\')"><i class="fa fa-calendar"></i></button></span></span></div></div><div class="form-group"><label for="technicalPost" class="col-sm-3 control-label">职称：</label><div class="col-sm-9"><input type="text" id="technicalPost" name="technicalPost" ng-model="vm.count.comUser.technicalPost" class="form-control input-sm"></div></div></div></div><div class="container-fluid"><div class="col-md-6"><div class="form-group"><label class="col-sm-3 control-label"></label> <button data-type="comUser" w5c-form-submit="vm.save(\'comUser\', $event)" class="btn btn-success btn-sm">保存</button></div></div></div></form></uib-tab><uib-tab index="1" heading="职称职务" disable="!vm.accessible" active="tab.active"><form class="form-horizontal form-inline comUserPosition-form"><div class="table-wrap"><table class="table table-striped table-condensed table-no-border"><tr><th>职称</th><th>审批单位</th><th>开始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat="item in vm.count.comUserPosition track by $index"><td><input class="form-control input-sm" ng-model="item.positionName" placeholder="在职职称" type="text"></td><td><input type="text" class="form-control input-sm" ng-model="item.reviewUnit"></td><td><span class="input-group"><input type="text" id="comUserPosition_startDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.startDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.startDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'startDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><span class="input-group"><input type="text" on-open-focus="true" id="comUserPosition_endDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.endDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.endDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'endDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><button ng-click="vm.removeItem(\'comUserPosition\', $index,item.seqId)" class="btn btn-sm btn-danger">删除</button></td></tr></table></div><div class="container-fluid"><button ng-click="vm.addItem(\'comUserPosition\')" class="btn btn-primary btn-sm">添加职称</button> <button data-type="comUserPosition" ng-click="vm.save(\'comUserPosition\', $event)" class="btn btn-success btn-sm">保存</button></div></form></uib-tab><uib-tab index="2" heading="护理信息" disable="!vm.accessible"><form class="form-horizontal form-inline comUserNursing-form"><div class="table-wrap"><table class="table table-striped table-condensed table-no-border"><tr><th>工作单位</th><th>单位级别</th><th>所属部门</th><th>职务</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat="item in vm.count.comUserNursing"><td><input class="form-control input-sm" ng-model="item.reviewUnit" type="text"></td><td><input type="text" class="form-control input-sm" ng-model="item.unitLevel"></td><td><input type="text" class="form-control input-sm" ng-model="item.deptName"></td><td><input type="text" class="form-control input-sm" ng-model="item.position"></td><td><span class="input-group"><input type="text" id="comUserNursing_startDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.startDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.startDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'startDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><span class="input-group"><input type="text" id="comUserNursing_endDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.endDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.endDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'endDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><button ng-click="vm.removeItem(\'comUserNursing\', $index,item.seqId)" class="btn btn-sm btn-danger">删除</button></td></tr></table></div><div class="container-fluid"><button ng-click="vm.addItem(\'comUserNursing\')" class="btn btn-primary btn-sm">添加教育信息</button> <button data-type="comUserNursing" ng-click="vm.save(\'comUserNursing\')" class="btn btn-success btn-sm">保存</button></div></form></uib-tab><uib-tab index="3" heading="教育工作" disable="!vm.accessible"><form class="form-horizontal form-inline comUserEducation-form"><div class="table-wrap"><table class="table table-striped table-condensed table-no-border"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat="item in vm.count.comUserEducation"><td><input class="form-control input-sm" ng-model="item.educationType" type="text"></td><td><input type="text" class="form-control input-sm" ng-model="item.leaningTime"></td><td><input type="text" class="form-control input-sm" ng-model="item.courseTopics"></td><td><input type="text" class="form-control input-sm" ng-model="item.courseContent"></td><td><span class="input-group"><input type="text" id="comUserEducation_startDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.startDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.startDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'startDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><span class="input-group"><input type="text" id="comUserEducation_endDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.endDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.endDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'endDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><button ng-click="vm.removeItem(\'comUserEducation\', $index,item.seqId)" class="btn btn-sm btn-danger">删除</button></td></tr></table></div><div class="container-fluid"><button ng-click="vm.addItem(\'comUserEducation\')" class="btn btn-primary btn-sm">添加教育信息</button> <button data-type="comUserEducation" ng-click="vm.save(\'comUserEducation\')" class="btn btn-success btn-sm">保存</button></div></form></uib-tab><uib-tab index="4" heading="继续教育" disable="!vm.accessible"><form class="form-horizontal form-inline comUserTraining-form"><div class="table-wrap"><table class="table table-striped table-condensed table-no-border"><tr><th>学习内容</th><th>主办单位</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>描述</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat="item in vm.count.comUserTraining"><td><input class="form-control input-sm" ng-model="item.learnContent" type="text"></td><td><input type="text" class="form-control input-sm" ng-model="item.professional"></td><td><input type="text" class="form-control input-sm" style="width: 3em;" ng-model="item.diploma"></td><td><input type="text" class="form-control input-sm" ng-model="item.speaker"></td><td><input type="text" class="form-control input-sm" ng-model="item.creditType"></td><td><input type="text" class="form-control input-sm" style="width: 4em;" ng-model="item.credit"></td><td><input type="text" class="form-control input-sm" style="width: 4em;" ng-model="item.funding"></td><td><input type="text" class="form-control input-sm" ng-model="item.describe"></td><td><span class="input-group"><input type="text" id="comUserTraining_startDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.startDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.startDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'startDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><span class="input-group"><input type="text" id="comUserTraining_endDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.endDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.endDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'endDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><button ng-click="vm.removeItem(\'comUserTraining\', $index,item.seqId)" class="btn btn-sm btn-danger">删除</button></td></tr></table></div><div class="container-fluid"><button ng-click="vm.addItem(\'comUserTraining\')" class="btn btn-primary btn-sm">添加继续教育</button> <button data-type="comUserTraining" ng-click="vm.save(\'comUserTraining\')" class="btn btn-success btn-sm">保存</button></div></form></uib-tab><uib-tab index="5" heading="学历信息" disable="!vm.accessible"><form class="form-horizontal form-inline comUserLearning-form"><div class="table-wrap"><table class="table table-striped table-condensed table-no-border"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>描述</th><th>开始时间</th><th>结束时间</th><th></th></tr><tr ng-repeat="item in vm.count.comUserLearning"><td><input class="form-control input-sm" ng-model="item.school" type="text"></td><td><input type="text" class="form-control input-sm" ng-model="item.professional"></td><td><input type="text" class="form-control input-sm" ng-model="item.diploma"></td><td><input type="text" class="form-control input-sm" ng-model="item.diplomaNo"></td><td><input type="text" class="form-control input-sm" ng-model="item.degree"></td><td><input type="text" class="form-control input-sm" ng-model="item.degreeNo"></td><td><input type="text" class="form-control input-sm" ng-model="item.describe"></td><td><span class="input-group"><input type="text" id="comUserLearning_startDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.startDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.startDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'startDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><span class="input-group"><input type="text" id="comUserLearning_endDate_{{$index}}" uib-datepicker-popup="" datepicker-options="vm.dateOptions" is-open="item.endDateIsOpen" close-text="关闭" current-text="今天" clear-text="清除" class="form-control input-sm input-date" ng-model="item.endDate"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-default" ng-click="vm.openCalender(\'endDateIsOpen\', item)"><i class="fa fa-calendar"></i></button></span></span></td><td><button ng-click="vm.removeItem(\'comUserLearning\', $index,item.seqId)" class="btn btn-sm btn-danger">删除</button></td></tr></table></div><div class="container-fluid"><button ng-click="vm.addItem(\'comUserLearning\')" class="btn btn-primary btn-sm">添加学历</button> <button data-type="comUserLearning" ng-click="vm.save(\'comUserLearning\')" class="btn btn-success btn-sm">保存</button></div></form></uib-tab><uib-tab index="6" heading="家庭成员" disable="!vm.accessible"><form class="form-horizontal comUserFamily-form"><table class="table table-striped table-condensed table-no-border"><tr><th>亲属关系</th><th>姓名</th><th>联系电话</th><th>邮件</th><th>备注</th><th></th></tr><tr ng-repeat="item in vm.count.comUserFamily"><td><input type="hidden" ng-model="item.userCode" ng-value="vm.comUser.userCode"> <input class="form-control input-sm" ng-model="item.relation" type="text"></td><td><input type="text" class="form-control input-sm" ng-model="item.name"></td><td><input type="text" class="form-control input-sm" ng-model="item.phone"></td><td><input type="text" class="form-control input-sm" ng-model="item.email"></td><td><input type="text" class="form-control input-sm" ng-model="item.remark"></td><td><button ng-click="vm.removeItem(\'comUserFamily\', $index,item.seqId)" class="btn btn-sm btn-danger">删除</button></td></tr></table><div class="container-fluid"><button ng-click="vm.addItem(\'comUserFamily\')" class="btn btn-primary btn-sm">添加成员</button> <button data-type="comUserFamily" ng-click="vm.save(\'comUserFamily\')" class="btn btn-success btn-sm">保存</button></div></form></uib-tab></uib-tabset></div></div>'),t.put("app/system/roles/addRole.tpl.html",'<div><div class="modal-header"><button type="button" ng-click="vm.cancel()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">填写角色信息</h5></div><div class="modal-body"><form class="form-horizontal comUser-form w5c-form" role="form" novalidate="" w5c-form-validate="vm.role.validationOption" name="userForm"><div class="container-fluid"><div class="col-md-8"><div class="form-group"><label for="name" class="col-sm-3 control-label">角色名称：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.formData.roleName" id="roleName" name="roleName" type="text"></div></div><div class="form-group"><label for="email" class="col-sm-3 control-label">描述：</label><div class="col-sm-9"><textarea class="form-control input-sm" name="remark" ng-model="vm.formData.remark"></textarea></div></div><div class="form-group"><label for="name" class="col-sm-3 control-label"></label><div class="col-sm-9"><button class="btn btn-sm btn-success {{vm.loginBtnStatus.state}}" type="button" w5c-form-submit="vm.ok()">保存</button> <button class="btn btn-sm btn-default" type="button" ng-click="vm.cancel()">取消</button></div></div></div></div></form></div></div>'),t.put("app/system/roles/roles.tpl.html",'<div class="col-md-2"><div class="panel pull-left dept-wrapper panel-default"><div class="panel-heading"><i class="fa fa-bars"></i> <span>角色列表</span></div><div class="panel-body list"><ul class="sublist"><li ng-repeat="item in vm.roleData" class="accordion-item" ng-class="{\'active\': item.roleCode === vm.roleDetail.roleCode}"><a ng-click="vm.load(item)" data-role-code="{{item.roleCode}}" class="sublist__item">{{item.roleName}}</a></li></ul></div></div></div><div class="col-md-10"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-user"></i> <span>角色信息</span><div class="pull-right"><button ng-click="vm.open()" class="btn btn-primary btn-xs">添加角色</button></div></div><div class="panel-body"><form data-role-id="{{vm.roleDetail.seqId}}" class="form form-horizontal w5c-form role-edit-form change-user-form" novalidate="" w5c-form-validate="vm.validationOption" name="roleEditForm"><div class="container-fluid"><div class="col-md-6"><div class="form-group"><label for="roleCode" class="col-sm-3 control-label">角色编号：</label><div class="col-sm-9"><input class="form-control input-sm" ng-model="vm.roleDetail.roleCode" id="roleCode" name="roleCode" type="text"></div></div><div class="form-group"><label for="roleName" class="col-sm-3 control-label">角色名称：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.roleDetail.roleName" id="roleName" name="roleName" type="text"></div></div><div class="form-group"><label class="col-sm-3 control-label"></label><div class="col-sm-9"><button class="btn btn-sm btn-success {{vm.loginBtnStatus.state}}" type="button" ng-disabled="" w5c-form-submit="vm.edit()">保存</button> <button class="btn btn-sm btn-danger" type="button" ng-disabled="" ng-click="vm.del()">删除</button></div></div></div><div class="col-md-6"><div class="form-group"><label for="remark" class="col-sm-3 control-label">描述：</label><div class="col-sm-9"><textarea class="form-control input-sm" id="remark" name="remark" ng-model="vm.roleDetail.remark"></textarea></div></div></div></div><div class="navgation-edition container-fluid" ng-if="vm.roleDetail"><div class="col-md-5"><div class="panel panel-danger"><div class="panel-heading"><i class="fa fa-bars"></i> <span>未添加的功能</span></div><uib-accordion class="list-accordion" close-others="false"><uib-accordion-group ng-repeat="item in vm.notHaveList" panel-class="list__title" is-open="item.isOpen"><uib-accordion-heading><span class="dept-list__text">{{item.funName}}</span> <i class="pull-right fa" ng-class="{\'fa-angle-down\': item.isOpen, \'fa-angle-right\': !item.isOpen}"></i></uib-accordion-heading><ul class="dept-sublist"><li ng-repeat="subItem in item.child"><a ng-click="vm.navExchange(item, subItem, $parent.$index, $index, \'add\')" class="sublist__item">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div><div class="col-md-2 exchange-icon"><div class="text-center"><i class="fa fa-exchange"></i></div></div><div class="col-md-5"><div class="panel panel-success"><div class="panel-heading"><i class="fa fa-bars"></i> <span>已添加的功能</span></div><uib-accordion class="list-accordion" close-others="false"><uib-accordion-group ng-repeat="item in vm.hadList" panel-class="list__title" is-open="item.isOpen"><uib-accordion-heading><span class="dept-list__text">{{item.funName}}</span> <i class="pull-right fa" ng-class="{\'fa-angle-down\': item.isOpen, \'fa-angle-right\': !item.isOpen}"></i></uib-accordion-heading><ul class="dept-sublist"><li ng-repeat="subItem in item.child"><a ng-click="vm.navExchange(item, subItem, $parent.$index, $index, \'remove\')" class="sublist__item">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div></div></form></div></div></div>'),t.put("app/system/roles/rolesManagement.tpl.html",""),t.put("app/system/users/addExistRole.tpl.html",'<div><div class="modal-header"><button type="button" ng-click="vm.cancel()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">编辑用户角色信息</h5></div><div class="modal-body"><form class="form-horizontal comUser-form w5c-form" role="form" novalidate="" w5c-form-validate="vm.role.validationOption" name="userForm"><div class="container-fluid"><div class="col-md-8"><div class="form-group"><label for="name" class="col-sm-3 control-label">角色名称：</label><div class="col-sm-9"><select class="form-controll input-sm" ng-options="role.roleName for role in vm.metaData.roleList track by role.roleCode" name="userName" ng-model="vm.formData.role"></select></div></div><div class="form-group"><label for="email" class="col-sm-3 control-label">所属科室：</label><div class="col-sm-9"><select class="form-controll input-sm" ng-options="dept.deptName for dept in vm.metaData.deptList track by dept.deptCode" name="dept" ng-model="vm.formData.dept"></select></div></div></div></div></form></div><div class="modal-footer"><button class="btn btn-sm btn-success {{vm.roleBtnStatus.state}}" type="button" ng-click="vm.formData = {data: [{roleCode:vm.formData.role.roleCode,deptCode: vm.formData.dept.deptCode, userId: vm.metaData.currentUser.seqId}]}; vm.ok()">保存</button> <button class="btn btn-sm btn-default" type="button" ng-click="vm.cancel()">取消</button></div></div>'),t.put("app/system/users/addUser.tpl.html",'<div><div class="modal-header"><button type="button" ng-click="vm.cancel()" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h5 class="modal-title">填写角色信息</h5></div><div class="modal-body"><form class="form-horizontal comUser-form w5c-form" role="form" novalidate="" w5c-form-validate="vm.role.validationOption" name="userForm"><div class="container-fluid"><div class="col-md-8"><div class="form-group"><label for="name" class="col-sm-3 control-label">所属部门：</label><div class="col-sm-9"><input type="hidden" name="deptCode" ng-model="vm.formData.deptCode"> <input class="form-control input-sm" required="" ng-model="vm.formData.deptName" readonly="" id="deptCode" type="text"></div></div><div class="form-group"><label for="name" class="col-sm-3 control-label">用户姓名：</label><div class="col-sm-9"><select class="form-controll input-sm" name="userName" ng-model="vm.formData.userName" ng-change="vm.formData.userCode = (vm.metaData.userList | filter:vm.formData.userName)[0].code"><option ng-repeat="user in vm.metaData.userList" value="{{user.name}}">{{user.name}}</option></select></div></div><div class="form-group"><label for="name" class="col-sm-3 control-label">用户编号：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.formData.userCode" id="userCode" readonly="" name="userCode" type="text"></div></div><div class="form-group"><label for="name" class="col-sm-3 control-label">登录名：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.formData.loginName" id="loginName" name="loginName" type="text"></div></div><div class="form-group"><label for="email" class="col-sm-3 control-label">密码：</label><div class="col-sm-9"><input class="form-control input-sm" required="" ng-model="vm.formData.password" id="password" name="password" type="text"></div></div><div class="form-group"><label for="name" class="col-sm-3 control-label"></label><div class="col-sm-9"><button class="btn btn-sm btn-success {{vm.loginBtnStatus.state}}" type="button" w5c-form-submit="vm.ok()">保存</button> <button class="btn btn-sm btn-default" type="button" ng-click="vm.cancel()">取消</button></div></div></div></div></form></div></div>'),t.put("app/system/users/users.tpl.html",'<div class="col-md-2"><div class="panel pull-left dept-wrapper panel-default"><div class="panel-heading"><i class="fa fa-bars"></i> <span>科室列表</span></div><div class="panel-body list"><div class="list-filter"><input type="text" class="form-control input-sm" ng-model="vm.filterText.deptName" placeholder="输入关键字搜索"></div><uib-accordion class="list-accordion"><div class="list__tile"><a href="javascript:;" ng-class="{\'active\': vm.deptData.deptCode === vm.selectedDept}" ng-click="vm.load(vm.deptData.deptCode, vm.deptData.deptName)"><span class="list__text ng-binding ng-scope" role="button" tabindex="0">{{vm.deptData.deptName}}</span> <i class="pull-right fa fa-angle-down"></i></a></div><ul class="sublist"><li ng-repeat="subItem in vm.deptData.belongedDepts | filter:vm.filterText" class="accordion-item" ng-class="{\'active\': subItem.deptCode === vm.selectedDept}"><a ng-click="vm.load(subItem.deptCode, subItem.deptName)" class="sublist__item">{{subItem.deptName}}</a></li></ul></uib-accordion></div></div></div><div class="col-md-10"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-user"></i> <span>用户信息</span><div class="pull-right"><button ng-click="vm.open()" class="btn btn-primary btn-xs" ng-disabled="!vm.selectedDept">添加用户</button></div></div><div class="panel-body"><table ng-table="vm.tableParams" class="table table-hover table-condensed table-bordered table-striped" demo-tracked-table="demo.tableTracker"><tr ng-repeat="row in $data" ng-class="{\'info\': row.userCode === vm.selectedUser.userCode}" ng-click="vm.showRole(row)"><td data-title="\'员工编号\'">{{row.userCode}}</td><td data-title="\'用户姓名\'">{{row.userName}}</td><td data-title="\'登录名\'">{{row.loginName}}</td><td data-title="\'操作\'"><button class="btn btn-default btn-xs" uib-tooltip="编辑用户信息" ng-click="vm.open(row)" ng-if="!row.isEditing"><span class="fa fa-pencil"></span></button> <button class="btn btn-danger btn-xs" uib-tooltip="删除用户" ng-click="vm.del(row.seqId)" ng-if="!row.isEditing"><span class="fa fa-trash"></span></button></td></tr></table></div></div><div class="panel panel-default" ng-if="vm.selectedUser"><div class="panel-heading"><i class="fa fa-user"></i> <span>用户角色</span><div class="pull-right"><button ng-click="vm.openRole()" class="btn btn-primary btn-xs" ng-disabled="!vm.selectedDept">添加现有角色</button></div></div><div class="panel-body"><table ng-table="vm.roleTableParams" class="table table-hover table-condensed table-bordered table-striped" demo-tracked-table="demo.tableTracker"><tr ng-repeat="row in $data"><td data-title="\'角色编号\'">{{row.roleCode}}</td><td data-title="\'所属部门\'">{{row.deptName}}</td><td data-title="\'角色名称\'">{{row.roleName}}</td><td data-title="\'操作\'"><button class="btn btn-danger btn-xs" uib-tooltip="删除这个角色" ng-click="vm.delUserRole(row.seqId)" ng-if="!row.isEditing"><span class="fa fa-trash"></span></button></td></tr></table></div></div></div>'),
t.put("app/system/users/usersManagement.tpl.html","")}]);
//# sourceMappingURL=../maps/scripts/app-b5a0652106.js.map
