{"version":3,"sources":["scripts/app-983f022890.js"],"names":["angular","module","gridExpandFunc","restrict","templateUrl","element","attrs","tplSrc","link","scope","addClass","gridExpandTriggerFunc","template","td_parent","parent","expandArr","Array","row","length","bind","tdLen","querySelectorAll","$index","directive","gridCheckboxFunc","require","attr","ctrl","$apply","select","$watch","newValue","removeClass","children","checked","gridCheckAllFunc","all","forEach","val","isSelected","isAllSelected","newVal","oldVal","techFilesService","$window","$http","apiHost","getNurseList","deptCode","req","reqs","method","url","params","updateNurseInfo","data","comUser","dataType","Getter","type","id","getter","userCode","Setter","setter","Deleter","deleter","seqId","techFiles","service","getNurseHirReg","saveNurseHirReg","deleteNurseHirReg","getNurseExp","saveNurseExp","deleteNurseExp","getAcademic","saveAcademic","deleteAcademic","getAwardPunish","saveAwardPunish","deleteAwardPunish","getPerAssessment","savePerAssessment","deletePerAssessment","$inject","factory","techFileController","$rootScope","$scope","$uibModal","deptService","NgTableParams","del","delNurseJCI","then","response","$broadcast","content","load","open","modalInstance","controller","backdrop","controllerAs","animation","size","resolve","extend","vm","selectedDept","result","selectedUserId","rsp","lst","tableParams","dataset","loadDetail","detail","nurseHirReg","nurseExp","academic","awardPunish","perAssessment","this","rootScope","getDeptData","deptData","getDeptName","_","memoize","wardCode","name","some","belongedDepts","item","deptName","TechModalController","$uibModalInstance","$filter","loaders","save","info","cancel","dismiss","addItem","push","copy","initializer","saveItem","handler","capitalize","loader","purify","removeItem","i","splice","indexOf","nurse","userName","nurseId","filter","award","apType","punish","rank","rankArray","JCIModalController","techFilesJCIService","getPosStatement","getPreJobTrain","getAssessment","getConEducation","getCprAcls","getEduRecord","posStatement","preJobTrain","assessment","conEducation","cprAcls","eduRecord","assessmentCondition","assessmentContent","assessmentResult","resultArray","savePosStatement","deletePosStatement","savePreJobTrain","deletePreJobTrain","saveAssessment","deleteAssessment","saveConEducation","deleteConEducation","saveCprAcls","deleteCprAcls","saveEduRecord","deleteEduRecord","techFileJCIController","usersServiceFunc","$log","$q","toastr","getUserList","failed","error","toJson","get","users","complete","deleteUser","post","userObj","saveUser","saveUserRole","userRoleObj","deleteUserRole","code","UsersControllerFunc","usersService","filesService","modalService","security","selectedUser","dataForUserModal","formData","metaData","userList","user","hasOwnProperty","ok","openRole","role","template_url","dataForRoleModal","getUserRoleList","userId","currentUser","roleList","deptList","unshift","hadRoleList","userRoleList","map","r","roleCode","saveRole","success","close","showRole","roleTableParams","delUserRole","rolesModalControllerFunc","rolesService","rolesServiceFunc","getHaveFunction","msg","roles","getNotHaveFunction","getUserListComplete","getUserListFailed","edit","roleData","updateRole","deleteRole","rolesControllerFunc","$injector","getNotHave","getHave","roleDetail","notHaveList","hadList","delObj","refreshData","funs","fun","concat","child","updateTime","createTime","navExchange","parentItem","parentIndex","index","new_parentItem","dataList","otherList","hadItem","key","funCode","paperServiceFunc","deleteResearchPaper","research","saveResearchPaper","dataObj","getResearchPapers","param","getUserinfo","papersControllerFunc","paperService","initData","openEdit","add","savePaper","deletePapers","researchItemServiceFunc","deleteResearchItem","saveResearchItem","getResearchItems","itemControllerFunc","researchItemService","formDataForModal","saveGroup","deleteGroup","taskServiceFunc","deleteTask","qualityManager","deleteQualityTask","editTask","editQualityTask","saveTask","saveQualityTask","getTaskList","date","getQualityTaskList","getAllQualityForm","taskControllerFunc","taskService","s_date","s_deptCode","s_type","qualityFormList","formList","dataForTaskModal","addTask","methodsObj","addDept","addMember","removeDept","removeMember","selectedLevel","split","joinUserName","memberList","saveEditTask","m_this","deptText","memberText","create_Time","init_taskDate","taskDate","join","formCode","moment","format","parrent_create_Time","formServiceFunc","deleteForm","deleteQualityForm","editForm","editQualityForm","saveForm","saveQualityForm","getFormList","getQualityFormList","formControllerFunc","formService","$state","$location","addForm","dataForFormModal","addDetailList","removeDetailList","detailList","detailCode","points","stantard","qualityFormDetailList","saveEditForm","array_length","child_create_Time","filter_type","filter_area","selected","dealServiceFunc","deleteDeal","deleteQualityDeal","saveDeal","saveQualityDeal","getDealList","resultCode","getQualityDealList","getResultCode","getQualityResultCode","getChekcDetail","formName","getQualityCheckDetail","dealControllerFunc","dealService","get_myResultCode","result_code","resCode","dataForDealModal","checkDetail","s_formName","init_date","selectForm","get_lst","checkDetailList","get_result_code","saveEdit","issueContent","reasonAnalysis","resDescribe","resPlan","evaluation","issueTime","Date","reasonTime","resDTime","resPTime","evaluationTime","issueUserCode","reasonUserCode","resDUserCode","resPUserCode","evaluationUserCode","fileModalControllerFunc","$controller","count","birthday","practiceApproveDate","inductionDate","graduationDate","practiceValidDate","selectedDeptCode","startDate","endDate","getUserInfo","hisCode","accessible","selectedDeptName","datepickerOption","dateDisabled","formatYear","formatMonth","formatDay","initDate","maxDate","minDate","startingDay","validationOption","blurTrig","isNew","itemInitData","comUserPosition","positionName","reviewUnit","comUserNursing","unitLevel","position","comUserEducation","educationType","leaningTime","courseTopics","courseContent","comUserTraining","learnContent","professional","diploma","speaker","creditType","credit","funding","describe","comUserLearning","school","diplomaNo","degree","degreeNo","comUserFamily","relation","phone","email","remark","openCalender","obj","$on","event","config","w5cValidatorProvider","showError","removeError","setRules","number","required","duty","filesServiceFunc","getUserInfoComplete","getUserInfoFailed","files","getUserDetailInfo","setSelectUser","userData","delSeqId","toastrConfig","tapToDismiss","timeOut","filesControllerFunc","selectedUserCode","userDataList","openDialog","$emit","callback","viewDetail","prop","dataTemp","dateArr","dateItem","tempItem","isOpen","checkServiceFunc","deleteCheck","deleteQualityCheck","saveEditCheck","editQualityCheck","getCheckList","getQualityCheckList","checkControllerFunc","checkService","s_formCode","dataForCheckModal","len","child_count","parent_count","qualityResultDetailList","Number","workManualServiceFunc","manual","workManual","delete","workControllerFunc","bedService","getGroupList","beds","bedList","addFlow","flowText","removeFlow","manualItemServiceFunc","deleteItem","itemCode","getItems","manualItemService","selectedItem","dept","typeServiceFun","getEventType","events","getEventTypeList","typeControllerFun","typeService","statisticsControllerFun","groupNo","groupName","bedNo","debug","page","total","getData","$defer","orderedData","sorting","orderBy","slice","levelServiceFunc","deleteEventLevel","saveEventLevel","getEventLevels","levelControllerFun","levelService","flow","flowList","handleServiceFunc","reportCode","deleteEventReport","getReportDetail","getEventMeasures","getEventRequirement","saveReportDetail","saveMeasure","saveEventMeasures","saveRequirement","saveEventRequirement","saveEstimate","deleteRequirement","deleteEventRequirement","deleteMeasure","deleteEventMeasures","deleteEstimate","handleControllerFun","fixService","handleService","getEventList","selectedEvent","initModalData","open_it","appendTo","saveListItem","listName","itemData","list_name","upFirstLetter","data_temp","reqCode","reqContent","meaTime","meaCode","meaContent","headUserCode","measure","resStatus","removeListItem","_params","fillItem","itemName","resetForm","str","replace","match","toUpperCase","getReportDetails","_promise","requirements","measures","reportDetails","value","itemValue","malCaseInfo","requirementList","measureList","reportDetailList","data_arr","context","fixServiceFunc","elementCode","elementName","viewName","elementType","width","callServiceFunc","saveEventReport","callControllerFun","callService","eventTypeList","eventTimeCalender","eventTimeOpen","setUser","initLevelData","response_data","eventDate","eventTime","level","damageLevel","eventType","eventTypeCode","eventTypeName","levelList","date_temp","time_temp","fromJson","TurnsRuleControlleFun","turnsRuleService","classesService","getRuleList","classList","saveRule","deleteRule","getClassList","schedule","turnsServiceFunc","getSchedule","week","saveSchedule","newSchedule","copySchedule","outWeek","srcWeek","turnsControllerFunc","turnsService","dtls","saveTurns","weeks","nextWeek","backWeek","newTurns","copyWeek","statisticsFunc","getByLeave","statistics","getByClass","getByDays","statisticsControllerFunc","deptStatisticsService","init","queryParams","month","options","getStatistics","openPicker","picker","type_temp","statisticsData","monthOpen","startDateOpen","endDateOpen","datepickerMode","minMode","leaveServiceFunc","apprvScheduleLeave","deleteScheduleLeave","saveScheduleLeave","getLeaveList","leaveControllerFunc","leaveService","startTime","endTime","saveLeave","dater","review","saveReview","timer","d","t","time","init_startDate","init_startTime","init_endDate","init_endTime","deptNme","addLeave","areaServiceFunc","batchSaveUserNurse","getUserNurses","endemicAreaControllerFunc","areaService","groupLst","saveArea","classesServiceFunc","deleteClass","saveClass","saveclass","classesControllerFunc","dataForClassModal","new_Time","final_Time","new_startTime","new_endTime","addClasses","bedServiceFunc","bedControllerFunc","attemperService","deleteChangeClass","saveChangeClass","apprvChangeClass","getChangeClass","attemperControllerFunc","classes","acmeNavbar","NavbarController","toggleNavView","showSubNav","currentIndex","navData","isSubNavShow","toggleSubNavView","setActiveIndex","userInfo","setCacheUser","isActive","$parent","nav","bindToController","cusHeaderFunc","headerController","$interval","openUserDialog","openRoleDialog","logout","hd","time_now","e","go","changeUserControllerFunc","$timeout","resetState","loginBtnStatus","title","state","changeUser","loginedUser","loginName","login","user_info","tab","setUserinfo","path","location","reload","pattern","password","minlength","maxlength","changeRoleControllerFunc","roleBtnStatus","currentRole","selectedRole","roleObj","changedRole","changeRole","getNavigation","userinfo","acmeBreadFunc","breadController","bc","tabTemp","removeTab","$event","state_id","currentTarget","prev_li","parents","prev","next_li","next","find","hasClass","removeFromBreadcrumb","document","ready","tabItem","tabItemLen","pathLen","substr","loadingLinkFunc","elem","tabItems","isLoading","pendingRequests","$watchGroup","resArr","tabWrapperWidth","outerWidth","totalWidth","itemWidth","each","_item","_div","_span","innerTextWidth","innerWidth","tabOuterwidth","divInnerWidth","realWidth","securityFunc","clearUserinfo","getCacheUser","sessionStorage","getItem","setItem","clearCacheUser","system","getRoleList","userRoleId","addToBreadcrumb","interceptorFunc","request","when","requestError","rejection","statusText","reject","responseError","status","message","deptServiceFunc","getDeptListComplete","userRole","getDeptListFailed","getDept","modalServiceFunc","$uibModalStack","initFn","reason","dismissAll","ModalControllerFunc","isObject","loadingFunc","v","setAttribute","windowWidth","window","windowHeight","innerHeight","loadingWidth","input","exportExcelService","downloadExcel","exportFunc","exslSrc","exportExcelController","getDataFromDom","headerArr","bodyArr","ths","tds","call","th","textContent","td","header","body","doExport","timestampToString","ngModel","$formatters","shift","$parsers","CoreController","limitEvent","stopPropagation","preventDefault","MainController","isLogined","locationPath","isMini","isShow","toState","toParams","fromState","fromParams","loginController","setLoginBtnstate","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","$locationProvider","otherwise","constant","update","getFunction","getEventReport","editQualityDeal","$logProvider","$httpProvider","debugEnabled","autoDismiss","allowHtml","positionClass","progressBar","preventOpenDuplicates","iconClasses","warning","interceptors","$templateCache","put"],"mappings":"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","file":"scripts/app-983f022890.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('nqms', [\n      'ngLocale',\n      'ngAnimate',\n      'ngCookies',\n      'ngTouch',\n      'ngSanitize',\n      'ngMessages',\n      'ngAria',\n      'ngResource',\n      'ui.router',\n      'ui.bootstrap',\n      'toastr',\n      'w5c.validator',\n      'ngTable',\n      'AngularPrint',\n      'ui.grid'\n    ]);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('gridExpand', gridExpandFunc)\n    .directive('gridExpandTrigger', gridExpandTriggerFunc);\n\n  /** @ngInject */\n  /**\n   * 表格展开更多信息\n   * @return {object}\n   */\n  function gridExpandFunc() {\n    return {\n      restrict: 'A',\n      templateUrl: function(element, attrs) {\n        return attrs.tplSrc || ''\n      },\n      link: function(scope, element) {\n        element.addClass('tr-expand');\n      }\n    }\n  }\n\n  /** @ngInject */\n  /**\n   * 展开表格开关\n   * @return {object} 指令对象\n   */\n  function gridExpandTriggerFunc() {\n    return {\n      restrict: 'A',\n      template: '<i class=\"fa\" ng-class=\"{\\'fa-caret-right\\': !expandArr[$index], \\'fa-caret-down\\': expandArr[$index]}\">',\n      link: function(scope, element) {\n        var td_parent = element.parent()[0];\n\n        scope.expandArr = new Array(scope.row.length);\n        element.addClass('td-expand');\n\n        element.bind('click', function() {\n          var tdLen = td_parent.querySelectorAll('td').length;\n\n          scope.tdLen = tdLen;\n          scope.expandArr[scope.$index] = !scope.expandArr[scope.$index];\n        });\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('gridCheckbox', gridCheckboxFunc);\n\n  /** @ngInject */\n  /**\n   * 表格多选框\n   * @return {object}\n   */\n  function gridCheckboxFunc() {\n    return {\n      require: '^stTable',\n      template: '<input type=\"checkbox\"/>',\n      scope: {\n        row: '=gridCheckbox'\n      },\n      link: function(scope, element, attr, ctrl) {\n\n        element.bind('change', function() {\n          scope.$apply(function() {\n            ctrl.select(scope.row, 'multiple');\n          });\n        });\n\n        scope.$watch('row.isSelected', function(newValue) {\n          if (newValue === true) {\n            element.parent().addClass('active');\n          } else {\n            element.parent().removeClass('active');\n          }\n\n          element.children()[0].checked = typeof newValue !== 'undefined' ? newValue : false;\n        });\n      }\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('gridCheckAll', gridCheckAllFunc);\n\n  /** @ngInject */\n  /**\n   * 表格全选\n   * @return {object}\n   */\n  function gridCheckAllFunc() {\n    return {\n      restrict: 'E',\n      template: '<input type=\"checkbox\" ng-model=\"isAllSelected\" />',\n      scope: {\n        all: '='\n      },\n      link: function (scope) {\n\n        scope.$watch('isAllSelected', function () {\n          if (typeof scope.all === 'undefined') {\n            return;\n          }\n          scope.all.forEach(function (val) {\n            val.isSelected = scope.isAllSelected;\n          })\n        });\n\n        scope.$watch('all', function (newVal, oldVal) {\n          if (oldVal) {\n            oldVal.forEach(function (val) {\n              val.isSelected = false;\n            });\n          }\n\n          scope.isAllSelected = false;\n        });\n      }\n    }\n  }\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .factory('techFilesService', techFilesService);\r\n\r\n  /** @ngInject */\r\n  function techFilesService($window, $http, apiHost) {\r\n    var reqs = apiHost.techFiles,\r\n      service = {\r\n        getNurseList: getNurseList,\r\n        updateNurseInfo: updateNurseInfo,\r\n        getNurseHirReg: Getter('nurseHirReg'),\r\n        saveNurseHirReg: Setter('nurseHirReg'),\r\n        deleteNurseHirReg: Deleter('nurseHirReg'),\r\n        getNurseExp: Getter('nurseExp'),\r\n        saveNurseExp: Setter('nurseExp'),\r\n        deleteNurseExp: Deleter('nurseExp'),\r\n        getAcademic: Getter('academic'),\r\n        saveAcademic: Setter('academic'),\r\n        deleteAcademic: Deleter('academic'),\r\n        getAwardPunish: Getter('awardPunish'),\r\n        saveAwardPunish: Setter('awardPunish'),\r\n        deleteAwardPunish: Deleter('awardPunish'),\r\n        getPerAssessment: Getter('perAssessment'),\r\n        savePerAssessment: Setter('perAssessment'),\r\n        deletePerAssessment: Deleter('perAssessment')\r\n      };\r\n\r\n    return service;\r\n\r\n    function getNurseList(deptCode) {\r\n      var req = reqs.getNurseList;\r\n      return $http[req.method](req.url, {\r\n        params: {\r\n          deptCode: deptCode\r\n        }\r\n      });\r\n    }\r\n\r\n    function updateNurseInfo(data) {\r\n      var req = reqs.updateNurseInfo;\r\n      return $http[req.method](req.url, {\r\n        comUser: data,\r\n        dataType: 'comUser'\r\n      });\r\n    }\r\n\r\n    function Getter(type) {\r\n      return function(id) {\r\n        var req = reqs[type].getter;\r\n        return $http[req.method](req.url, {\r\n          userCode: id\r\n        });\r\n      }\r\n    }\r\n\r\n    function Setter(type) {\r\n      return function(data) {\r\n        var req = reqs[type].setter;\r\n        return $http[req.method](req.url, data);\r\n      }\r\n    }\r\n\r\n    function Deleter(type) {\r\n      return function(id) {\r\n        var req = reqs[type].deleter;\r\n        return $http[req.method](req.url, {\r\n          params: {\r\n            seqId: id\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('TechFileController', techFileController);\r\n\r\n  /** @ngInject */\r\n  function techFileController($rootScope, $scope, $uibModal, deptService, NgTableParams, techFilesService) {\r\n    var vm = this;\r\n\r\n    vm.rootScope = $rootScope;\r\n    vm.scope = $scope;\r\n\r\n    //删除用户数据\r\n    vm.del = del;\r\n    //添加用户\r\n    vm.open = open;\r\n    // 加载用户列表\r\n    vm.load = load;\r\n    //加载用户详细信息\r\n    vm.loadDetail = loadDetail;\r\n    vm.detail = {};\r\n\r\n    deptService.getDeptData().then(function(data) {\r\n      vm.deptData = data;\r\n      vm.getDeptName = _.memoize(function(wardCode) {\r\n        var name;\r\n        _.some(data.belongedDepts, function(item) {\r\n          if (item.deptCode == wardCode) {\r\n            name = item.deptName;\r\n            return true;\r\n          }\r\n        });\r\n        return name;\r\n      });\r\n    });\r\n\r\n\r\n    function del(userCode) {\r\n      techFilesService.delNurseJCI(userCode).then(function(response) {\r\n        $rootScope.$broadcast('toast', {\r\n          type: 'success',\r\n          content: '删除成功'\r\n        });\r\n        load();\r\n      });\r\n    }\r\n\r\n    function open(data) {\r\n      var modalInstance = $uibModal.open({\r\n        templateUrl: 'app/techFiles/techFiles/modal.tpl.html',\r\n        controller: 'TechModalController',\r\n        backdrop: 'static',\r\n        controllerAs: 'vm',\r\n        animation: true,\r\n        size: 'xlg',\r\n        resolve: {\r\n          id: function() {\r\n            return angular.extend({\r\n              deptCode: vm.selectedDept\r\n            }, data);\r\n          }\r\n        }\r\n      });\r\n\r\n      modalInstance.result.finally(function() {\r\n        load();\r\n        vm.selectedUserId = '';\r\n      });\r\n    }\r\n\r\n    function load(deptCode) {\r\n      if (deptCode) {\r\n        vm.selectedDept = deptCode;\r\n      } else {\r\n        deptCode = vm.selectedDept;\r\n      }\r\n      techFilesService.getNurseList(deptCode).then(function(rsp) {\r\n        var data = rsp.data.data.lst;\r\n        vm.tableParams = new NgTableParams({}, {\r\n          dataset: data\r\n        });\r\n      });\r\n    }\r\n\r\n    function loadDetail(userCode) {\r\n      vm.selectedUserId = userCode;\r\n      techFilesService.getNurseHirReg(userCode).then(function(rsp) {\r\n        vm.detail.nurseHirReg = rsp.data.data;\r\n      });\r\n      techFilesService.getNurseExp(userCode).then(function(rsp) {\r\n        vm.detail.nurseExp = rsp.data.data;\r\n      });\r\n      techFilesService.getAcademic(userCode).then(function(rsp) {\r\n        vm.detail.academic = rsp.data.data;\r\n      });\r\n      techFilesService.getAwardPunish(userCode).then(function(rsp) {\r\n        vm.detail.awardPunish = rsp.data.data;\r\n      });\r\n      techFilesService.getPerAssessment(userCode).then(function(rsp) {\r\n        vm.detail.perAssessment = rsp.data.data;\r\n      });\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('TechModalController', TechModalController);\r\n\r\n  /** @ngInject */\r\n  function TechModalController($rootScope, $scope, $uibModalInstance, $filter, NgTableParams, deptService, techFilesService, id) {\r\n    var vm = this,\r\n      nurse = id,\r\n      nurseId = nurse.userCode,\r\n      capitalize = $filter('capitalize'),\r\n      filter = $filter('filter'),\r\n      loaders = {\r\n        getNurseHirReg: function() {\r\n          techFilesService.getNurseHirReg(nurseId).then(function(rsp) {\r\n            vm.detail.nurseHirReg = rsp.data.data;\r\n          });\r\n        },\r\n        getNurseExp: function() {\r\n          techFilesService.getNurseExp(nurseId).then(function(rsp) {\r\n            vm.detail.nurseExp = rsp.data.data;\r\n          });\r\n        },\r\n        getAcademic: function() {\r\n          techFilesService.getAcademic(nurseId).then(function(rsp) {\r\n            vm.detail.academic = rsp.data.data;\r\n          });\r\n        },\r\n        getAwardPunish: function() {\r\n          techFilesService.getAwardPunish(nurseId).then(function(rsp) {\r\n            vm.detail.award = filter(rsp.data.data, { apType: 1 });\r\n            vm.detail.punish = filter(rsp.data.data, { apType: 2 });\r\n          });\r\n        },\r\n        getPerAssessment: function() {\r\n          techFilesService.getPerAssessment(nurseId).then(function(rsp) {\r\n            vm.detail.perAssessment = rsp.data.data;\r\n          });\r\n        }\r\n      },\r\n      initializer = {\r\n        nurseHirReg: {},\r\n        nurseExp: {\r\n          rank: '一般专科护士'\r\n        },\r\n        academic: {},\r\n        award: { apType: 1 },\r\n        punish: { apType: 2 },\r\n        perAssessment: {}\r\n      };\r\n\r\n    deptService.getDeptData().then(function(data) {\r\n      vm.deptData = data.belongedDepts;\r\n    });\r\n\r\n    vm.detail = {\r\n      info: nurse\r\n    };\r\n    vm.rankArray = ['一般专科护士', '高级专科护士', '临床护理专家'];\r\n    vm.save = save;\r\n    vm.cancel = cancel;\r\n    vm.addItem = addItem;\r\n    vm.saveItem = saveItem;\r\n    vm.removeItem = removeItem;\r\n    loadDetail();\r\n\r\n    function loadDetail() {\r\n      loaders.getNurseHirReg();\r\n      loaders.getNurseExp();\r\n      loaders.getAcademic();\r\n      loaders.getAwardPunish();\r\n      loaders.getPerAssessment();\r\n    }\r\n\r\n    function save() {\r\n      techFilesService.updateNurseInfo(vm.detail.info).then(function() {\r\n        $rootScope.$broadcast('toast', {\r\n          type: 'success',\r\n          content: '保存成功'\r\n        });\r\n      });\r\n    }\r\n\r\n    function cancel() {\r\n      $uibModalInstance.dismiss();\r\n    }\r\n\r\n    function addItem(type) {\r\n      vm.detail[type].push(angular.copy(initializer[type]));\r\n    }\r\n\r\n    function saveItem(type, data) {\r\n      var handler = techFilesService['save' + capitalize(type)],\r\n        loader = loaders['get' + capitalize(type)],\r\n        data = angular.extend({}, data);\r\n      purify(data);\r\n      handler(data).then(function() {\r\n        $rootScope.$broadcast('toast', {\r\n          type: 'success',\r\n          content: '保存成功'\r\n        });\r\n        loader();\r\n      });\r\n    }\r\n\r\n    function removeItem(type, seqId, i) {\r\n      if (seqId) {\r\n        var handler = techFilesService['delete' + capitalize(type)],\r\n          loader = loaders['get' + capitalize(type)];\r\n        handler(seqId).then(function() {\r\n          $rootScope.$broadcast('toast', {\r\n            type: 'success',\r\n            content: '删除成功'\r\n          });\r\n          loader();\r\n        });\r\n      } else {\r\n        vm.detail[type].splice(i, 1);\r\n      }\r\n    }\r\n\r\n    function purify(data) {\r\n      for (var i in data) {\r\n        if (i.indexOf('IsOpen') > -1) {\r\n          delete data[i];\r\n        }\r\n      }\r\n      data.userCode = nurse.userCode;\r\n      data.userName = nurse.userName;\r\n      return data;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('JCIModalController', JCIModalController);\r\n\r\n  /** @ngInject */\r\n  function JCIModalController($rootScope, $scope, $uibModalInstance, $filter, NgTableParams, deptService, techFilesJCIService, id) {\r\n    var vm = this,\r\n      nurse = id,\r\n      nurseId = nurse.userCode,\r\n      capitalize = $filter('capitalize'),\r\n      loaders = {\r\n        getPosStatement: function() {\r\n          techFilesJCIService.getPosStatement(nurseId).then(function(rsp) {\r\n            vm.detail.posStatement = rsp.data.data;\r\n          });\r\n        },\r\n        getPreJobTrain: function() {\r\n          techFilesJCIService.getPreJobTrain(nurseId).then(function(rsp) {\r\n            vm.detail.preJobTrain = rsp.data.data;\r\n          });\r\n        },\r\n        getAssessment: function() {\r\n          techFilesJCIService.getAssessment(nurseId).then(function(rsp) {\r\n            vm.detail.assessment = rsp.data.data;\r\n          });\r\n        },\r\n        getConEducation: function() {\r\n          techFilesJCIService.getConEducation(nurseId).then(function(rsp) {\r\n            vm.detail.conEducation = rsp.data.data;\r\n          });\r\n        },\r\n        getCprAcls: function() {\r\n          techFilesJCIService.getCprAcls(nurseId).then(function(rsp) {\r\n            vm.detail.cprAcls = rsp.data.data;\r\n          });\r\n        },\r\n        getEduRecord: function() {\r\n          techFilesJCIService.getEduRecord(nurseId).then(function(rsp) {\r\n            vm.detail.eduRecord = rsp.data.data;\r\n          });\r\n        }\r\n      },\r\n      initializer = {\r\n        posStatement: {},\r\n        preJobTrain: {\r\n          rank: '全院',\r\n          assessmentCondition: '合格'\r\n        },\r\n        assessment: {},\r\n        conEducation: {\r\n          rank: '全院'\r\n        },\r\n        cprAcls: {\r\n          assessmentContent: '合格'\r\n        },\r\n        eduRecord: {\r\n          rank: '全院',\r\n          assessmentResult: '合格'\r\n        }\r\n      }\r\n\r\n    vm.detail = {\r\n      info: nurse\r\n    };\r\n    vm.rankArray = ['全院', '护理部', '科室'];\r\n    vm.resultArray = ['合格', '不合格'];\r\n    vm.save = save;\r\n    vm.cancel = cancel;\r\n    vm.addItem = addItem;\r\n    vm.saveItem = saveItem;\r\n    vm.removeItem = removeItem;\r\n    loadDetail();\r\n\r\n    function loadDetail() {\r\n      loaders.getPosStatement();\r\n      loaders.getPreJobTrain();\r\n      loaders.getAssessment();\r\n      loaders.getConEducation();\r\n      loaders.getCprAcls();\r\n      loaders.getEduRecord();\r\n    }\r\n\r\n    function save() {\r\n      techFilesJCIService.updateNurseInfo(vm.detail.info).then(function() {\r\n        $rootScope.$broadcast('toast', {\r\n          type: 'success',\r\n          content: '保存成功'\r\n        });\r\n      });\r\n    }\r\n\r\n    function cancel() {\r\n      $uibModalInstance.dismiss();\r\n    }\r\n\r\n    function addItem(type) {\r\n      vm.detail[type].push(angular.copy(initializer[type]));\r\n    }\r\n\r\n    function saveItem(type, data) {\r\n      var handler = techFilesJCIService['save' + capitalize(type)],\r\n        loader = loaders['get' + capitalize(type)],\r\n        data = angular.extend({}, data);\r\n      purify(data);\r\n      handler(data).then(function() {\r\n        $rootScope.$broadcast('toast', {\r\n          type: 'success',\r\n          content: '保存成功'\r\n        });\r\n        loader();\r\n      });\r\n    }\r\n\r\n    function removeItem(type, seqId, i) {\r\n      if (seqId) {\r\n        var handler = techFilesJCIService['delete' + capitalize(type)],\r\n          loader = loaders['get' + capitalize(type)];\r\n        handler(seqId).then(function() {\r\n          $rootScope.$broadcast('toast', {\r\n            type: 'success',\r\n            content: '删除成功'\r\n          });\r\n          loader();\r\n        });\r\n      } else {\r\n        vm.detail[type].splice(i, 1);\r\n      }\r\n    }\r\n\r\n    function purify(data) {\r\n      for (var i in data) {\r\n        if (i.indexOf('IsOpen') > -1) {\r\n          delete data[i];\r\n        }\r\n      }\r\n      data.userCode = nurse.userCode;\r\n      data.userName = nurse.userName;\r\n      return data;\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .factory('techFilesJCIService', techFilesJCIService);\r\n\r\n  /** @ngInject */\r\n  function techFilesJCIService($window, $http, apiHost) {\r\n    var reqs = apiHost.techFiles,\r\n      service = {\r\n        getNurseList: getNurseList,\r\n        updateNurseInfo: updateNurseInfo,\r\n        getPosStatement: Getter('posStatement'),\r\n        savePosStatement: Setter('posStatement'),\r\n        deletePosStatement: Deleter('posStatement'),\r\n        getPreJobTrain: Getter('preJobTrain'),\r\n        savePreJobTrain: Setter('preJobTrain'),\r\n        deletePreJobTrain: Deleter('preJobTrain'),\r\n        getAssessment: Getter('assessment'),\r\n        saveAssessment: Setter('assessment'),\r\n        deleteAssessment: Deleter('assessment'),\r\n        getConEducation: Getter('conEducation'),\r\n        saveConEducation: Setter('conEducation'),\r\n        deleteConEducation: Deleter('conEducation'),\r\n        getCprAcls: Getter('cprAcls'),\r\n        saveCprAcls: Setter('cprAcls'),\r\n        deleteCprAcls: Deleter('cprAcls'),\r\n        getEduRecord: Getter('eduRecord'),\r\n        saveEduRecord: Setter('eduRecord'),\r\n        deleteEduRecord: Deleter('eduRecord')\r\n      };\r\n\r\n    return service;\r\n\r\n    function getNurseList(deptCode) {\r\n      var req = reqs.getNurseList;\r\n      return $http[req.method](req.url, {\r\n        params: {\r\n          deptCode: deptCode\r\n        }\r\n      });\r\n    }\r\n\r\n    function updateNurseInfo(data) {\r\n      var req = reqs.updateNurseInfo;\r\n      return $http[req.method](req.url, {\r\n        comUser: data,\r\n        dataType: 'comUser'\r\n      });\r\n    }\r\n\r\n    function Getter(type) {\r\n      return function(id) {\r\n        var req = reqs[type].getter;\r\n        return $http[req.method](req.url, {\r\n          userCode: id\r\n        });\r\n      }\r\n    }\r\n\r\n    function Setter(type) {\r\n      return function(data) {\r\n        var req = reqs[type].setter;\r\n        return $http[req.method](req.url, data);\r\n      }\r\n    }\r\n\r\n    function Deleter(type) {\r\n      return function(id) {\r\n        var req = reqs[type].deleter;\r\n        return $http[req.method](req.url, {\r\n          params: {\r\n            seqId: id\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('TechFileJCIController', techFileJCIController);\r\n\r\n  /** @ngInject */\r\n  function techFileJCIController($rootScope, $scope, $uibModal, deptService, NgTableParams, techFilesJCIService) {\r\n    var vm = this;\r\n\r\n    vm.rootScope = $rootScope;\r\n    vm.scope = $scope;\r\n\r\n    //删除用户数据\r\n    vm.del = del;\r\n    //添加用户\r\n    vm.open = open;\r\n    // 加载用户列表\r\n    vm.load = load;\r\n    //加载用户详细信息\r\n    vm.loadDetail = loadDetail;\r\n    vm.detail = {};\r\n\r\n    deptService.getDeptData().then(function(data) {\r\n      vm.deptData = data;\r\n    });\r\n\r\n\r\n    function del(userCode) {\r\n      techFilesJCIService.delNurseJCI(userCode).then(function(response) {\r\n        $rootScope.$broadcast('toast', {\r\n          type: 'success',\r\n          content: '删除成功'\r\n        });\r\n        load();\r\n      });\r\n    }\r\n\r\n    function open(data) {\r\n      var modalInstance = $uibModal.open({\r\n        templateUrl: 'app/techFiles/jci/modal.tpl.html',\r\n        controller: 'JCIModalController',\r\n        controllerAs: 'vm',\r\n        backdrop: 'static',\r\n        animation: true,\r\n        size: 'xlg',\r\n        resolve: {\r\n          id: function() {\r\n            return angular.extend({\r\n              deptCode: vm.selectedDept\r\n            }, data);\r\n          }\r\n        }\r\n      });\r\n\r\n      modalInstance.result.finally(function() {\r\n        load();\r\n        vm.selectedUserId = '';\r\n      });\r\n    }\r\n\r\n    function load(deptCode) {\r\n      if (deptCode) {\r\n        vm.selectedDept = deptCode;\r\n      } else {\r\n        deptCode = vm.selectedDept;\r\n      }\r\n      techFilesJCIService.getNurseList(deptCode).then(function(rsp) {\r\n        var data = rsp.data.data.lst;\r\n        vm.tableParams = new NgTableParams({}, {\r\n          dataset: data\r\n        });\r\n      });\r\n    }\r\n\r\n    function loadDetail(userCode) {\r\n      vm.selectedUserId = userCode;\r\n      techFilesJCIService.getPosStatement(userCode).then(function(rsp) {\r\n        vm.detail.posStatement = rsp.data.data;\r\n      });\r\n      techFilesJCIService.getPreJobTrain(userCode).then(function(rsp) {\r\n        vm.detail.preJobTrain = rsp.data.data;\r\n      });\r\n      techFilesJCIService.getAssessment(userCode).then(function(rsp) {\r\n        vm.detail.assessment = rsp.data.data;\r\n      });\r\n      techFilesJCIService.getConEducation(userCode).then(function(rsp) {\r\n        vm.detail.conEducation = rsp.data.data;\r\n      });\r\n      techFilesJCIService.getCprAcls(userCode).then(function(rsp) {\r\n        vm.detail.cprAcls = rsp.data.data;\r\n      });\r\n      techFilesJCIService.getEduRecord(userCode).then(function(rsp) {\r\n        vm.detail.eduRecord = rsp.data.data;\r\n      });\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('usersService', usersServiceFunc);\n\n  /** @ngInject */\n  function usersServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      getUserList: getUserList,\n      deleteUser: deleteUser,\n      save: save,\n      saveUserRole: saveUserRole,\n      deleteUserRole: deleteUserRole\n    };\n\n    return service;\n\n    function getUserList(deptCode) {\n\n      return $http.get(apiHost.users.getUserList, {\n          params: {\n            deptCode: deptCode\n          }\n        })\n        .then(complete)\n        .catch(failed);\n\n      function failed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function deleteUser(seqId) {\n\n      return $http.post(apiHost.users.deleteUser, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    function save(userObj) {\n      return $http.post(apiHost.users.saveUser, userObj)\n        .then(complete);\n    }\n\n    function saveUserRole(userRoleObj) {\n      return $http.post(apiHost.users.saveUserRole, userRoleObj)\n        .then(complete);\n    }\n\n    function deleteUserRole(seqId) {\n      return $http.post(apiHost.users.deleteUserRole, seqId)\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('UsersController', UsersControllerFunc);\n\n  /** @ngInject */\n  function UsersControllerFunc($scope, $log, $uibModal, deptService, NgTableParams, toastr, usersService, filesService, modalService, security) {\n    var vm = this;\n    var userData;\n    var count = 0;\n    var dataForUserModal = {\n      formData: {},\n      metaData: {}\n    };\n    var dataForRoleModal = {\n      formData: {},\n      metaData: {}\n    };\n\n    deptService.getDeptData().then(function(data) {\n      vm.deptData = data;\n    });\n\n    //删除用户数据\n    vm.del = del;\n    //添加用户\n    vm.open = open;\n\n    // 删除用户角色\n    vm.delUserRole = delUserRole;\n\n    // 添加角色\n    vm.openRole = openRole;\n\n\n    // 点击用户显示该用户的角色信息\n    vm.showRole = showRole;\n\n    vm.selectedDept = null;\n    // 点击加载科室人员\n    vm.load = load;\n\n    function load(deptCode, deptName) {\n      vm.selectedDept = deptCode;\n      vm.selectedUser = false;\n\n      dataForUserModal.formData = {\n        deptCode: deptCode,\n        deptName: deptName\n      };\n\n      usersService.getUserList(deptCode).then(function(response) {\n        if (response.data.code === '0') {\n          vm.tableParams = new NgTableParams({}, {\n            dataset: response.data.data\n          });\n        }\n      });\n\n      // 获取当前选择科室的员工列表\n      filesService.getUserList(deptCode).then(function(response) {\n        if (response) {\n          dataForUserModal.metaData.userList = response;\n\n          $log.info(response);\n        }\n      });\n    }\n\n    function open(user) {\n      // 编辑用户数据时加载当前用户的数据\n      if (user) {\n        dataForUserModal.formData = angular.extend({}, dataForUserModal.formData, user);\n      } else {\n        // 删除已存在的表单数据\n        for (var i in dataForUserModal.formData) {\n          if (dataForUserModal.formData.hasOwnProperty(i)) {\n            if (i !== 'deptCode' && i !== 'deptName') {\n              delete dataForUserModal.formData[i];\n            }\n          }\n        }\n      }\n      modalService.open({\n        templateUrl: 'app/system/users/addUser.tpl.html',\n        ok: save,\n        size: 'md',\n        data: dataForUserModal\n      });\n    }\n\n    function openRole(role) {\n      var template_url = 'app/system/roles/addRole.tpl.html';\n\n      if (role) {\n        dataForRoleModal.formData = angular.extend({}, dataForRoleModal.formData, role);\n        modalService.open({\n          templateUrl: template_url,\n          ok: save,\n          size: 'md',\n          data: dataForRoleModal\n        });\n      } else {\n        template_url = 'app/system/users/addExistRole.tpl.html';\n\n        // 获得所有角色列表\n        // 获得当前用户的角色\n        security.getUserRoleList({\n            userId: security.currentUser.user.seqId\n        }).then(function(response) {\n          dataForRoleModal.metaData.roleList = response.data.data;\n          dataForRoleModal.metaData.currentUser = vm.selectedUser;\n          dataForRoleModal.metaData.deptList = angular.extend([], vm.deptData.belongedDepts);\n          // push顶层科室\n          dataForRoleModal.metaData.deptList.unshift({\n            deptCode: vm.deptData.deptCode,\n            deptName: vm.deptData.deptName\n          });\n          dataForRoleModal.metaData.deptList = angular.extend({}, [dataForUserModal.formData]);\n          dataForRoleModal.metaData.hadRoleList = vm.userRoleList.map(function(r) {\n            return r.roleCode;\n          });\n\n          modalService.open({\n            templateUrl: template_url,\n            ok: saveRole,\n            size: 'md',\n            data: dataForRoleModal\n          });\n        });\n\n      }\n    }\n\n    function del(seqId) {\n      usersService.deleteUser(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('删除成功！', '提示');\n\n          load(dataForUserModal.formData.deptCode, dataForUserModal.formData.deptName);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function save(formData) {\n      usersService.save(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已保存！', '提示');\n          // 刷新数据\n          load(dataForUserModal.formData.deptCode, dataForUserModal.formData.deptName);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveRole(formData) {\n      usersService.saveUserRole(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n\n          showRole(vm.selectedUser);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function showRole(user) {\n      vm.selectedUser = user;\n\n      security.getUserRoleList({\n        userId: user.seqId\n      }).then(function(response) {\n        vm.userRoleList = response.data.data;\n\n        vm.roleTableParams = new NgTableParams({}, {\n          dataset: response.data.data\n        });\n      });\n    }\n\n    function delUserRole(seqId) {\n      usersService.deleteUserRole(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('删除成功！', '提示');\n\n          showRole(vm.selectedUser);\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('RolesModalController', rolesModalControllerFunc);\n\n  /** @ngInject */\n  function rolesModalControllerFunc($uibModalInstance, $rootScope, rolesService, security, toastr) {\n    var vm = this;\n\n    vm.cancel = cancel;\n    vm.save = save;\n\n    function save() {\n      rolesService.save(vm.role).then(function (response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n\n          $uibModalInstance.dismiss('cancel');\n\n          security.getUserRoleList();\n          $rootScope.$apply();\n        } else {\n          toastr.error('保存失败', '警告');\n        }\n      });\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('rolesService', rolesServiceFunc);\n\n  /** @ngInject */\n  function rolesServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      getHaveFunction: getHaveFunction,\n      getNotHaveFunction: getNotHaveFunction,\n      save: save,\n      edit: edit,\n      del: del\n    };\n\n    return service;\n\n    function getHaveFunction(roleCode) {\n\n      return $http.get(apiHost.roles.getHaveFunction, {\n        params: {\n          roleCode: roleCode\n        }\n      })\n        .then(complete)\n        .catch(failed);\n\n      function complete(response) {\n        if (response.data.code === '0') {\n          return response;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function failed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function getNotHaveFunction(roleCode) {\n\n      return $http.get(apiHost.roles.getNotHaveFunction, {\n        params: {\n          roleCode: roleCode\n        }\n      })\n        .then(getUserListComplete)\n        .catch(getUserListFailed);\n\n      function getUserListComplete(response) {\n        if (response.data.code === '0') {\n          return response;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getUserListFailed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function edit(roleData) {\n      return $http.post(apiHost.roles.updateRole, roleData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n        return null;\n      });\n    }\n\n    function save(roleData) {\n      return $http.post(apiHost.roles.saveRole, roleData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n        return null;\n      })\n      .catch(function (error) {\n\n      });\n    }\n\n    function del(seqId) {\n      return $http.post(apiHost.roles.deleteRole, seqId)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n\n        return null;\n      });\n    }\n  }\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('RolesController', rolesControllerFunc);\n\n  /** @ngInject */\n  function rolesControllerFunc($scope, $log, $q, $uibModal, rolesService, toastr, NgTableParams, modalService, security, $injector) {\n    var vm = this;\n\n    security.getUserRoleList().then(function(response) {\n      vm.roleData = response.data.data;\n    });\n\n    var modalInstance;\n    // TODO 首次进入界面表单无数据时，保存和删除按钮不可用状态\n\n    //删除用户数据\n    vm.del = del;\n    //编辑角色数据\n    vm.edit = edit;\n    //添加角色\n    vm.open = open;\n\n    vm.navExchange = navExchange;\n\n    // 点击加载角色人员\n    vm.load = load;\n\n    function load(role) {\n\n      var getNotHave = rolesService.getNotHaveFunction(role.roleCode);\n      var getHave = rolesService.getHaveFunction(role.roleCode);\n\n      vm.roleDetail = role;\n\n      $q.all([getNotHave, getHave]).then(function(result) {\n        $log.info(result);\n        vm.notHaveList = result[0] && result[0].data.code === '0' ? result[0].data.data : [];\n        vm.hadList = result[1] && result[1].data.code === '0' ? result[1].data.data : [];\n      });\n    }\n\n    function open() {\n      modalService.open({\n        templateUrl: 'app/system/roles/addRole.tpl.html',\n        size: 'md',\n        ok: save\n      });\n    }\n\n    /**\n     * [del 删除角色]\n     * @param  {[type]} row [description]\n     * @return {[type]}     [description]\n     */\n    function del() {\n      var delObj = {\n        seqId: vm.roleDetail.seqId,\n        roleCode: vm.roleDetail.roleCode\n      };\n\n      rolesService.del(delObj).then(function(response) {\n        if (response) {\n          toastr.success('该角色已删除', '提示');\n          vm.roleDetail = null;\n          refreshData();\n        }\n      });\n    }\n\n    // TODO 如果修改的角色为当前角色，修改后的导航菜单需要重新获取加载。\n    /**\n     * [edit 修改当前用户的角色信息]\n     * @return {[undefined]}\n     */\n    function edit() {\n      var params = angular.copy(vm.roleDetail);\n      var funs = [];\n\n      params.funs = angular.copy(vm.hadList);\n\n      // 提取子菜单\n      params.funs.forEach(function(fun, i) {\n        funs = funs.concat(fun.child);\n        fun.child = [];\n      });\n      params.funs = params.funs.concat(funs);\n\n      delete params.updateTime;\n      delete params.createTime;\n\n      $log.info(params);\n\n      rolesService.edit(params).then(function(response) {\n        $log.info(response);\n\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n\n          $log.info(vm.hadList);\n        } else {\n          toastr.error(response.data.msg, '警告');\n        }\n      });\n    }\n\n    function save(formData) {\n      rolesService.save(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n          modalService.close('success');\n          refreshData();\n        } else {\n          toastr.error('保存失败', '警告');\n        }\n      });\n    }\n\n    /**\n     * [navExchange 角色功能的添加与删除]\n     * @param  {object} parentItem  [父菜单项]\n     * @param  {object} item        [子菜单项]\n     * @param  {number} parentIndex [父菜单项索引]\n     * @param  {number} index       [子菜单项索引]\n     * @param  {string} type        [操作类型：添加add；删除remove]\n     * @return {undefined}\n     */\n    function navExchange(parentItem, item, parentIndex, index, type) {\n      var new_parentItem;\n      var dataList = type === 'add' ? vm.hadList : vm.notHaveList;\n      var otherList = type === 'add' ? vm.notHaveList : vm.hadList;\n\n      // 添加到已有功能列表\n      dataList.some(function(hadItem, key) {\n        if (hadItem.funCode === parentItem.funCode) {\n          hadItem.child.push(item);\n\n          return true;\n        } else {\n          if (key === dataList.length - 1) {\n            new_parentItem = angular.copy(parentItem);\n            new_parentItem.child = [item];\n            dataList.push(new_parentItem);\n          }\n        }\n      });\n\n      // 功能列表为空时，创建第一个元素\n      if (dataList.length === 0) {\n        new_parentItem = angular.copy(parentItem);\n        new_parentItem.child = [item];\n        dataList.push(new_parentItem);\n      }\n\n      // 从未有功能列表中删除\n      parentItem.child.splice(index, 1);\n\n      if (parentItem.child.length === 0) {\n        otherList.splice(parentIndex, 1);\n      }\n    }\n\n    function refreshData() {\n      security.getUserRoleList().then(function(response) {\n        vm.roleData = response.data.data;\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('paperService', paperServiceFunc);\n\n  /** @ngInject */\n  function paperServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getResearchPapers: getResearchPapers,\n      saveResearchPaper: saveResearchPaper,\n      deleteResearchPaper: deleteResearchPaper\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteResearchPaper(seqId) {\n      return $http.post(apiHost.research.deleteResearchPaper, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveResearchPaper(dataObj) {\n      return $http.post(apiHost.research.saveResearchPaper, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getResearchPapers() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.research.getResearchPapers, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ResearchPapersController', papersControllerFunc);\n\n  /** @ngInject */\n  function papersControllerFunc($scope, $log, NgTableParams, $filter, paperService, modalService, toastr, security) {\n    var vm = this;\n\n    vm.savePaper = savePaper;\n    vm.edit = edit;\n    vm.deletePapers = deletePapers;\n    vm.formData = {};\n    vm.add = add;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n\n    initData();\n\n    function initData() {\n      paperService.getResearchPapers().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    //编辑\n    function edit(row) {\n      vm.formData = row;\n      openEdit();\n    }\n\n    //添加\n    function add() {\n      vm.formData = {};\n      openEdit();\n    }\n\n    //保存论文\n    function savePaper() {\n      paperService.saveResearchPaper(vm.formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    //删除论文\n    function deletePapers(seqId) {\n      paperService.deleteResearchPaper(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    //弹出框\n    function openEdit() {\n      vm.formData.deptCode = vm.deptCode;\n      modalService.open({\n        templateUrl: 'app/research/papers/papers.model.html',\n        size: 'md',\n        ok: savePaper,\n        data: {\n          formData: vm.formData\n        }\n      });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('researchItemService', researchItemServiceFunc);\n\n  /** @ngInject */\n  function researchItemServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getResearchItems: getResearchItems,\n      saveResearchItem: saveResearchItem,\n      deleteResearchItem: deleteResearchItem\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteResearchItem(seqId) {\n      return $http.post(apiHost.research.deleteResearchItem, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveResearchItem(dataObj) {\n      return $http.post(apiHost.research.saveResearchItem, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getResearchItems() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.research.getResearchItems, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ResearchItemController', itemControllerFunc);\n\n  /** @ngInject */\n  function itemControllerFunc($scope, $log, NgTableParams, researchItemService, modalService, toastr, security) {\n    var vm = this;\n    var formDataForModal = {};\n    var metadataForModal = {};\n\n    vm.saveGroup = saveGroup;\n    vm.edit = edit;\n    vm.deleteGroup = deleteGroup;\n    vm.add = add;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n    vm.open = openEdit;\n\n    initData();\n\n    function initData() {\n      researchItemService.getResearchItems().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    //编辑\n    function edit(row) {\n      formDataForModal = row;\n      openEdit();\n    }\n\n    function add() {\n      formDataForModal = {};\n      openEdit();\n    }\n\n    //保存数据\n    function saveGroup() {\n      researchItemService.saveResearchItem(formDataForModal).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n    //删除数据\n    function deleteGroup(seqId) {\n      researchItemService.deleteResearchItem(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n    //弹出框\n    function openEdit() {\n      formDataForModal.deptCode = vm.deptCode;\n      modalService.open({\n        templateUrl: 'app/research/item/item.model.html',\n        size: 'md',\n        ok: saveGroup,\n        data: {\n          formData: formDataForModal\n        }\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('taskService', taskServiceFunc);\n\n  /** @ngInject */\n  function taskServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getTaskList: getTaskList,\n      saveTask: saveTask,\n      deleteTask: deleteTask,\n      editTask: editTask,\n      getAllQualityForm: getAllQualityForm\n    };\n\n    return service;\n\n    /**\n     * [del 删除检查任务]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteTask(seqId) {\n      var param = {};\n      param.seqId = seqId;\n      return $http.get(apiHost.qualityManager.deleteQualityTask, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存修改检查任务]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function editTask(dataObj) {\n      return $http.post(apiHost.qualityManager.editQualityTask, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [save 保存检查任务]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveTask(dataObj) {\n      return $http.post(apiHost.qualityManager.saveQualityTask, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 检查任务列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getTaskList(date, deptCode, type) {\n      var param = {};\n\n      // param.deptCode = security.getUserinfo().role.deptCode;\n      deptCode ? param.deptCode = deptCode : '';\n      type ? param.type = type : '';\n      date ? param.date = date : '';\n\n      return $http.get(apiHost.qualityManager.getQualityTaskList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [get 检查任务列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getAllQualityForm() {\n      return $http.get(apiHost.qualityManager.getAllQualityForm, {})\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityTaskController', taskControllerFunc);\n\n  /** @ngInject */\n  function taskControllerFunc($scope, $log, NgTableParams, $filter, taskService, modalService, toastr, security) {\n    var vm = this;\n\n    var dataForTaskModal = {\n      formData: {},\n      metaData: {}\n    };\n    var s_deptCode = '',\n      s_type = '',\n      s_date = '2016-04';\n\n    vm.addTask = addTask;\n    vm.saveEditTask = saveEditTask;\n    vm.saveTask = saveTask;\n    vm.editTask = editTask;\n    vm.deleteTask = deleteTask;\n    vm.addDept = addDept;\n    vm.addMember = addMember;\n    vm.removeDept = removeDept;\n    vm.removeMember = removeMember;\n    vm.qualityFormList = qualityFormList;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n\n    initData();\n\n    function initData() {\n      taskService.getTaskList(s_date, s_deptCode, s_type).then(function(response) {\n        if (response) {\n          vm.lst = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    qualityFormList();\n\n    //## 弹出框-检查表单\n    function qualityFormList() {\n      taskService.getAllQualityForm().then(function(response) {\n        if (response) {\n          vm.formList = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.formList\n          });\n\n          dataForTaskModal.metaData.qualityFormList = angular.extend({}, vm.formList);\n        }\n      });\n    }\n\n    // dataForLeaveModal.formData.deptCode = security.getUserinfo().role.deptCode;\n\n    function addTask() {\n      dataForTaskModal = {\n        formData: {},\n        metaData: {}\n      };\n      modalService.open({\n        templateUrl: 'app/quality/task/addTask.tpl.html',\n        size: 'md',\n        ok: saveTask,\n        data: dataForTaskModal,\n        methodsObj: {\n          addDept: addDept,\n          addMember: addMember,\n          removeDept: removeDept,\n          removeMember: removeMember,\n          qualityFormList: qualityFormList\n        }\n      });\n    }\n\n    //## 编辑\n    function editTask(row) {\n      dataForTaskModal.formData = angular.extend({}, row);\n      vm.selectedLevel = row;\n\n      if (row) {\n        row.deptCode ? dataForTaskModal.formData.deptList = row.deptCode.split(',') : '';\n\n        row.joinUserName ? dataForTaskModal.formData.memberList = row.joinUserName.split(',') : '';\n      }\n\n      modalService.open({\n        templateUrl: 'app/quality/task/addTask.tpl.html',\n        size: 'md',\n        ok: saveEditTask,\n        data: dataForTaskModal,\n        methodsObj: {\n          addDept: addDept,\n          addMember: addMember,\n          removeDept: removeDept,\n          removeMember: removeMember,\n          qualityFormList: qualityFormList\n        }\n      });\n\n    }\n\n    //## 弹出框-增加使用科室\n    function addDept() {\n      var m_this = this;\n\n      if (m_this.deptText === '') return;\n\n      m_this.formData.deptList = m_this.formData.deptList || [];\n\n      m_this.formData.deptList.push(m_this.deptText);\n\n      // 置空 ng-model里的值\n      m_this.deptText = '';\n    }\n\n    //## 弹出框-移除科室\n    function removeDept($index) {\n      var m_this = this;\n      m_this.formData.deptList.splice($index, 1);\n    }\n\n    //## 弹出框-增加组员\n    function addMember() {\n      var m_this = this;\n      if (m_this.memberText === '') return;\n\n      m_this.formData.memberList = m_this.formData.memberList || [];\n\n      m_this.formData.memberList.push(m_this.memberText);\n\n      // 置空 ng-model里的值\n      m_this.memberText = '';\n    }\n\n    //## 弹出框-移除组员\n    function removeMember($index) {\n      var m_this = this;\n      m_this.formData.memberList.splice($index, 1);\n    }\n\n    //## 保存修改\n    function saveEditTask() {\n      var data,\n        array_length,\n        create_Time,\n        init_taskDate;\n\n      data = angular.extend({}, dataForTaskModal.formData);\n      init_taskDate = data.taskDate;\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n      data.joinUserName = data.memberList ? data.memberList.join(',') : '';\n\n      data.formCode = data.formCode.formCode;\n\n      data.taskDate = moment(init_taskDate).format('YYYY-MM-DD');\n\n      create_Time = data.createTime;\n      data.createTime = moment(parrent_create_Time).format('YYYY-MM-DD hh:mm:ss');\n\n      taskService.editTask(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 保存\n    function saveTask() {\n      var data = angular.extend({}, dataForTaskModal.formData);\n      var init_taskDate = data.taskDate;\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n      data.joinUserName = data.memberList ? data.memberList.join(',') : '';\n\n      data.formCode = data.formCode.formCode;\n\n      data.taskDate = moment(init_taskDate).format('YYYY-MM-DD');\n\n      taskService.saveTask(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 删除\n    function deleteTask(seqId) {\n      taskService.deleteTask(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('formService', formServiceFunc);\n\n  /** @ngInject */\n  function formServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getFormList: getFormList,\n      saveForm: saveForm,\n      deleteForm: deleteForm,\n      editForm: editForm\n    };\n\n    return service;\n\n    /**\n     * [del 删除表单]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteForm(seqId) {\n      var param = {};\n      param.seqId = seqId;\n      return $http.get(apiHost.qualityManager.deleteQualityForm, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存修改表单]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function editForm(dataObj) {\n      return $http.post(apiHost.qualityManager.editQualityForm, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [save 保存表单]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveForm(dataObj) {\n      return $http.post(apiHost.qualityManager.saveQualityForm, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 表单列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getFormList(deptCode, type) {\n      var param = {};\n\n      // param.deptCode = security.getUserinfo().role.deptCode;\n\n      deptCode ? param.deptCode = deptCode : '';\n      type ? param.type = type : '';\n\n      return $http.get(apiHost.qualityManager.getQualityFormList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityFormController', formControllerFunc);\n\n  /** @ngInject */\n  function formControllerFunc(formService, $scope, $log, $q, $uibModal, toastr, NgTableParams, modalService, security, $injector, $state, $location) {\n    var vm = this;\n    var dataForFormModal = {\n      formData: {},\n      metaData: {}\n    };\n    var s_deptCode = '',\n      s_type = '';\n\n    vm.saveEditForm = saveEditForm;\n    vm.saveForm = saveForm;\n    vm.edit = edit;\n    vm.del = del;\n    vm.addForm = addForm;\n    vm.addDept = addDept;\n    vm.removeDept = removeDept;\n    vm.addDetailList = addDetailList;\n    vm.removeDetailList = removeDetailList;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n\n    //## 筛选 假数据\n    vm.filter_type = [\n      { type: '全部' },\n      { type: '1' }\n    ];\n\n    vm.filter_area = [\n      { type: '全部' },\n      { type: '1' }\n    ];\n\n    vm.filter_type.selected = vm.filter_type[0];\n    vm.filter_area.selected = vm.filter_area[0];\n\n    // ?判断选择的值\n\n    initData();\n\n    function initData() {\n      formService.getFormList(s_deptCode, s_type).then(function(response) {\n        if (response) {\n          vm.lst = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    // dataForLeaveModal.formData.deptCode = security.getUserinfo().role.deptCode;\n\n    function addForm() {\n      dataForFormModal = {\n        formData: {},\n        metaData: {}\n      };\n      modalService.open({\n        templateUrl: 'app/quality/form/addForm.tpl.html',\n        size: 'lg',\n        ok: saveForm,\n        data: {\n          formData: dataForFormModal.formData\n        },\n        methodsObj: {\n          addDept: addDept,\n          removeDept: removeDept,\n          addDetailList: addDetailList,\n          removeDetailList: removeDetailList\n        }\n      });\n    }\n\n    //## 弹出框-增加使用科室\n    function addDept() {\n      var m_this = this;\n\n      if (m_this.deptText === '') return;\n\n      m_this.formData.deptList = m_this.formData.deptList || [];\n\n      m_this.formData.deptList.push(m_this.deptText);\n\n      // 置空 ng-model里的值\n      m_this.deptText = '';\n    }\n\n    //## 弹出框-移除科室\n    function removeDept($index) {\n      var m_this = this;\n      m_this.formData.deptList.splice($index, 1);\n    }\n\n    //## 弹出框-增加表单详情\n    function addDetailList(detailList) {\n      var m_this = this;\n\n      if (!m_this.detailList) {\n        return;\n      } else if (!m_this.detailList.detailCode && !m_this.detailList.item && !m_this.detailList.points && !m_this.detailList.stantard) {\n        return;\n      }\n\n      if (m_this.detailList.item)\n\n        if (!m_this.formData.qualityFormDetailList) {\n          m_this.formData.qualityFormDetailList = [];\n        }\n\n      m_this.formData.qualityFormDetailList.push(detailList);\n\n      // 置空 ng-model里的值\n      m_this.detailList = {};\n    }\n\n    //## 弹出框-移除表单详情\n    function removeDetailList($index) {\n      var m_this = this;\n      m_this.formData.qualityFormDetailList.splice($index, 1);\n    }\n\n    //## 保存\n    function saveForm() {\n      var data = angular.extend({}, dataForFormModal.formData);\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n\n      formService.saveForm(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 编辑\n    function edit(row) {\n      dataForFormModal.formData = angular.extend({}, row);\n\n      if (row) {\n        if (row.deptCode) {\n          dataForFormModal.formData.deptList = row.deptCode.split(',');\n        }\n      }\n\n      modalService.open({\n        templateUrl: 'app/quality/form/addForm.tpl.html',\n        size: 'lg',\n        ok: saveEditForm,\n        data: {\n          formData: dataForFormModal.formData\n        },\n        methodsObj: {\n          addDept: addDept,\n          removeDept: removeDept,\n          addDetailList: addDetailList,\n          removeDetailList: removeDetailList\n        }\n      });\n    }\n\n    //## 保存修改\n    function saveEditForm() {\n      var data,\n        array_length,\n        parrent_create_Time,\n        child_create_Time;\n\n      data = angular.extend({}, dataForFormModal.formData);\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n\n      parrent_create_Time = data.createTime;\n      data.createTime = moment(parrent_create_Time).format('YYYY-MM-DD hh:mm:ss');\n\n      if (data.qualityFormDetailList) {\n        array_length = data.qualityFormDetailList.length;\n        for (var i = 0; i < array_length; i++) {\n          child_create_Time = data.qualityFormDetailList[i].createTime;\n          data.qualityFormDetailList[i].createTime = moment(child_create_Time).format('YYYY-MM-DD hh:mm:ss');\n        }\n      }\n\n      formService.editForm(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 删除\n    function del(seqId) {\n      formService.deleteForm(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if (seqId == vm.formData.seqId) {\n            vm.formData = {};\n          }\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('dealService', dealServiceFunc);\n\n  /** @ngInject */\n  function dealServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getDealList: getDealList,\n      saveDeal: saveDeal,\n      deleteDeal: deleteDeal,\n      getChekcDetail: getChekcDetail,\n      getAllQualityForm: getAllQualityForm,\n      getResultCode: getResultCode\n    };\n\n    return service;\n\n    /**\n     * [del 删除质量检查问题处理]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteDeal(seqId) {\n      var param = {};\n      param.seqId = seqId;\n      return $http.get(apiHost.qualityManager.deleteQualityDeal, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存质量检查问题处理]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveDeal(dataObj) {\n      return $http.post(apiHost.qualityManager.saveQualityDeal, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 质量检查问题处理列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getDealList(resultCode) {\n      var param = {};\n\n      // param.deptCode = security.getUserinfo().role.deptCode;\n      resultCode ? param.resultCode = resultCode : '';\n\n      return $http.get(apiHost.qualityManager.getQualityDealList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [get 获取resultCode]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getResultCode(date, deptCode, type) {\n      var param = {};\n\n      // param.deptCode = security.getUserinfo().role.deptCode;\n      date ? param.date = date : '';\n      deptCode ? param.deptCode = deptCode : '';\n      type ? param.type = type : '';\n\n      return $http.get(apiHost.qualityManager.getQualityResultCode, {\n          params: param\n        })\n        .then(complete);\n    }\n\n\n    /**\n     * [get 查看检测情况]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getChekcDetail(date, deptCode, formName) {\n      var param = {};\n\n      // param.deptCode = security.getUserinfo().role.deptCode;\n      date ? param.date = date : '';\n      deptCode ? param.deptCode = deptCode : '';\n      formName ? param.formName = formName : '';\n\n      return $http.get(apiHost.qualityManager.getQualityCheckDetail, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [get 检查表单选择项]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getAllQualityForm() {\n      var param = {};\n\n      return $http.get(apiHost.qualityManager.getAllQualityForm, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityDealController', dealControllerFunc);\n\n  /** @ngInject */\n  function dealControllerFunc($scope, $log, NgTableParams, $filter, dealService, modalService, toastr, security) {\n    var vm = this;\n    var dataForDealModal = {\n      formData: {},\n      metaData: {}\n    };\n    var userCode = security.getUserinfo().user.userCode\n    var get_result_code;\n\n    //todo: date,deptCode,type为必须项\n    var s_date = '2016-04',\n      s_deptCode = '',\n      s_type = '';\n\n    vm.add = add;\n    vm.saveEdit = saveEdit;\n    vm.save = save;\n    vm.edit = edit;\n    vm.del = del;\n    vm.qualityFormList = qualityFormList;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n    vm.checkDetail = checkDetail;\n\n    get_myResultCode().then(initData);\n\n    function get_myResultCode() {\n      return dealService.getResultCode(s_date, s_deptCode, s_type).then(function(response) {\n        if (response) {\n          vm.result_code = response.data.data;\n          // console.log(vm.result_code[0].resultCode)\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.result_code\n          });\n\n          return vm.result_code[0].resultCode;\n        }\n      });\n    }\n\n    // initData();\n\n    function initData(resCode) {\n      debugger;\n      dealService.getDealList(resCode).then(function(response) {\n        if (response) {\n          vm.lst = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    //## 弹出框-检查表单\n    function qualityFormList() {\n      dealService.getAllQualityForm().then(function(response) {\n        if (response) {\n          vm.formList = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.formList\n          });\n\n          dataForDealModal.metaData.qualityFormList = angular.extend({}, vm.formList);\n        }\n      });\n    }\n\n    // dataForLeaveModal.formData.deptCode = security.getUserinfo().role.deptCode;\n\n    function add() {\n      dataForDealModal = {\n        formData: {},\n        metaData: {}\n      };\n\n      qualityFormList();\n\n      modalService.open({\n        templateUrl: 'app/quality/deal/addDeal.tpl.html',\n        size: 'lg',\n        ok: save,\n        data: dataForDealModal,\n        methodsObj: {\n          qualityFormList: qualityFormList,\n          checkDetail: checkDetail\n        }\n      });\n    }\n\n    //## 弹出框-查看检测详情\n    function checkDetail() {\n      var m_this = this;\n      var s_date,\n        s_deptCode,\n        s_formName,\n        init_date;\n\n      dataForDealModal.metaData = {};\n\n      if (!m_this.formData.checkDetail) return;\n\n      if (!m_this.formData.checkDetail.taskDate || !m_this.formData.checkDetail.deptCode || !m_this.formData.checkDetail.selectForm.formName) return;\n\n      init_date = m_this.formData.checkDetail.taskDate;\n\n      s_date = moment(init_date).format('YYYY-MM-DD');\n      s_deptCode = m_this.formData.checkDetail.deptCode;\n      s_formName = m_this.formData.checkDetail.selectForm.formName;\n\n      dealService.getChekcDetail(s_date, s_deptCode, s_formName).then(function(response) {\n        if (response) {\n          vm.get_lst = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.get_lst\n          });\n\n          dataForDealModal.metaData.checkDetailList = angular.extend({}, vm.get_lst);\n\n          get_result_code = dataForDealModal.metaData.checkDetailList[0].resultCode;\n        }\n      });\n\n      modalService.open({\n        templateUrl: 'app/quality/deal/checkDetail.tpl.html',\n        size: 'md',\n        data: dataForDealModal,\n        methodsObj: {\n          qualityFormList: qualityFormList,\n          checkDetail: checkDetail\n        }\n      });\n\n    }\n\n    //## 编辑\n    function edit(row) {\n      dataForDealModal.formData = angular.extend({}, row);\n      vm.selectedLevel = row;\n\n      if (row) {\n        row.deptCode ? dataForDealModal.formData.deptList = row.deptCode.split(',') : '';\n\n        row.joinUserName ? dataForDealModal.formData.memberList = row.joinUserName.split(',') : '';\n      }\n\n      modalService.open({\n        templateUrl: 'app/quality/deal/addDeal.tpl.html',\n        size: 'lg',\n        ok: saveEdit,\n        data: dataForDealModal,\n        methodsObj: {\n          qualityFormList: qualityFormList\n        }\n      });\n    }\n\n    //## 保存修改\n    function saveEdit() {\n      var data = angular.extend({}, dataForDealModal.formData);\n      var init_taskDate = data.taskDate;\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n      data.joinUserName = data.memberList ? data.memberList.join(',') : '';\n\n      data.formCode = data.formCode.formCode;\n\n      data.taskDate = moment(init_taskDate).format('YYYY-MM-DD');\n\n      dealService.saveDeal(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 保存\n    function save() {\n      var data = angular.extend({}, dataForDealModal.formData);\n\n      if (!data.issueContent && !data.reasonAnalysis && !data.resDescribe && !data.resPlan && !data.evaluation) return;\n\n      data.formName = data.checkDetail.selectForm.formName;\n\n      data.resultCode = get_result_code;\n\n      data.issueTime = moment(new Date()).format('YYYY-MM-DD hh:mm:ss');\n      data.reasonTime = moment(new Date()).format('YYYY-MM-DD hh:mm:ss');\n      data.resDTime = moment(new Date()).format('YYYY-MM-DD hh:mm:ss');\n      data.resPTime = moment(new Date()).format('YYYY-MM-DD hh:mm:ss');\n      data.evaluationTime = moment(new Date()).format('YYYY-MM-DD hh:mm:ss');\n\n      data.issueUserCode = userCode;\n      data.reasonUserCode = userCode;\n      data.resDUserCode = userCode;\n      data.resPUserCode = userCode;\n      data.evaluationUserCode = userCode;\n\n      dealService.saveDeal(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 删除\n    function del(seqId) {\n      dealService.deleteDeal(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if (seqId == vm.formData.seqId) {\n            vm.dataForDealModal.formData = {};\n          }\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function(w5cValidatorProvider) {\n      w5cValidatorProvider.config({\n        showError: false,\n        removeError: true\n      });\n      w5cValidatorProvider.setRules({\n        userCode: {\n          number: '必须输入数字'\n        },\n        userName: {\n          required: \"姓名不能为空\"\n        },\n        duty: {\n          required: \"职务不能为空\"\n        },\n        email: {\n          required: \"邮箱不能为空\"\n        },\n        phone: {\n          required: \"电话不能为空\"\n        },\n        positionName: {\n          required: '必填'\n        },\n        reviewUnit: {\n          required: '必填'\n        }\n      });\n    })\n    .controller('fileModalController', fileModalControllerFunc);\n\n  function fileModalControllerFunc($rootScope, $scope, $uibModalInstance, filesService, $log, moment, toastr, $window, $controller) {\n    var vm = this;\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n    vm.deptName =  filesService.selectedDeptName;\n\n    vm.cancel = cancel;\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.accessible = !filesService.isNew;\n\n    // 保存用户\n    vm.save = save;\n    // 添加项目\n    vm.count = filesService.isNew ? {} : angular.extend({}, filesService.selectedUser);\n    // 信息为空时，添加项目时的初始化数据\n    var itemInitData = {\n      comUserPosition: {\n        positionName: '',\n        reviewUnit: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserNursing: {\n        reviewUnit: '',\n        unitLevel: '',\n        deptName: '',\n        position: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserEducation: {\n        educationType: '',\n        leaningTime: '',\n        courseTopics: '',\n        courseContent: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserTraining: {\n        learnContent: '',\n        professional: '',\n        diploma: '',\n        speaker: '',\n        creditType: '',\n        credit: '',\n        funding: '',\n        describe: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserLearning: {\n        school: '',\n        professional: '',\n        diploma: '',\n        diplomaNo: '',\n        degree: '',\n        degreeNo: '',\n        describe: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserFamily: {\n        relation: '',\n        name: '',\n        phone: '',\n        email: '',\n        remark: ''\n      }\n    };\n    vm.addItem = function(type) {\n      vm.count[type].push(angular.extend({}, itemInitData[type]));\n    };\n    // 删除职称\n    vm.removeItem = function(type, index, seqId) {\n      if (seqId) {\n        filesService.deleteUser(type, seqId).then(function(response) {\n          if (response) {\n            vm.count[type].splice(index, 1);\n          }\n        });\n      } else {\n        vm.count[type].splice(index, 1);\n      }\n    };\n\n    vm.openCalender = function(item, obj) {\n      if (obj) {\n        obj[item] = true;\n      } else {\n        vm[item] = true;\n      }\n    };\n\n    function save(type) {\n      var data = {};\n\n      data[type] = vm.count[type];\n\n      if (type == 'comUser') {\n        //日期格式转换\n        if (data[type].birthday) data[type].birthday = moment(data[type].birthday).format('YYYY-MM-DD');\n        if (data[type].practiceApproveDate) data[type].practiceApproveDate = moment(data[type].practiceApproveDate).format('YYYY-MM-DD');\n        if (data[type].inductionDate) data[type].inductionDate = moment(data[type].inductionDate).format('YYYY-MM-DD');\n        if (data[type].graduationDate) data[type].graduationDate = moment(data[type].graduationDate).format('YYYY-MM-DD');\n        if (data[type].practiceValidDate) data[type].practiceValidDate = moment(data[type].practiceValidDate).format('YYYY-MM-DD');\n        // 添加新用户需要添加当前的deptCode\n        vm.count[type].deptCode = filesService.selectedDeptCode;\n      } else {\n        if (type !== 'comUserFamily') {\n          data[type].startDate = moment(data[type].startDate).format('YYYY-MM-DD');\n          data[type].endDate = moment(data[type].endDate).format('YYYY-MM-DD');\n        }\n        // 给除基本信息外的每个项添加userCode\n        data[type].map(function(item, i) {\n          item.userCode = filesService.selectedUser.comUser.userCode;\n\n          return item;\n        });\n      }\n\n      data.dataType = type;\n      filesService.add(data).then(function(response) {\n        if (response) {\n          toastr.success('保存成功！', '提示');\n\n          filesService.getUserInfo(vm.count.comUser.userCode, vm.count.comUser.hisCode).then(function(data) {\n            vm.accessible = true;\n            // 刷新\n            vm.rootScope.$broadcast('refreshUserList', filesService.selectedDeptCode);\n            vm.rootScope.$broadcast('refreshUserDetail', data);\n          });\n        }\n      });\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    vm.scope.$on('resetCount', function(event, data) {\n      vm.count = data;\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (toastrConfig) {\n      toastrConfig.tapToDismiss = true;\n      toastrConfig.timeOut = 0;\n    })\n    .factory('filesService', filesServiceFunc);\n\n  /** @ngInject */\n  function filesServiceFunc($window, apiHost, $http, $log, $q, NgTableParams) {\n    var service = {\n      selectedUser: {},\n      isNew: true,\n      selectedDeptCode: '',\n      userList: [],\n      tableParams: null,\n      getUserInfo: getUserInfo,\n      getUserList: getUserList,\n      setSelectUser: setSelectUser,\n      add: add,\n      deleteUser: deleteUser\n    };\n\n    return service;\n\n    function getUserInfo(userCode, hisCode) {\n\n      return $http.get(apiHost.files.getUserDetailInfo, {\n        params: {\n          userCode : userCode,\n          hisCode : hisCode\n        }\n      })\n        .then(getUserInfoComplete)\n        .catch(getUserInfoFailed);\n\n      function getUserInfoComplete(response) {\n        if (response.data.code === '0') {\n          return response.data.data;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getUserInfoFailed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function getUserList(deptCode) {\n\n      return $http.get(apiHost.files.getUserList, {\n        params: {\n          deptCode: deptCode\n        }\n      })\n        .then(getUserListComplete);\n\n      function getUserListComplete(response) {\n        if (response.data.code === '0') {\n          service.userList = response.data.data.lst;\n\n          service.tableParams = new NgTableParams({}, {\n            dataset: response.data.data.lst\n          });\n\n          return response.data.data.lst;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n    }\n\n    function setSelectUser(userObj) {\n      service.selectedUser = userObj;\n\n      return userObj;\n    }\n\n    function add(userData) {\n      return $http.post(apiHost.files.save, userData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n      })\n    }\n\n    function deleteUser(dataType,delSeqId) {\n      return $http.post(apiHost.files.delete, {\n          dataType : dataType,\n          delSeqId : delSeqId\n      })\n        .then(function (response) {\n          if (response.data.code === '0') {\n            return response;\n          }\n        });\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('NursingWorkersFileController', filesControllerFunc);\n\n  /** @ngInject */\n  function filesControllerFunc($rootScope, $scope, $log, $uibModal, deptService, NgTableParams, filesService, toastr) {\n    var vm = this;\n    var userData;\n    var count = 0;\n\n    var dateArr = [\n      'birthday',\n      'inductionDate',\n      'practiceApproveDate',\n      'practiceValidDate',\n      'graduationDate',\n      'startDate',\n      'endDate'\n    ];\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n\n    vm.isOpen = true;\n\n    deptService.getDeptData().then(function(data) {\n      $log.info('科室数据', data);\n      vm.deptData = data;\n    });\n\n    $log.info(count);\n\n    //删除用户数据\n    vm.del = del;\n    //添加用户\n    vm.open = open;\n\n    // 加载用户列表\n    vm.load = load;\n\n    //加载用户详细信息\n    vm.loadDetail = loadDetail;\n\n    // vm.detail = filesService.userList;\n    vm.tableParams = filesService.tableParams;\n\n\n    function load(deptCode,deptName) {\n      vm.selectedDept = deptCode;\n      vm.selectedUserCode = false;\n\n      filesService.selectedDeptCode = deptCode;\n      filesService.selectedDeptName = deptName;\n\n      filesService.getUserList(deptCode).then(function(data) {\n        $log.info('用户数据', data);\n        // vm.detail = filesService.userList;\n        vm.userDataList = data;\n        vm.tableParams = filesService.tableParams;\n      });\n    }\n\n    function open(userCode) {\n      filesService.isNew = !userCode;\n\n      if (userCode) {\n        loadDetail(userCode, openDialog);\n      } else {\n        openDialog();\n      }\n\n      function openDialog() {\n        var modalInstance = $uibModal.open({\n          templateUrl: 'app/nursingWorkers/files/modal.tpl.html',\n          controller: 'fileModalController',\n          backdrop: 'static',\n          controllerAs: 'vm',\n          animation: true,\n          size: 'xlg'\n        });\n      }\n    }\n\n    function del(row) {\n      filesService.deleteUser('comUser',row.seqId).then(function (response) {\n        if (response) {\n          toastr.success('删除成功', '提示');\n\n          // 刷新\n          vm.scope.$emit('refreshUserList', vm.selectedDept);\n        }\n      });\n    }\n\n    function loadDetail(userCode, callback) {\n      vm.selectedUserCode = userCode;\n      filesService.getUserInfo(userCode,'').then(function (data){\n          viewDetail(data,callback);\n      });\n    }\n\n    //明细数据显示\n      function viewDetail(data,callback) {\n          vm.detail = angular.extend({}, data);\n\n          // 转换日期\n          var dataTemp = data,\n              prop;\n\n          for (prop in dataTemp) {\n              if (dataTemp.hasOwnProperty(prop)) {\n                  dateArr.forEach(function (dateItem) {\n                      if (dataTemp[prop][dateItem]) {\n                          dataTemp[prop][dateItem] = new Date(dataTemp[prop][dateItem]);\n                      }\n\n                      if (dataTemp[prop].length > 0) {\n                          dataTemp[prop].map(function (tempItem) {\n                              if (tempItem[dateItem]) {\n                                  tempItem[dateItem] = new Date(tempItem[dateItem]);\n                              }\n\n                              return tempItem;\n                          });\n                      }\n                  });\n              }\n          }\n\n          filesService.selectedUser = dataTemp;\n          vm.rootScope.$broadcast('resetCount', filesService.selectedUser);\n\n          if (callback) callback();\n      }\n\n\n    // 刷新用户列表\n    vm.scope.$on('refreshUserList', function (event, deptCode) {\n      load(deptCode);\n    });\n\n    // 刷新用户信息详情\n    vm.scope.$on('refreshUserDetail', function (event, data) {\n      vm.selectedUserCode = data.comUser.userCode;//选中行的员工编号\n      viewDetail(data);\n    });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('checkService', checkServiceFunc);\n\n  /** @ngInject */\n  function checkServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getCheckList: getCheckList,\n      saveEditCheck: saveEditCheck,\n      deleteCheck: deleteCheck\n    };\n\n    return service;\n\n    /**\n     * [del 删除质量检查]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteCheck(seqId) {\n      var param = {};\n      param.seqId = seqId;\n      return $http.get(apiHost.qualityManager.deleteQualityCheck, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存质量检查]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveEditCheck(dataObj) {\n      return $http.post(apiHost.qualityManager.editQualityCheck, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 质量检查列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getCheckList(date, deptCode, formCode) {\n      var param = {};\n\n      // param.deptCode = security.getUserinfo().role.deptCode;\n      date ? param.date = date : '';\n      deptCode ? param.deptCode = deptCode : '';\n      formCode ? param.formCode = formCode : '';\n\n      return $http.get(apiHost.qualityManager.getQualityCheckList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityCheckController', checkControllerFunc);\n\n  /** @ngInject */\n  function checkControllerFunc($scope, $log, NgTableParams, $filter, checkService, modalService, toastr, security) {\n    var vm = this;\n    var dataForCheckModal = {\n      formData: {},\n      metaData: {}\n    };\n    var s_date = '2016-04',\n      s_deptCode = '',\n      s_formCode = '';\n\n    vm.save = save;\n    vm.edit = edit;\n    vm.del = del;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n\n    initData();\n\n    function initData() {\n      checkService.getCheckList(s_date, s_deptCode, s_formCode).then(function(response) {\n        if (response) {\n          vm.lst = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    // dataForLeaveModal.formData.deptCode = security.getUserinfo().role.deptCode;\n\n    //## 编辑\n    function edit(row) {\n      dataForCheckModal.formData = angular.extend({}, row);\n\n      modalService.open({\n        templateUrl: 'app/quality/check/editCheck.tpl.html',\n        size: 'md',\n        ok: save,\n        data: dataForCheckModal,\n      });\n\n    }\n\n    //## 保存\n    function save() {\n      var data,\n        array_length,\n        parrent_create_Time,\n        child_create_Time,\n        len,\n        parent_count = 0,\n        child_count;\n\n      data = angular.extend({}, dataForCheckModal.formData);\n\n      len = data.qualityResultDetailList.length;\n\n      for (var i = 0; i < len; i++) {\n        child_count = data.qualityResultDetailList[i].count;\n        parent_count = parent_count + Number(child_count);\n      }\n\n      data.count = parent_count;\n\n      parrent_create_Time = data.createTime;\n      data.createTime = moment(parrent_create_Time).format('YYYY-MM-DD hh:mm:ss');\n      parrent_create_Time = data.updateTime;\n      data.updateTime = moment(parrent_create_Time).format('YYYY-MM-DD hh:mm:ss');\n\n      if (data.qualityResultDetailList) {\n        array_length = data.qualityResultDetailList.length;\n        for (var i = 0; i < array_length; i++) {\n          child_create_Time = data.qualityResultDetailList[i].createTime;\n          data.qualityResultDetailList[i].createTime = moment(child_create_Time).format('YYYY-MM-DD hh:mm:ss');\n          data.qualityResultDetailList[i].updateTime = moment(child_create_Time).format('YYYY-MM-DD hh:mm:ss');\n        }\n      }\n\n      checkService.saveEditCheck(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.dataForCheckModal = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 删除\n    function del(seqId) {\n      checkService.deleteCheck(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('workManualService', workManualServiceFunc);\n\n  /** @ngInject */\n  function workManualServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      get: get,\n      save: save,\n      delete: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除工作条目]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.manual.workManual.delete, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.manual.workManual.save, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.manual.workManual.get, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ManualWorkController', workControllerFunc);\n\n  /** @ngInject */\n  function workControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n    var vm = this;\n\n    vm.saveGroup = saveGroup;\n    vm.edit = edit;\n    vm.deleteGroup = deleteGroup;\n    vm.formData = {};\n    vm.add = add;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n\n    initData();\n\n    function initData() {\n      bedService.getGroupList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    function edit(row) {\n      vm.formData = angular.extend({}, row);\n      vm.selectedLevel = row;\n\n      if (row) {\n        if (row.beds) {\n          vm.formData.bedList = row.beds.split(';');\n        }\n      }\n    }\n\n    function add() {\n      vm.formData = {};\n    }\n\n    /************\n     ****编辑框****\n     ************/\n    vm.removeFlow = removeFlow;\n    vm.addFlow = addFlow;\n\n    function addFlow() {\n      if (vm.flowText === '') {\n        return;\n      }\n\n      vm.formData.bedList = vm.formData.bedList || [];\n\n      vm.formData.bedList.push(vm.flowText);\n\n      // 置空 ng-model里的值\n      vm.flowText = '';\n    }\n\n    function removeFlow($index) {\n      vm.formData.bedList.splice($index, 1);\n    }\n\n    function saveGroup() {\n      // debugger;\n      var data = angular.extend({}, vm.formData);\n\n      data.beds = data.bedList ? data.bedList.join(';') : '';\n      data.deptCode = vm.deptCode;\n      // return;\n      bedService.saveGroup(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    function deleteGroup(seqId) {\n      bedService.deleteGroup(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if (seqId == vm.formData.seqId) {\n            vm.formData = {};\n          }\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('manualItemService', manualItemServiceFunc);\n\n  /** @ngInject */\n  function manualItemServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getItems: getItems,\n      saveItem: saveItem,\n      deleteItem: deleteItem\n    };\n\n    return service;\n\n    /**\n     * [del 删除工作项目]\n     * @param  {[string]} itemCode [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteItem(itemCode) {\n      return $http.post(apiHost.manual.item.delete, {\n          itemCode: itemCode\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存工作条目]\n     * @param  {[object]} dataObj [seqId: number; itemCode: string; itemName: string; deptName: string]\n     * @return {[object]}         [promise]\n     */\n    function saveItem(dataObj) {\n      return $http.post(apiHost.manual.item.save, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [getItems 获取工作条目]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getItems(deptCode) {\n      var param = {};\n\n      param.deptCode = deptCode || security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.manual.item.get, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ManualItemController', itemControllerFunc);\n\n  /** @ngInject */\n  function itemControllerFunc($scope, $log, NgTableParams, $filter, manualItemService, toastr, security, deptService) {\n    var vm = this;\n\n    vm.save = save;\n    vm.edit = edit;\n    vm.deleteItem = deleteItem;\n    vm.formData = {};\n    vm.add = add;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n    vm.deptList = deptService.deptList;\n\n    if (vm.deptList.length === 0) {\n      deptService.getDeptData().then(function(data) {\n        // debugger;\n        vm.deptList = data.belongedDepts;\n        vm.deptList.unshift({\n          deptCode: data.deptCode,\n          deptName: data.deptName\n        })\n      })\n    }\n\n    initData();\n\n    function initData() {\n      manualItemService.getItems().then(function(response) {\n        // debugger;\n        if (response) {\n          vm.lst = response.data.data;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    function edit(row) {\n      vm.formData = angular.extend({}, row);\n      vm.selectedItem = row;\n      vm.formData.dept = {\n        deptCode: vm.formData.deptCode,\n        deptName: vm.formData.deptName\n      }\n    }\n\n    function add() {\n      vm.formData = {};\n    }\n\n    function save() {\n      // debugger;\n      var data = angular.extend({}, vm.formData);\n      data.deptCode = data.dept.deptCode;\n      data.deptName = data.dept.deptName;\n\n      delete data.dept;\n      // return;\n      manualItemService.saveItem(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n        }\n      });\n    }\n\n    function deleteItem(seqId) {\n      manualItemService.deleteItem(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if (seqId == vm.formData.seqId) {\n            vm.formData = {};\n          }\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n(function() {\r\n  'use strict';\r\n  angular\r\n    .module('nqms')\r\n    .config(function(toastrConfig) {\r\n      toastrConfig.tapToDismiss = true;\r\n      toastrConfig.timeOut = 0;\r\n    })\r\n    .factory('typeService', typeServiceFun);\r\n\r\n  function typeServiceFun(apiHost, $http, $log, toastr) {\r\n    var service = {\r\n      apiHost: apiHost,\r\n        getEventType: getEventType\r\n    };\r\n\r\n    return service;\r\n        //查询类型数据\r\n      function getEventType(){\r\n        return $http.get(apiHost.events.getEventTypeList)\r\n            .then(complete);\r\n      }\r\n      //执行成功\r\n      function complete(response) {\r\n          if (response.data.code === '0') {\r\n              return response;\r\n          }\r\n      }\r\n  }\r\n\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('MalCaseUpTypeController', typeControllerFun);\r\n\r\n  function typeControllerFun($scope, $log, NgTableParams, $filter,typeService) {\r\n    var vm = this;\r\n    //数据初始化\r\n    initData();\r\n\r\n    function initData(){\r\n        typeService.getEventType().then(function (response){\r\n            if(response){\r\n                vm.lst = response.data.data.lst;\r\n                vm.tableParams = new NgTableParams({}, {\r\n                    dataset: vm.lst\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpStatisticsController',statisticsControllerFun);\r\n\r\n    function statisticsControllerFun($scope,$log,NgTableParams,$filter){\r\n        var vm = this;\r\n        vm.lst = [{groupNo:'跌倒',groupName:'不良治疗',bedNo : 'Ⅱ级',remark : '跌倒'},\r\n            {groupNo:'坠床',groupName:'不良治疗',bedNo : 'Ⅱ级',remark : '坠床'},\r\n            {groupNo:'走失',groupName:'不良治疗',bedNo : 'Ⅰ级',remark : '走失'},\r\n            {groupNo:'烫伤',groupName:'不良治疗',bedNo : 'Ⅲ级',remark : '烫伤'},\r\n            {groupNo:'医患争吵',groupName:'医患沟通',bedNo : 'Ⅰ级',remark : '医患争吵'},\r\n            {groupNo:'身体攻击',groupName:'医患沟通',bedNo : 'Ⅳ级',remark : '身体攻击'},\r\n            {groupNo:'咽入异物',groupName:'饮食类',bedNo : 'Ⅱ级',remark : '咽入异物'},\r\n            {groupNo:'食物中毒',groupName:'饮食类',bedNo : 'Ⅳ级',remark : '食物中毒'},\r\n            {groupNo:'仪器故障',groupName:'医疗设备',bedNo : '0级',remark : '仪器故障'},\r\n            {groupNo:'院内压疮',groupName:'皮肤类',bedNo : 'Ⅲ级',remark : '院内压疮'}];\r\n\r\n        $log.debug(vm.lst);\r\n        vm.tableParams = new NgTableParams({\r\n            page: 1,            // show first page\r\n            count: 10           // count per page\r\n        }, {\r\n            total: vm.lst.length, // length of data\r\n            getData: function($defer, params) {\r\n                var orderedData = params.sorting() ?\r\n                    $filter('orderBy')(vm.lst, params.orderBy()) :\r\n                    vm.lst;\r\n                orderedData = params.filter() ?\r\n                    $filter('filter')(orderedData, params.filter()) :\r\n                    orderedData;\r\n\r\n                params.total(orderedData.length); // set total for recalc pagination\r\n                $defer.resolve($scope.users = orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));\r\n            }\r\n        });\r\n    }\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('levelService', levelServiceFunc);\n\n  /** @ngInject */\n  function levelServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      save: save,\n      get: get,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.events.deleteEventLevel, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventLevel, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpLevelController',levelControllerFun);\r\n\r\n    function levelControllerFun($scope, $log, NgTableParams, $filter, levelService, modalService, toastr){\r\n        var vm = this;\r\n\r\n        vm.save = save;\r\n        vm.edit = edit;\r\n        vm.del = del;\r\n        vm.formData = {};\r\n        vm.add = add;\r\n\r\n        initData();\r\n\r\n        // 获取分级数据\r\n        function initData() {\r\n          levelService.get().then(function(response) {\r\n            if (response) {\r\n              vm.lst = response.data.data.lst;\r\n              // debugger;\r\n              vm.tableParams = new NgTableParams({}, {\r\n                dataset: vm.lst\r\n              });\r\n            }\r\n          });\r\n        }\r\n\r\n        function edit(row) {\r\n          // 处理流程分解\r\n          vm.formData = angular.extend({}, row);\r\n          vm.selectedLevel = row;\r\n\r\n          if (row) {\r\n            if (row.flow) {\r\n              vm.formData.flowList = row.flow.split('|');\r\n            }\r\n          }\r\n        }\r\n\r\n        function add() {\r\n          vm.formData = {};\r\n        }\r\n\r\n        /************\r\n        ****编辑框****\r\n        ************/\r\n        vm.removeFlow = removeFlow;\r\n        vm.addFlow = addFlow;\r\n\r\n        function addFlow() {\r\n          if (vm.flowText === '') {\r\n            return;\r\n          }\r\n\r\n          vm.formData.flowList = vm.formData.flowList || [];\r\n\r\n          vm.formData.flowList.push(vm.flowText);\r\n\r\n          // 置空 ng-model里的值\r\n          vm.flowText = '';\r\n        }\r\n\r\n        function removeFlow($index) {\r\n          vm.formData.flowList.splice($index, 1);\r\n        }\r\n\r\n        function save() {\r\n          // debugger;\r\n          var data = angular.extend({}, vm.formData);\r\n\r\n          data.flow = data.flowList ? data.flowList.join('|') : '';\r\n          // return;\r\n          levelService.save(data).then(function(response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('保存成功！', '提示');\r\n              initData();\r\n              vm.formData = {};\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n\r\n        function del(seqId) {\r\n          levelService.del(seqId).then(function (response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('已删除！', '提示');\r\n              initData();\r\n              //如果删除选中行，那么编辑数据清空\r\n              if(seqId == vm.formData.seqId){\r\n                  vm.formData = {};\r\n              }\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n    }\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('handleService', handleServiceFunc);\n\n  /** @ngInject */\n  function handleServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      saveReportDetail: saveReportDetail,\n      saveMeasure: saveMeasure,\n      saveRequirement: saveRequirement,\n      saveEstimate: saveEstimate,\n      deleteMeasure: deleteMeasure,\n      deleteRequirement: deleteRequirement,\n      deleteEstimate: deleteEstimate,\n      getReportDetail: getReportDetail,\n      getEventMeasures: getEventMeasures,\n      getEventRequirement: getEventRequirement,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [必填]\n     * @param  {[string]} reportCode [必填]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId, reportCode) {\n      return $http.post(apiHost.events.deleteEventReport, {\n          seqId: seqId,\n          reportCode: reportCode\n        })\n        .then(complete);\n    }\n\n    function getReportDetail(params) {\n      return $http.get(apiHost.events.getReportDetail, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function getEventMeasures(params) {\n      return $http.get(apiHost.events.getEventMeasures, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function getEventRequirement(params) {\n      return $http.get(apiHost.events.getEventRequirement, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveReportDetail(dataObj) {\n      return $http.post(apiHost.events.saveReportDetail, dataObj)\n        .then(complete);\n    }\n\n    function saveMeasure(dataObj) {\n      return $http.post(apiHost.events.saveEventMeasures, dataObj)\n        .then(complete);\n    }\n\n    function saveRequirement(dataObj) {\n      return $http.post(apiHost.events.saveEventRequirement, dataObj)\n        .then(complete);\n    }\n\n    // TODO 整改效果评估还没给接口\n    function saveEstimate(dataObj) {\n      return $http.post(apiHost.events.saveReportDetail, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n\n\n    function deleteRequirement(params) {\n      return $http.post(apiHost.events.deleteEventRequirement, params)\n        .then(complete);\n    }\n\n    function deleteMeasure(params) {\n      return $http.post(apiHost.events.deleteEventMeasures, params)\n        .then(complete);\n    }\n\n    function deleteEstimate(params) {\n      return $http.post(apiHost.events.deleteEventReport, params)\n        .then(complete);\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('nqms')\n    .controller('MalCaseUpHandleController', handleControllerFun);\n\n  function handleControllerFun($rootScope, $scope, $log, $q, NgTableParams, $filter, security, levelService, modalService, toastr, fixService, deptService, handleService, filesService) {\n    var vm = this;\n    var formData = {};\n    var metaData = {};\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n    vm.open = open;\n    vm.del = del;\n\n    initData();\n\n    // 获取分级数据\n    function initData() {\n      fixService.getEventList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          // debugger;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    // TODO 日期格式处理  －>日期和时间已分开\n    function open(row) {\n      // 处理流程分解\n      // formData = angular.extend({}, row);\n      vm.selectedEvent = row;\n      initModalData(row).then(open_it);\n    }\n\n    function open_it() {\n      // debugger;\n      modalService.open({\n        templateUrl: 'app/malCaseUp/handle/handle.modal.html',\n        size: 'lg',\n        appendTo: angular.element('.handle-wrapper'),\n        data: {\n          formData: formData,\n          metaData: metaData\n        },\n        methodsObj: {\n          saveReportDetail: saveReportDetail,\n          // TODO 添加措施的方法\n          saveListItem: function(listName, itemData) {\n            var m_this = this;\n            var list_name = m_this.upFirstLetter(listName);\n            var data_temp = {};\n\n            list_name = list_name === 'Estimate' ? 'Measure' : list_name;\n\n            data_temp.userCode = security.getUserinfo().user.userCode;\n\n            switch (listName) {\n              case 'requirement':\n                angular.extend(data_temp, {\n                  reportCode: m_this.formData.reportCode,\n                  seqId: m_this.formData[listName].seqId || null,\n                  reqCode: m_this.formData[listName] && m_this.formData[listName].reqCode || null,\n                  reqContent: m_this.formData[listName].reqContent,\n                  remark: ''\n                });\n                break;\n              case 'measure':\n                if (!m_this.formData[listName].meaTime) {\n                  data_temp.meaTime = moment().format('YYYY-MM-DD HH:mm:ss');\n                }\n                angular.extend(data_temp, {\n                  seqId: m_this.formData[listName].seqId || null,\n                  reportCode: m_this.formData.reportCode,\n                  meaCode: m_this.formData[listName] && m_this.formData[listName].meaCode || null,\n                  meaContent: m_this.formData[listName].meaContent,\n                  headUserCode: m_this.formData[listName].headUserCode\n                    // headUserName: m_this.formData[listName].headUserName\n                });\n                break;\n              case 'estimate':\n                angular.extend(data_temp, {\n                  seqId: m_this.formData.measure.seqId || null,\n                  reportCode: m_this.formData.reportCode,\n                  meaCode: m_this.formData.measure && m_this.formData.measure.meaCode || null,\n                  headUserCode: m_this.formData.measure.headUserCode,\n                  meaContent: m_this.formData.measure.meaContent,\n                  // headUserName: m_this.formData[listName].headUserName,\n                  resStatus: '',\n                  resDescribe: m_this.formData.measure.resDescribe\n                });\n                break;\n              default:\n                break;\n            }\n\n            if (!m_this.formData[listName + 'List']) {\n              m_this.formData[listName + 'List'] = [];\n            }\n\n            // return;\n\n            // 保存到服务器\n            handleService['save' + list_name](data_temp).then(function(response) {\n              if (response) {\n                toastr.success('保存成功', '提示');\n                // m_this.formData[listName].push(data_temp);\n                m_this.rootScope.$broadcast('refresh' + list_name, m_this.formData.reportCode, m_this);\n                m_this.formData[listName] = {};\n              }\n            });\n          },\n          removeListItem: function(params) {\n            var m_this = this;\n            var list_name = m_this.upFirstLetter(params.listName);\n            var _params;\n\n            m_this.formData[params.listName + 'List'].splice(params.index, 1);\n\n            switch (params.listName) {\n              case 'measure':\n                _params = {\n                  reportCode: m_this.reportCode,\n                  meaCode: params.meaCode\n                };\n                break;\n              case 'requirement':\n                _params = {\n                  seqId: params.seqId\n                };\n                break;\n              case 'estimate':\n                return;\n              default:\n                break;\n            }\n\n            handleService['delete' + list_name](_params).then(function(response) {\n              if (response) {\n                toastr.success('已删除', '提示');\n              }\n            });\n          },\n          fillItem: function(itemName, item) {\n            var m_this = this;\n\n            m_this.formData[itemName] = angular.extend({}, item);\n          },\n          resetForm: function(itemName) {\n            this.formData[itemName] = {};\n          },\n          upFirstLetter: function(str) {\n            return str.replace(/^\\w{1}/, function(match) {\n              return match.toUpperCase();\n            });\n          }\n        }\n      });\n    }\n\n    function initModalData(row) {\n      var reportCode = row.reportCode;\n      var deptCode = security.getUserinfo().role.deptCode;\n\n      formData.reportCode = reportCode;\n\n      // 获取当前选择科室的员工列表\n\n      var getUserList = filesService.getUserList(deptCode);\n\n      var getEventRequirement = handleService.getEventRequirement({\n        reportCode: reportCode\n      });\n      var getEventMeasures = handleService.getEventMeasures({\n        reportCode: reportCode\n      });\n      var getReportDetails = handleService.getReportDetail({\n        reportCode: reportCode\n      });\n      // var getEventRequirement = handleService.getEventRequirement({reportCode: reportCode});\n      var _promise = $q.all([getEventRequirement, getEventMeasures, getReportDetails, getUserList]).then(function(response) {\n        var requirements = response[0].data.data.lst;\n        var measures = response[1].data.data.lst;\n        var reportDetails = {};\n        var userList = response[3];\n\n        // debugger\n\n        response[2].data.data.lst.forEach(function(item) {\n          reportDetails[item.itemCode] = {\n            value: item.itemValue,\n            seqId: item.seqId\n          };\n        });\n\n        // 初始化弹层内的表单数据\n        metaData.malCaseInfo = row;\n        metaData.userList = userList;\n        formData.requirementList = requirements;\n        formData.measureList = measures;\n        formData.reportDetailList = reportDetails;\n        // return response;\n      });\n\n      return _promise;\n    }\n\n    function removeFlow($index) {\n      vm.formData.flowList.splice($index, 1);\n    }\n\n    function saveReportDetail() {\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.reportDetailList);\n      var data_arr = [];\n      var prop;\n      debugger;\n      // 将对象转成数组\n      for (prop in data) {\n        if (data.hasOwnProperty(prop)) {\n          data_arr.push({\n            reportCode: m_this.formData.reportCode,\n            itemCode: prop,\n            seqId: data[prop].seqId || null,\n            itemValue: data[prop].value\n          });\n        }\n      }\n\n\n      // return;\n      handleService.saveReportDetail(data_arr).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          vm.scope.$broadcast('resfreshReportDetail', m_this.formData.reportCode, m_this);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveMeasure() {\n      // debugger;\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.measures);\n      // return;\n      handleService.saveMeasure(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveRequirement() {\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.requirements);\n      // return;\n      handleService.saveRequirement(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          modalService.close('success');\n        }\n      });\n    }\n\n    function del(seqId, reportCode) {\n      levelService.del(seqId, reportCode).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    function getEventRequirement(event, reportCode, context) {\n      handleService.getEventRequirement({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.requirementList = response.data.data.lst;\n          // vm.rootScope.$digest();\n        }\n      });\n    }\n\n    function getEventMeasures(event, reportCode, context) {\n      handleService.getEventMeasures({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.measureList = response.data.data.lst;\n          // vm.rootScope.$digest();\n          // debugger;\n        }\n      });\n    }\n\n    function getReportDetail(event, reportCode, context) {\n      handleService.getReportDetail({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.reportDetailList = response.data.data.lst;\n          // vm.rootScope.$digest();\n          // debugger;\n        }\n      });\n    }\n\n    // 数据刷新\n    vm.scope.$on('refreshMeasure', getEventMeasures);\n    vm.scope.$on('refreshRequirement', getEventRequirement);\n    vm.scope.$on('refreshReportDetail', getReportDetail);\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('fixService', fixServiceFunc);\n\n  /** @ngInject */\n  function fixServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      save: save,\n      getEventList: getEventList,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.events.deleteEventLevel, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventLevel, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getEventList(params) {\n      var param = params || {};\n\n      param.userCode = security.getUserinfo().user.userCode;\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.events.getEventList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('nqms').controller('MalCaseUpElementController', function ($uibModal, $log) {\r\n        var vm = this;\r\n        vm.lst = [{elementCode:'1',elementName:'压疮大小',viewName : '压疮大小',groupName : '压疮信息',\r\n            elementType:'文本框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'2',elementName:'发生时间',viewName : '发生时间',groupName : '压疮信息',\r\n                elementType:'文本框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'3',elementName:'性别',viewName : '性别',groupName : '患者信息',\r\n                elementType:'单选框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'4',elementName:'医疗类型',viewName : '医疗类型',groupName : '患者信息',\r\n                elementType:'下拉框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'5',elementName:'年龄',viewName : '年龄',groupName : '患者信息',\r\n                elementType:'文本框',width:'3/12',remark:'备注',required:'是'}];\r\n    })\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('callService', callServiceFunc);\n\n  /** @ngInject */\n  function callServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      save: save,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [必填]\n     * @param  {[string]} reportCode [必填]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId, reportCode) {\n      return $http.post(apiHost.events.deleteEventReport, {\n          seqId: seqId,\n          reportCode: reportCode\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventReport, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('MalCaseUpCallController', callControllerFun);\r\n\r\n  function callControllerFun($scope, $log, NgTableParams, $filter, security, moment, levelService, modalService, toastr, fixService, callService, deptService, typeService) {\r\n    var vm = this;\r\n    var formData = {};\r\n    var metaData = {};\r\n\r\n    vm.save = save;\r\n    vm.open = open;\r\n    vm.del = del;\r\n    vm.add = add;\r\n\r\n    // mock数据\r\n    metaData.eventTypeList = [{\r\n      code: 1,\r\n      name: '运送中病情变化'\r\n    }, {\r\n      code: 2,\r\n      name: '误吸'\r\n    }, {\r\n      code: 3,\r\n      name: '院内压疮'\r\n    }, {\r\n      code: 4,\r\n      name: '坠床'\r\n    }, {\r\n      code: 5,\r\n      name: '跌倒'\r\n    }];\r\n\r\n    initData();\r\n\r\n    // 获取不良事件数据\r\n    function initData() {\r\n      fixService.getEventList().then(function(response) {\r\n        if (response) {\r\n          vm.lst = response.data.data.lst;\r\n          // debugger;\r\n          vm.tableParams = new NgTableParams({}, {\r\n            dataset: vm.lst\r\n          });\r\n        }\r\n      });\r\n      typeService.getEventType().then(function(response) {\r\n        if (response) {\r\n          metaData.eventTypeList = response.data.data.lst;\r\n        }\r\n      });\r\n    }\r\n\r\n    // TODO 编辑时日期格式处理  －>日期和时间已分开\r\n    function open(row) {\r\n      // 处理流程分解\r\n      formData = angular.extend({}, row);\r\n      vm.selectedLevel = row;\r\n\r\n      metaData.deptList = deptService.deptList && deptService.deptList.belongedDepts;\r\n\r\n      // 设置弹层的科室数据\r\n      // TODO 对科室数据请求缓存\r\n      initLevelData().then(function() {\r\n        if (!metaData.deptList) {\r\n          deptService.getDeptData().then(function(response) {\r\n            var response_data = response;\r\n\r\n            if (response_data) {\r\n              metaData.deptList = response_data.belongedDepts;\r\n\r\n              if (metaData.deptList.length === 0) {\r\n                delete response_data.belongedDepts;\r\n                metaData.deptList = [response_data];\r\n              }\r\n\r\n              open_it();\r\n            }\r\n          });\r\n        } else {\r\n          open_it();\r\n        }\r\n      });\r\n\r\n      // debugger;\r\n      // 编辑时把时间转换成原始格式\r\n      if (row) {\r\n        formData.eventDate = new Date(row.eventTime);\r\n        formData.eventTime = new Date(row.eventTime);\r\n        // 事件等级\r\n        formData.level = {\r\n          damageLevel: row.damageLevel\r\n        };\r\n        // 科室转换\r\n        formData.dept = {\r\n          deptCode: row.deptCode,\r\n          deptName: row.deptName\r\n        };\r\n\r\n        // 事件类型转换\r\n        formData.eventType = {\r\n          eventTypeCode: row.eventTypeCode,\r\n          eventTypeName: row.eventTypeName\r\n        };\r\n      }\r\n\r\n\r\n      // 设置上报人为当前用户\r\n      formData.userCode = security.getUserinfo().user.userCode;\r\n      formData.userCode = security.getUserinfo().user.userName;\r\n\r\n      function open_it() {\r\n        modalService.open({\r\n          templateUrl: 'app/malCaseUp/call/call.modal.html',\r\n          size: 'lg',\r\n          ok: save,\r\n          data: {\r\n            formData: formData,\r\n            metaData: metaData\r\n          },\r\n          methodsObj: {\r\n            eventTimeCalender: function() {\r\n              var m_this = this;\r\n\r\n              m_this.eventTimeOpen = true;\r\n            },\r\n\r\n            setUser: function($index) {\r\n              var m_this = this;\r\n\r\n              m_this.formData.flowList.splice($index, 1);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    function initLevelData() {\r\n      return levelService.get().then(function(response) {\r\n        if (response) {\r\n          metaData.levelList = response.data.data.lst;\r\n        }\r\n      });\r\n    }\r\n\r\n    function add() {\r\n      vm.formData = {};\r\n    }\r\n\r\n    /************\r\n     ****编辑框****\r\n     ************/\r\n    vm.removeFlow = removeFlow;\r\n    vm.addFlow = addFlow;\r\n\r\n    function addFlow() {\r\n      if (vm.flowText === '') {\r\n        return;\r\n      }\r\n\r\n      vm.formData.flowList = vm.formData.flowList || [];\r\n\r\n      vm.formData.flowList.push(vm.flowText);\r\n\r\n      // 置空 ng-model里的值\r\n      vm.flowText = '';\r\n    }\r\n\r\n    function removeFlow($index) {\r\n      vm.formData.flowList.splice($index, 1);\r\n    }\r\n\r\n    function save(dataObj) {\r\n      // debugger;\r\n      var data = angular.extend({}, dataObj);\r\n      var date_temp;\r\n      var time_temp;\r\n      // 科室\r\n      data.deptName = data.dept.deptName;\r\n      // 事件发生时间\r\n      date_temp = moment(data.eventDate).format('YYYY-MM-DD');\r\n      time_temp = moment(data.eventTime).format('HH:mm:ss');\r\n      delete data.eventDate;\r\n      delete data.dept;\r\n\r\n      // 事件类型名称和code\r\n      data.eventTypeCode = angular.fromJson(data.eventType).eventTypeCode;\r\n      data.eventTypeName = angular.fromJson(data.eventType).eventTypeName;\r\n      delete data.eventType;\r\n      delete data.level;\r\n\r\n      data.eventTime = moment(date_temp + ' ' + time_temp).format('YYYY-MM-DD HH:mm:ss');\r\n      // debugger;\r\n      // return;\r\n      callService.save(data).then(function(response) {\r\n        if (response && response.data.code === '0') {\r\n          toastr.success('保存成功！', '提示');\r\n          initData();\r\n          vm.formData = {};\r\n          modalService.close('success');\r\n        }\r\n      });\r\n    }\r\n\r\n    function del(seqId, reportCode) {\r\n      callService.del(seqId, reportCode).then(function(response) {\r\n        if (response && response.data.code === '0') {\r\n          toastr.success('已删除！', '提示');\r\n          initData();\r\n          modalService.close('success');\r\n        }\r\n      });\r\n    }\r\n  }\r\n})();\r\n\n(function (){\n    'use strict';\n\n    angular\n        .module('nqms')\n        .controller('DepartmentManagerTurnsRuleController',TurnsRuleControlleFun);\n\n    function TurnsRuleControlleFun($log, NgTableParams, turnsRuleService, modalService, toastr,classesService){\n        var vm = this;\n        var formData = {};\n        var metaData = {};\n\n        vm.save = save;\n        vm.add = add;\n        vm.del = del;\n        vm.edit = edit;\n\n        initData();\n\n        classesService.getClassList().then(function(response){\n            if(response){\n                vm.classList = response.data.data.lst;\n                metaData.classList = vm.classList;\n                $log.debug(vm.classList);\n            }\n        });\n\n        // 获取不良事件数据\n        function initData() {\n            turnsRuleService.getRuleList().then(function(response) {\n                if (response) {\n                    vm.lst = response.data.data.lst;\n                    // debugger;\n                    vm.tableParams = new NgTableParams({}, {\n                        dataset: vm.lst\n                    });\n                }\n            });\n        }\n        //编辑\n        function edit(row){\n            formData = row;\n            open();\n        }\n        //新增\n        function add(){\n            formData = {};\n            open();\n        }\n\n        function open() {\n            $log.debug(vm.classList);\n            modalService.open({\n                templateUrl: 'app/departmentManager/turnsRule/turnsRule.model.html',\n                size: 'lg',\n                ok: save,\n                data: {\n                    formData: formData,\n                    metaData : metaData\n                }\n            });\n        }\n\n\n        function save() {\n            $log.debug(formData);\n            turnsRuleService.saveRule(formData).then(function (response){\n                if(response && response.data.code =='0'){\n                    toastr.success('保存成功！','提示');\n                    initData();\n                    modalService.close('success');\n                }\n            });\n        }\n\n        function del(seqId) {\n            turnsRuleService.deleteRule(seqId).then(function (response) {\n                if (response && response.data.code == '0') {\n                    toastr.success('已删除！', '提示');\n                    initData();\n                }\n            });\n        }\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('turnsRuleService', turnsRuleService);\n\n  /** @ngInject */\n  function turnsRuleService($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getRuleList: getRuleList,\n      saveRule: saveRule,\n      deleteRule: deleteRule\n    };\n\n    return service;\n\n\n    /**\n     * [del 删除排班规则]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteRule(seqId) {\n      return $http.post(apiHost.schedule.deleteRule, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存排班规则]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveRule(dataObj) {\n      dataObj.deptCode = security.getUserinfo().role.deptCode;\n      return $http.post(apiHost.schedule.saveRule, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询排班规则]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getRuleList() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getRuleList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('turnsService', turnsServiceFunc);\n\n  /** @ngInject */\n  function turnsServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      saveSchedule: saveSchedule,\n      newSchedule: newSchedule,\n      getSchedule: getSchedule,\n      copySchedule: copySchedule\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n\n    function getSchedule(week) {\n      var param = {};\n      param.week = week;\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getSchedule, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveSchedule(dataObj) {\n      dataObj.deptCode = security.getUserinfo().role.deptCode;\n      dataObj.deptName = security.getUserinfo().role.deptName;\n      return $http.post(apiHost.schedule.saveSchedule, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function newSchedule(week) {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n      param.week = week;\n\n      return $http.get(apiHost.schedule.newSchedule, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    /**\n     * [get 周排班复制]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function copySchedule(week) {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n      param.outWeek = week;\n      param.srcWeek = week - 1;\n\n      return $http.get(apiHost.schedule.copySchedule, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerTurnsController', turnsControllerFunc);\n\n  /** @ngInject */\n  function turnsControllerFunc(turnsService,classesService, $log,toastr) {\n    var vm = this;\n    vm.saveTurns = saveTurns;\n    vm.nextWeek = nextWeek;\n    vm.backWeek = backWeek;\n    vm.newTurns = newTurns;\n    vm.copyWeek = copyWeek;\n\n      initData();//数据初始化\n\n      function initData(){\n          getSchedule();\n      }\n\n      classesService.getClassList().then(function(response){\n          if(response){\n              vm.classList = response.data.data.lst;\n          }\n      });\n\n    function getSchedule(week){\n        turnsService.getSchedule(week).then(function(response) {\n            if (response) {\n                vm.data = response.data.data;\n                vm.lst = vm.data.dtls;\n            }\n        });\n    }\n\n    function saveTurns() {\n      vm.data.dtls = vm.lst;\n\n      turnsService.saveSchedule(vm.data).then(function(response) {\n        if (response && response.data.code == 0) {\n          toastr.success('保存成功！', '提示');\n            getSchedule(vm.data.weeks);\n        }\n      });\n    }\n        //下一个星期\n      function nextWeek(){\n          if(vm.data.weeks){\n              vm.data.weeks = vm.data.weeks + 1;\n              getSchedule(vm.data.weeks);\n          }\n      }\n      //上一个星期\n      function backWeek(){\n          if(vm.data.weeks){\n              vm.data.weeks = vm.data.weeks - 1;\n              getSchedule(vm.data.weeks);\n          }\n      }\n      //新增排班-针对本周\n      function newTurns(){\n          turnsService.newSchedule(vm.data.weeks).then(function(response) {\n              if (response && response.data.code == 0) {\n                  toastr.success('排班成功！', '提示');\n                  vm.data = response.data.data;\n                  vm.lst = vm.data.dtls;\n              }\n          });\n      }\n\n      function copyWeek(){\n          turnsService.copySchedule(vm.data.weeks).then(function(response){\n                if (response && response.data.code == 0) {\n                    toastr.success('复制成功！', '提示');\n                    vm.data = response.data.data;\n                    vm.lst = vm.data.dtls;\n                }\n            });\n      }\n  }\n\n})();\n\n/**\n * Created by gary on 16/6/30.\n */\n(function () {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (toastrConfig) {\n      toastrConfig.tapToDismiss = true;\n      toastrConfig.timeOut = 0;\n    })\n    .factory('deptStatisticsService', statisticsFunc);\n\n  /** @ngInject */\n  function statisticsFunc(apiHost, $http) {\n    var service = {\n      getByLeave: getByLeave,\n      getByClass: getByClass,\n      getByDays: getByDays\n    };\n\n    return service;\n\n    /**\n     * 根据请假统计\n     * @param params: [deptCode: string; mounth: string]\n     * @returns {*}\n     */\n    function getByLeave(params) {\n\n      return $http.get(apiHost.schedule.statistics.getByLeave, {\n          params: params\n        })\n        .then(complete)\n    }\n\n    /**\n     * 根据班次统计\n     * @param params: [deptCode: string; mounth: string; startDate: string; endDate: string]\n     * @returns {*}\n     */\n    function getByClass(params) {\n\n      return $http.get(apiHost.schedule.statistics.getByClass, {\n          params: params\n        })\n        .then(complete);\n    }\n\n    /**\n     * 根据日期统计\n     * @param params\n     * @returns {*}\n     */\n    function getByDays(params) {\n      return $http.get(apiHost.schedule.statistics.getByDays, {\n          params: params\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerStatisticsController', statisticsControllerFunc);\n\n  /** @ngInject */\n  function statisticsControllerFunc(deptService, deptStatisticsService, moment) {\n    var vm = this;\n\n    vm.deptList = deptService.deptList;\n    vm.picker = {\n      monthOpen: false,\n      startDateOpen: false,\n      endDateOpen: false\n    };\n\n    vm.options = {\n      month: {\n        datepickerMode: 'month',\n        minMode: 'month'\n      }\n    };\n\n    vm.openPicker = openPicker;\n    vm.getStatistics = getStatistics;\n\n    if (vm.deptList.length === 0) {\n      deptService.getDeptData().then(function(data) {\n        // debugger;\n        vm.deptList = data.belongedDepts;\n        vm.deptList.unshift({\n          deptCode: data.deptCode,\n          deptName: data.deptName\n        })\n      }).then(init)\n    }\n\n    function init() {\n      vm.queryParams = {\n        type: 'leave',\n        month: new Date(),\n        dept: vm.deptList[0],\n        startDate: new Date(),\n        endDate: new Date()\n      };\n      vm.options.startDate = {\n        maxDate: vm.queryParams.endDate\n      };\n      vm.options.endDate = {\n        minDate: vm.queryParams.startDate\n      }\n\n      getStatistics();\n    }\n\n    /**\n     * 日期开关\n     * @param  {string} name 日期控件的标示\n     */\n    function openPicker(name) {\n      vm.picker[name + 'Open'] = !vm.picker[name + 'Open'];\n    }\n\n    /**\n     * 获取统计信息\n     * @param  {string} type 统计的类型\n     */\n    function getStatistics(type) {\n      var type_temp = type === '' || !type ? 'Leave' : type.replace(/(\\w{1})/g, function(match) {\n        return match.toUpperCase();\n      });\n      var params = angular.extend({}, vm.queryParams);\n\n      params.deptCode = params.dept.deptCode;\n      params.month = moment(params.month).format('YYYY-MM');\n\n      delete params.dept;\n\n      switch (type_temp) {\n        case 'Leave':\n          delete params.type;\n          delete params.month\n          params.startDate = moment(params.startDate).format('YYYY-MM-DD');\n          params.endDate = moment(params.endDate).format('YYYY-MM-DD');\n          break;\n\n        case 'Days':\n          delete params.type;\n\n          break;\n        default:\n          delete params.type;\n          break;\n      }\n\n      deptStatisticsService['getBy' + type_temp](params).then(function(response) {\n        if (response) {\n          vm.statisticsData = response.data.data.lst;\n        }\n      })\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('leaveService', leaveServiceFunc);\n\n  /** @ngInject */\n  function leaveServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getLeaveList: getLeaveList,\n      saveScheduleLeave: saveScheduleLeave,\n      deleteScheduleLeave: deleteScheduleLeave,\n      apprvScheduleLeave: apprvScheduleLeave\n    };\n\n    return service;\n\n    /**\n     * [del 审批请假信息]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function apprvScheduleLeave(dataObj) {\n      return $http.post(apiHost.schedule.apprvScheduleLeave, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [del 删除请假信息]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteScheduleLeave(seqId) {\n      return $http.post(apiHost.schedule.deleteScheduleLeave, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存请假信息]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveScheduleLeave(dataObj) {\n      return $http.post(apiHost.schedule.saveScheduleLeave, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询请假信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getLeaveList() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getLeaveList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerLeaveController', leaveControllerFunc);\n\n  /** @ngInject */\n  function leaveControllerFunc(leaveService, $scope, $log, $q, moment, toastr, NgTableParams, modalService, security, $injector) {\n    var vm = this;\n    var formData = {};\n\n    vm.addLeave = open;\n    vm.saveLeave = saveLeave;\n    vm.edit = edit;\n    vm.del = del;\n    vm.review = review;\n\n\n    //## 获取数据\n    initData();\n\n    function initData() {\n      leaveService.getLeaveList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          for (var i = 0; i < vm.lst.length; i++) {\n            vm.lst[i].startTime = moment(new Date(vm.lst[i].startTime)).format('YYYY-MM-DD HH:MM:SS');\n            vm.lst[i].endTime = moment(new Date(vm.lst[i].endTime)).format('YYYY-MM-DD HH:MM:SS');\n          }\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    formData.deptCode = security.getUserinfo().role.deptCode;\n    formData.deptName = security.getUserinfo().role.deptName;\n\n    function open() {\n      modalService.open({\n        templateUrl: 'app/departmentManager/leave/addLeave.tpl.html',\n        size: 'md',\n        ok: saveLeave,\n        data: {\n          formData: formData\n        }\n      });\n    }\n\n    // 获取日期\n    function dater() {\n\n      formData.startDate = new Date(formData.startTime);\n      formData.endDate = new Date(formData.endTime);\n    }\n\n    //## 编辑\n    function edit(row) {\n      formData = angular.extend({}, row);\n      dater();\n      open();\n    }\n\n    //## 删除\n    function del(seqId) {\n      leaveService.deleteScheduleLeave(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 审核\n    function review(row) {\n      formData = angular.extend({}, row);\n\n      dater();\n\n      modalService.open({\n        templateUrl: 'app/departmentManager/leave/review.tpl.html',\n        size: 'md',\n        ok: saveReview,\n        data: {\n          formData: formData\n        }\n      });\n    }\n\n    function saveReview() {\n      leaveService.apprvScheduleLeave(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 保存\n    function saveLeave() {\n      // 初始获取页面的时间\n      var init_startDate = formData.startDate,\n        init_startTime = formData.startTime,\n        init_endDate = formData.endDate,\n        init_endTime = formData.endTime;\n\n      // 处理时间格式\n      function timer(d, t) {\n        var date, time, result;\n        date = moment(d).format('YYYY-MM-DD');\n        time = moment(t).format('HH:mm:ss');\n        result = moment(date + ' ' + time).format('YYYY-MM-DD HH:mm:ss')\n        return result;\n      }\n\n      // 最终提交表单的时间\n      formData.startTime = timer(init_startDate, init_startTime);\n      formData.endTime = timer(init_endDate, init_endTime);\n\n      formData.deptCode = security.getUserinfo().role.deptCode;\n      formData.deptNme = security.getUserinfo().role.deptNme;\n      leaveService.saveScheduleLeave(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('areaService', areaServiceFunc);\n\n  /** @ngInject */\n  function areaServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getUserNurses: getUserNurses,\n      batchSaveUserNurse: batchSaveUserNurse\n    };\n\n    return service;\n\n\n    /**\n     * [save 保存病区护理人员]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function batchSaveUserNurse(dataObj) {\n      return $http.post(apiHost.schedule.batchSaveUserNurse, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询病区护理人员]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getUserNurses() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getUserNurses, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerEndemicAreaController', endemicAreaControllerFunc);\n\n  /** @ngInject */\n  function endemicAreaControllerFunc($log,areaService,toastr,bedService) {\n      var vm = this;\n      vm.saveArea = saveArea;\n\n      initData();\n\n      function initData(){\n          //查询病区护理人员\n          areaService.getUserNurses().then(function(response){\n              if(response){\n                  vm.lst = response.data.data.lst;\n              }\n          });\n          //查询科室所有分组\n          bedService.getGroupList().then(function (response){\n              if(response && response.data.code == 0){\n                  vm.groupLst = response.data.data.lst;\n              }\n          });\n      }\n\n\n      function saveArea(){\n          areaService.batchSaveUserNurse(vm.lst).then(function (response){\n              if(response && response.data.code == 0){\n                  toastr.success('保存成功！', '提示');\n              }\n          });\n      }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('classesService', classesServiceFunc);\n\n  /** @ngInject */\n  function classesServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getClassList: getClassList,\n      saveclass: saveClass,\n      deleteClass: deleteClass\n    };\n\n    return service;\n\n    /**\n     * [del 删除班次信息]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteClass(seqId) {\n      return $http.post(apiHost.schedule.deleteClass, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存班次信息]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveClass(dataObj) {\n      return $http.post(apiHost.schedule.saveClass, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询科室班次信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getClassList() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getClassList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerClassesController', classesControllerFunc);\n\n  /** @ngInject */\n  function classesControllerFunc(classesService, $scope, $log, $q, $uibModal, toastr, NgTableParams, modalService, security, $injector) {\n    var vm = this;\n\n    var dataForClassModal = {\n      formData: {},\n      metaData: {}\n    };\n\n    vm.saveclass = saveclass;\n    vm.addClasses = open;\n    vm.edit = edit;\n    vm.del = del;\n\n    vm.deptCode = security.getUserinfo().role.deptCode;\n    vm.deptName = security.getUserinfo().role.deptName;\n    dataForClassModal.formData.deptCode = vm.deptCode;\n    dataForClassModal.formData.deptName = vm.deptName;\n\n    //## 获取数据\n    initData();\n\n    function initData() {\n      classesService.getClassList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    function open() {\n      dataForClassModal.formData.deptCode = vm.deptCode;\n      dataForClassModal.formData.deptName = vm.deptName;\n      modalService.open({\n        templateUrl: 'app/departmentManager/classes/addClasses.tpl.html',\n        size: 'md',\n        ok: saveclass,\n        data: dataForClassModal\n      });\n    }\n\n    //## 编辑\n    function edit(row) {\n      dataForClassModal.formData = angular.extend({}, row);\n      // 转换格式\n      function timer(t) {\n        var time,\n          new_Time,\n          final_Time;\n\n        time = '2099-01-01' + ' ' + t;\n        new_Time = new Date(time);\n        final_Time = moment(new_Time).format('YYYY HH:mm');\n        return final_Time;\n      }\n\n      dataForClassModal.formData.startTime = timer(row.startTime);\n      dataForClassModal.formData.endTime = timer(row.endTime);\n\n      open();\n    }\n\n    //## 删除\n    function del(seqId) {\n      classesService.deleteClass(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 保存\n    function saveclass() {\n      // 初始获取页面的时间\n      var init_startTime = dataForClassModal.formData.startTime,\n        init_endTime = dataForClassModal.formData.endTime,\n        new_startTime,\n        new_endTime;\n\n      new_startTime = moment(init_startTime).format('HH:mm')\n      new_endTime = moment(init_endTime).format('HH:mm')\n\n      // 最终提交表单的时间\n      dataForClassModal.formData.startTime = new_startTime;\n      dataForClassModal.formData.endTime = new_endTime;\n\n      classesService.saveclass(dataForClassModal.formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          dataForClassModal.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('bedService', bedServiceFunc);\n\n  /** @ngInject */\n  function bedServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getGroupList: getGroupList,\n      saveGroup: saveGroup,\n      deleteGroup: deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerBedController', bedControllerFunc);\n\n  /** @ngInject */\n  function bedControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n    var vm = this;\n\n    vm.saveGroup = saveGroup;\n    vm.edit = edit;\n    vm.deleteGroup = deleteGroup;\n    vm.formData = {};\n    vm.add = add;\n    vm.deptCode = security.getUserinfo().role.deptCode;\n\n    initData();\n\n    function initData() {\n      bedService.getGroupList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    function edit(row) {\n      vm.formData = angular.extend({}, row);\n      vm.selectedLevel = row;\n\n      if (row) {\n        if (row.beds) {\n          vm.formData.bedList = row.beds.split(';');\n        }\n      }\n    }\n\n    function add() {\n      vm.formData = {};\n    }\n\n    /************\n     ****编辑框****\n     ************/\n    vm.removeFlow = removeFlow;\n    vm.addFlow = addFlow;\n\n    function addFlow() {\n      if (vm.flowText === '') {\n        return;\n      }\n\n      vm.formData.bedList = vm.formData.bedList || [];\n\n      vm.formData.bedList.push(vm.flowText);\n\n      // 置空 ng-model里的值\n      vm.flowText = '';\n    }\n\n    function removeFlow($index) {\n      vm.formData.bedList.splice($index, 1);\n    }\n\n    function saveGroup() {\n      // debugger;\n      var data = angular.extend({}, vm.formData);\n\n      data.beds = data.bedList ? data.bedList.join(';') : '';\n      data.deptCode = vm.deptCode;\n      // return;\n      bedService.saveGroup(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    function deleteGroup(seqId) {\n      bedService.deleteGroup(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if (seqId == vm.formData.seqId) {\n            vm.formData = {};\n          }\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('attemperService', attemperService);\n\n  /** @ngInject */\n  function attemperService($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      getChangeClass: getChangeClass,\n      saveChangeClass: saveChangeClass,\n      deleteChangeClass: deleteChangeClass,\n      apprvChangeClass: apprvChangeClass\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteChangeClass(seqId) {\n      return $http.post(apiHost.schedule.deleteChangeClass, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存调班申请]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveChangeClass(dataObj) {\n      return $http.post(apiHost.schedule.saveChangeClass, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [save 保存调班申请]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function apprvChangeClass(dataObj) {\n      return $http.post(apiHost.schedule.apprvChangeClass, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询调班申请]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getChangeClass() {\n      var param = {};\n\n      param.deptCode = security.getUserinfo().role.deptCode;\n\n      return $http.get(apiHost.schedule.getChangeClass, {\n          params: param\n        })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerAttemperController', attemperControllerFunc);\n\n  /** @ngInject */\n  function attemperControllerFunc($log, NgTableParams, attemperService, modalService, toastr,classesService){\n      var vm = this;\n      var formData = {};\n\n      vm.save = save;\n      vm.add = add;\n      vm.del = del;\n      vm.edit = edit;\n\n      initData();\n\n      // 获取不良事件数据\n      function initData() {\n          attemperService.getChangeClass().then(function(response) {\n              if (response) {\n                  vm.lst = response.data.data.lst;\n                  // debugger;\n                  vm.tableParams = new NgTableParams({}, {\n                      dataset: vm.lst\n                  });\n              }\n          });\n\n          classesService.getClassList().then(function(response){\n              if(response){\n                  vm.classes = response.data.data.lst;\n              }\n          });\n      }\n      //编辑\n      function edit(row){\n          formData = row;\n          open();\n      }\n      //新增\n      function add(){\n          formData = {};\n          open();\n      }\n\n      function open() {\n          modalService.open({\n              templateUrl: 'app/departmentManager/attemper/attemper.model.html',\n              size: 'lg',\n              ok: save,\n              data: {\n                  formData: formData,\n                  classes : vm.classes\n              },\n              methodsObj: {\n              }\n          });\n      }\n\n\n      function save() {\n          attemperService.saveChangeClass(formData).then(function (response){\n              if(response && response.data.code =='0'){\n                  toastr.success('保存成功！','提示');\n                  initData();\n                  modalService.close('success');\n              }\n          });\n      }\n\n      function del(seqId) {\n          attemperService.deleteChangeClass(seqId).then(function (response) {\n              if (response && response.data.code == '0') {\n                  toastr.success('已删除！', '提示');\n                  initData();\n              }\n          });\n      }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {},\n      replace: true,\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController($rootScope, $scope, $log, security) {\n      var vm = this;\n      var userInfo = security.getUserinfo();\n\n      vm.minMode = true;\n      vm.isSubNavShow = true;\n      vm.isActive = $scope.$parent.isActive;\n      vm.currentIndex = security.getUserinfo().currentIndex;\n      vm.navData = userInfo.nav;\n\n      // 第一次进入系统, 一级菜单显示, 子菜单不显示.\n      if (!vm.currentIndex) {\n        vm.minMode = false;\n        vm.isSubNavShow = false;\n      }\n\n      vm.toggleNavView = toggleNavView;\n      vm.toggleSubNavView = toggleSubNavView;\n      vm.showSubNav = showSubNav;\n      vm.setActiveIndex = setActiveIndex;\n\n      $rootScope.$broadcast('toggleNavView', vm.minMode);\n      $rootScope.$broadcast('toggleSubNavView', vm.isSubNavShow);\n\n      function toggleNavView() {\n        vm.minMode = !vm.minMode;\n\n        $rootScope.$broadcast('toggleNavView', vm.minMode);\n      }\n\n      function showSubNav(index) {\n        vm.currentIndex = index;\n\n        if (vm.navData[index].child && vm.navData[index].child.length > 0) {\n          vm.isSubNavShow = true;\n          $rootScope.$broadcast('toggleSubNavView', vm.isSubNavShow);\n        }\n      }\n\n      function toggleSubNavView() {\n        vm.isSubNavShow = !vm.isSubNavShow;\n        $rootScope.$broadcast('toggleSubNavView', vm.isSubNavShow);\n      }\n\n      function setActiveIndex() {\n        userInfo.currentIndex = vm.currentIndex;\n        security.setCacheUser(userInfo);\n      }\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeHeader', cusHeaderFunc);\n\n  /** @ngInject */\n  function cusHeaderFunc() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/header/header.html',\n      scope: {},\n      replace: true,\n      controller: headerController,\n      controllerAs: 'hd',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function headerController($rootScope, $interval, $uibModal, moment, $log, security, $state, toastr) {\n      var hd = this;\n\n\n      hd.openUserDialog = openUserDialog;\n      hd.openRoleDialog = openRoleDialog;\n      hd.logout = logout;\n\n      $interval(function() {\n        hd.time_now = moment().format('YYYY年MM月DD日  HH:mm:ss');\n      }, 1000);\n      try {\n        hd.user = security.getUserinfo().user;\n      } catch (e) {\n        toastr.error('您还未登录');\n        $state.go('login');\n      } finally {\n\n      }\n\n      function openUserDialog() {\n        var userModalInstance = $uibModal.open({\n          templateUrl: 'app/components/header/changeUser.tpl.html',\n          controller: 'ChangeUserController',\n          controllerAs: 'vm',\n          backdrop: 'static',\n          animation: false,\n          size: 'sm'\n        });\n      }\n\n      function openRoleDialog() {\n        var roleModalInstance = $uibModal.open({\n          templateUrl: 'app/components/header/changeRole.tpl.html',\n          controller: 'ChangeRoleController',\n          controllerAs: 'vm',\n          backdrop: 'static',\n          animation: false,\n          size: 'md'\n        });\n      }\n\n      function logout() {\n        $rootScope.$broadcast('logout');\n      }\n\n      $log.info(hd.user);\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function(w5cValidatorProvider) {\n      w5cValidatorProvider.setRules({\n        loginName: {\n          required: \"用户名不能为空\",\n          pattern: \"用户名必须输入字母、数字、下划线\"\n        },\n        password: {\n          required: \"密码不能为空\",\n          minlength: \"密码长度不能小于{minlength}\",\n          maxlength: \"密码长度不能大于{maxlength}\"\n        }\n      })\n    })\n    .controller('ChangeUserController', changeUserControllerFunc);\n\n  function changeUserControllerFunc($uibModalInstance, $location, security, $log, moment, $window, $timeout, toastr) {\n    var vm = this;\n\n    vm.cancel = cancel;\n    vm.formData = {};\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.loginBtnStatus = {\n      title: '切换',\n      state: ''\n    };\n\n    vm.changeUser = function(data) {\n      var loginedUser = security.getUserinfo().user;\n      $log.info(data);\n\n      vm.loginBtnStatus.title = '正在切换...';\n      vm.loginBtnStatus.state = 'disabled';\n\n      // 检查切换用户是否为当前登录用户\n      if (data.loginName === loginedUser.loginName) {\n        toastr.info('您切换的用户已是当前登录用户，无需切换～', '提示');\n        resetState();\n\n        return;\n      }\n\n      security.login(data).then(function(result) {\n        var user_info;\n\n        resetState();\n\n        if (result && result.data['code'] == '-1') {\n          return;\n        }\n        //debugger;\n        user_info = {\n          user: result.data.data.user,\n          nav: result.data.data.funs,\n          role: result.data.data.role,\n          tab: {}\n        };\n\n        security.setUserinfo(user_info);\n        security.setCacheUser(user_info);\n\n        $uibModalInstance.dismiss('cancel');\n        $timeout(function() {\n          $location.path('/home');\n          $window.location.reload();\n        }, 0)\n      }, resetState);\n    };\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    function resetState() {\n      vm.loginBtnStatus.title = '切换';\n      vm.loginBtnStatus.state = '';\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ChangeRoleController', changeRoleControllerFunc);\n\n  function changeRoleControllerFunc($uibModalInstance, $log, $state, $timeout, moment, $window, toastr, $scope, security) {\n    var vm = this;\n    var currentRole = security.getUserinfo().role;\n    var userId = security.getUserinfo().user.seqId;\n\n    vm.currentRole = security.getUserinfo().role;\n\n    vm.cancel = cancel;\n    vm.formData = {};\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.roleBtnStatus = {\n      title: '切换',\n      state: ''\n    };\n\n    security.getUserRoleList({\n      userId: userId\n    }).then(function(response) {\n      vm.userRoleList = response.data.data;\n    });\n\n    vm.selectedRole = currentRole;\n\n    vm.showRole = function(roleObj) {\n      $log.info(roleObj);\n      vm.changedRole = roleObj;\n    };\n\n    vm.changeRole = function() {\n      currentRole = security.getUserinfo().role;\n\n      if (!vm.changedRole) return;\n\n      vm.roleBtnStatus.title = '正在切换...';\n      vm.roleBtnStatus.state = 'disabled';\n\n      // 检查切换角色是否为当前角色\n      if (vm.changedRole.seqId === currentRole.seqId) {\n        toastr.info('您切换的角色已是当前登录的角色，无需切换～', '提示');\n\n        resetState();\n        return;\n      }\n\n      security.getNavigation(vm.changedRole).then(function(response) {\n        var userinfo = security.getUserinfo();\n        userinfo.nav = response.data.data;\n        userinfo.role = vm.changedRole;\n        userinfo.tab = {};\n        security.setCacheUser(userinfo);\n        toastr.success('正在切换角色...', '恭喜');\n        $state.go('home');\n        $timeout(function() {\n          $window.location.reload();\n        }, 2000);\n      }).finally(resetState);\n\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    function resetState() {\n      vm.roleBtnStatus.title = '切换';\n      vm.roleBtnStatus.state = '';\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeBread', acmeBreadFunc);\n\n  /** @ngInject */\n  function acmeBreadFunc($http, $log) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/breadcrumb/breadcrumb.html',\n      scope: {},\n      replace: true,\n      controller: breadController,\n      controllerAs: 'bc',\n      link: loadingLinkFunc,\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function breadController($scope, $interval, moment, $window, $log, $location, $state, security) {\n      var bc = this;\n      bc.scope = $scope;\n\n      bc.isActive = $scope.isActive;\n\n      bc.tabTemp = security.currentUser.tab;\n\n      /*\n      关闭标签页\n       */\n      bc.removeTab = function($event) {\n        // $log.info($event.currentTarget);\n        var id = angular.element($event.currentTarget).data('id');\n        var prev_li = angular.element($event.currentTarget).parents('li').prev('li');\n        var next_li = angular.element($event.currentTarget).parents('li').next('li');\n        var state_id;\n\n        // 关闭标签时，如果为当前标签，则路由跳转至前一标签，前一标签没有则跳转至后一标签，只有一个标签页时则跳转至首页；否则不处理跳转。\n        if (prev_li.length > 0) {\n          state_id = '.' + prev_li.find('a').data('id');\n        } else {\n          if (next_li.length > 0) {\n            state_id = '.' + next_li.find('a').data('id');\n          } else {\n            // 跳转至首页\n            state_id = '';\n          }\n        }\n\n        // 判别是否为当前标签\n        if (angular.element($event.currentTarget).parents('.tab-bread__item').hasClass('active')) {\n          $state.go('home' + state_id);\n        }\n\n        security.removeFromBreadcrumb(id);\n      };\n\n\n      angular.element(document).ready(function() {\n        var tabItem = angular.element('.tab-bread li');\n        var tabItemLen = tabItem.length;\n        bc.tabItemLen = tabItemLen;\n      });\n\n      /*\n      高亮显示标签页\n       */\n      bc.isActive = function(path) {\n        var pathLen = path.length;\n\n        return path === $location.path().substr(-pathLen, pathLen);\n      };\n\n      $log.info('tab:', bc.tab);\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n\n    function loadingLinkFunc(scope, elem, attrs) {\n        scope.tabItemLen = function() {\n            var tabItems = elem.find('li');\n            var tabItemLen = tabItems.length;\n\n            return tabItemLen;\n        };\n\n        scope.isLoading = function() {\n          return $http.pendingRequests.length > 0;\n        };\n\n        scope.$watchGroup([scope.tabItemLen, scope.isLoading], function (resArr) {\n            var tabWrapperWidth = elem.outerWidth();\n            // return;\n            if (!resArr[1]) {\n                var tabItems = elem.find('li');\n                var totalWidth = 0;\n                var itemWidth = 0;\n                if (resArr[0] === 0) return;\n\n                tabItems.each(function(i, item) {\n                    var _item = angular.element(item);\n                    var _div = _item.find('.tab-bread__item');\n                    var _span = _item.find('span');\n                    var innerTextWidth = _span.innerWidth();\n                    var tabOuterwidth = _item.outerWidth();\n                    var divInnerWidth = _div.width();\n                    var realWidth = innerTextWidth + (tabOuterwidth - divInnerWidth);\n\n                    totalWidth += realWidth;\n                });\n\n                if (totalWidth > tabWrapperWidth) {\n                    itemWidth = tabWrapperWidth / resArr[0];\n\n                    tabItems.width(itemWidth);\n                } else {\n                    tabItems.width('auto');\n                }\n            }\n            /*\n            加载完后计算标签的宽度，大于总宽度时，计算每个标签宽度＝总宽度／标签个数\n             */\n        });\n    }\n  }\n\n})();\n\n// getUserSysRoles\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('security', securityFunc);\n\n  function securityFunc($http, $log, $window, $location, $timeout, $state, apiHost) {\n    var userinfo,\n      service = {\n        getUserinfo: getUserinfo,\n        setUserinfo: setUserinfo,\n        clearUserinfo: clearUserinfo,\n        getCacheUser: getCacheUser,\n        setCacheUser: setCacheUser,\n        clearCacheUser: clearCacheUser,\n        login: login,\n        getUserRoleList: getUserRoleList,\n        getNavigation: getNavigation,\n        addToBreadcrumb: addToBreadcrumb,\n        removeFromBreadcrumb: removeFromBreadcrumb,\n        minMode: false // 左侧菜单迷你和展开模式\n      };\n\n    return service;\n\n    function getUserinfo() {\n      return userinfo;\n    }\n\n    function setUserinfo(user) {\n      userinfo = user;\n    }\n\n    function clearUserinfo() {\n      userinfo = null;\n    }\n\n    function getCacheUser() {\n      return angular.fromJson($window.sessionStorage.getItem('userinfo'));\n    }\n\n    function setCacheUser(user) {\n      $window.sessionStorage.setItem('userinfo', angular.toJson(user));\n    }\n\n    function clearCacheUser() {\n      $window.sessionStorage.removeItem('userinfo');\n    }\n\n    // 登录\n    function login(formData) {\n      return $http.post(apiHost.system.login, formData);\n    }\n\n    // 获取当前用户的所有角色\n    function getUserRoleList(params) {\n      return $http.get(apiHost.system.getRoleList, {\n        params: params\n      });\n    }\n\n    // 根据用户角色获取导航菜单\n    function getNavigation(roleObj) {\n      return $http.get(apiHost.system.getNavigation, {\n        params: {\n          roleCode: roleObj.roleCode,\n          userRoleId: roleObj.seqId\n        }\n      });\n    }\n\n    function addToBreadcrumb(key, value) {\n      userinfo.tab[key] = value;\n      setCacheUser(userinfo);\n    }\n\n    function removeFromBreadcrumb(key) {\n      delete userinfo.tab[key];\n      setCacheUser(userinfo);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    // 响应拦截器\n    .factory('myHttpInterceptor', interceptorFunc);\n\n  /** @ngInject */\n  function interceptorFunc($rootScope, $log, $q) {\n    return {\n      // 请求成功\n      request: function(config) {\n        // $log.info('请求结果：' + config.url, config);\n        return config || $q.when(config);\n      },\n\n      // 请求失败\n      requestError: function(rejection) {\n        $log.info('请求失败：' + rejection.statusText, rejection);\n        $rootScope.$broadcast('toast', {\n          type: 'error',\n          content: '请检查网络连接或联系服务器管理员！',\n          title: '请求错误'\n        });\n        return $q.reject(rejection);\n      },\n\n      // 响应成功\n      response: function(response) {\n        // $log.info('响应结果：' + response.config.url, response);\n        if (response.data.code == -2) {\n          // authfail\n          $rootScope.$broadcast('logout');\n        }\n        if (response.data.code == -1) {\n          $rootScope.$broadcast('toast', {\n            type: 'error',\n            content: response.data.msg\n          });\n        }\n        if (response.data.code && response.data.code != 0) {\n          return $q.reject('code error');\n        }\n        return response || $q.when(response);\n      },\n\n      // 响应失败\n      responseError: function(rejection) {\n        $log.info('响应失败：' + rejection.statusText, rejection);\n        $rootScope.$broadcast('toast', {\n          type: 'error',\n          content: '错误码：' + rejection.status + '<br> URL：' + (rejection.config && rejection.config.url || '') + '\\n ' + (rejection.message || '') + '<br> 请检查网络连接或联系服务器管理员！',\n          title: '没有响应'\n        });\n        return $q.reject(rejection);\n      }\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('deptService', deptServiceFunc);\n\n  /** @ngInject */\n  /**\n   * [deptServiceFunc 科室数据]\n   * @param  {[Object]} $window [全局window对象]\n   * @return {[Object]}         [包涵接口和科室列表数据]\n   */\n  function deptServiceFunc($window, $http, apiHost, $log, toastr, security) {\n    var userRole = security.getUserinfo()['role'];\n\n    var service = {\n      apiHost: apiHost,\n      getDeptData: getDeptData,\n      deptList: []\n    };\n\n    return service;\n\n    function getDeptData() {\n\n      return $http.get(apiHost.user.getDept, {\n          params: {\n            deptCode: userRole.deptCode\n          }\n        })\n        .then(getDeptListComplete)\n        .catch(getDeptListFailed);\n\n      function getDeptListComplete(response) {\n        if (response.data.code === '0') {\n          // 不传科室code时，获得全部科室数据\n          if (!userRole.deptCode) {\n            service.deptList = response.data.data;\n          }\n\n          return response.data.data;\n        } else {\n          $log.error('获取科室数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getDeptListFailed(error) {\n        $log.error('获取科室数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n// getUserSysRoles\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('modalService', modalServiceFunc);\n\n  function modalServiceFunc($uibModal, $uibModalStack) {\n    return {\n      open: function(options) {\n        $uibModal.open({\n          templateUrl: options.templateUrl,\n          size: options.size,\n          backdrop: 'static',\n          appendTo: options.appendTo,\n          animation: options.animation || true,\n          controller: 'ModalController',\n          controllerAs: 'vm',\n          resolve: {\n            initFn: function() {\n              return options.initFn;\n            },\n            ok: function() {\n              return options.ok;\n            },\n            data: function() {\n              if (options.data) {\n                return options.data;\n              }\n            },\n            methodsObj: function () {\n              if (options.methodsObj) {\n                return options.methodsObj;\n              }\n            }\n          }\n        });\n      },\n      close: function(reason) {\n        $uibModalStack.dismissAll(reason);\n      }\n    };\n  }\n})();\n\n(function (){\n    'use strict';\n\n    angular\n        .module('nqms')\n        .controller('ModalController',ModalControllerFunc);\n\n    function ModalControllerFunc($rootScope, $scope, $uibModalInstance, ok, data, methodsObj, initFn){\n      var vm = this;\n\n      vm.rootScope = $rootScope;\n      vm.scope = $scope;\n\n      // 预设的表单数据\n      vm.formData = data && data.formData;\n      // 预设的原始数据\n      vm.metaData = data && data.metaData;\n\n      // 在弹层中调用的事件栈\n      if (angular.isObject(methodsObj)) {\n        for (var prop in methodsObj) {\n          if (typeof methodsObj[prop] === 'function') {\n            vm[prop] = methodsObj[prop];\n          }\n        }\n      } else {\n        if (methodsObj) {\n          $log.error('methodsObj必须是对象!');\n        }\n      }\n\n      initFn && initFn(vm);\n\n      vm.ok = function() {\n        ok(vm.formData);\n      };\n\n      vm.cancel = function() {\n        $uibModalInstance.dismiss('cancel');\n      };\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('loading', loadingFunc);\n\n  /** @ngInject */\n  /**\n   * [loadingFunc 全局加载动画]\n   * @return {[object]} [指令对象]\n   */\n  function loadingFunc($http) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/common/loading/loading.tpl.html',\n      link: loadingLinkFunc,\n      scope: {},\n      controller: function () {\n        var vm = this;\n\n        vm.windowWidth = window.innerWidth;\n        vm.windowHeight = window.innerHeight;\n        vm.loadingWidth = window.innerWidth - 200;\n      },\n      controllerAs: 'vm'\n    };\n\n    function loadingLinkFunc(scope, elem) {\n      scope.isLoading = function() {\n        return $http.pendingRequests.length > 0;\n      };\n\n      scope.$watch(scope.isLoading, function(v) {\n        if (v) {\n          elem[0].setAttribute('style', 'display: block');\n        } else {\n          elem[0].setAttribute('style', 'display: none');\n        }\n      });\n    }\n  }\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular.module('nqms')\r\n    .filter('capitalize', function() {\r\n      return function(input) {\r\n        if (input) {\r\n          return input[0].toUpperCase() + input.slice(1);\r\n        }\r\n      }\r\n    });\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('exportExcelService', exportExcelService);\n\n  /** @ngInject */\n  function exportExcelService($http, $log, $q, toastr, security) {\n    var service = {\n      downloadExcel: downloadExcel\n    };\n\n    return service;\n\n    /**\n     * 导出excel表格\n     * @param  {string} url  下载url\n     * @param  {object} data 表格数据对象\n     * @return {promise}      promise对象\n     */\n    function downloadExcel(url, data) {\n      return $http({\n        url: url,\n        method: 'POST',\n        data: data,\n      })\n      .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('exportExcel', exportFunc);\n\n  /** @ngInject */\n  /**\n   * 导出Excel\n   * @return {object}\n   */\n  function exportFunc($http) {\n    return {\n      restrict: 'E',\n      scope: {},\n      controller: 'ExportExcelController',\n      controllerAs: 'vm',\n      bindToController: {\n        exslSrc: '='\n      },\n      templateUrl: 'app/common/exportExcel/exportExcel.tpl.html'\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ExportExcelController', exportExcelController);\n\n  /** @ngInject */\n  function exportExcelController($rootScope, $http, exportExcelService) {\n    var vm = this;\n    var data;\n\n    vm.doExport = doExport;\n\n    /**\n     * 从DOM表格中获取表格数据\n     * @return {object} 表格数据对象\n     */\n    function getDataFromDom() {\n      var ths = document.querySelectorAll('.table[st-table] .header-export th');\n      var tds = document.querySelectorAll('.table[st-table] tbody td');\n      var headerArr;\n      var bodyArr;\n\n      headerArr = [].map.call(ths, function(th) {\n        return th.textContent;\n      });\n\n      bodyArr = [].map.call(tds, function(td) {\n        return td.textContent;\n      });\n\n      return {\n        header: headerArr,\n        body: bodyArr\n      }\n    }\n\n    function doExport(url) {\n      var data = getDataFromDom();\n\n      exportExcelService.downloadExcel(url, data).then(function(response) {\n        if (response) {\n          $rootScope.$broadcast('toast', {\n            type: 'success',\n            content: '导出成功！'\n          })\n        }\n      });\n    }\n  }\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .directive('timestampToString', timestampToString);\r\n\r\n  /** @ngInject */\r\n  function timestampToString($filter) {\r\n    var dateFilter = $filter('date');\r\n    var directive = {\r\n      restrict: 'A',\r\n      require: 'ngModel',\r\n      link: function(scope, element, attrs, ngModel) {\r\n        ngModel.$formatters.shift();\r\n        ngModel.$formatters.shift();\r\n        ngModel.$parsers.shift();\r\n      }\r\n    };\r\n\r\n    return directive;\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('CoreController', CoreController);\r\n\r\n  /** @ngInject */\r\n  function CoreController($rootScope, $scope, $state, toastr, security) {\r\n    var vm = this;\r\n\r\n    $scope.$on('toast', function(event, info) {\r\n      toastr[info.type](info.content || '', info.title || '');\r\n    });\r\n\r\n    $scope.$on('logout', function(event) {\r\n      security.clearUserinfo();\r\n      security.clearCacheUser();\r\n      $state.go('login');\r\n    });\r\n\r\n    vm.limitEvent = function(e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n})();\r\n\n/**\n * Created by gary on 16/4/1.\n */\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($log, $rootScope, $scope, $uibModal, $location, $window, security, $state) {\n    var vm = this;\n    var isLogined;\n\n    vm.$scope = $scope;\n    vm.minMode = security.minMode;\n\n    /*\n    高亮显示标签页\n     */\n    $scope.isActive = vm.isActive = function(path) {\n      var pathLen = 0;\n      var locationPath;\n\n      if (path === '') return false;\n\n      pathLen = path.length;\n      locationPath = $location.path().substr(-pathLen, pathLen);\n\n      return path === locationPath;\n    };\n\n    /*\n    监听菜单模式\n     */\n    vm.$scope.$on('toggleNavView', function(event, isMini) {\n\n      vm.minMode = isMini;\n    });\n\n    vm.$scope.$on('toggleSubNavView', function(event, isShow) {\n\n      vm.isSubNavShow = isShow;\n    });\n\n    /*\n    当路由发生改变时，判别是否已登录，若非登录则跳转至登录页。\n     */\n    $rootScope.$on('$stateChangeStart',\n      function(event, toState, toParams, fromState, fromParams, options) {\n        isLogined = security.getUserinfo('isLogined');\n        if (toState.name === 'login') {\n          if (isLogined) {\n            event.preventDefault();\n          }\n        }\n      });\n  }\n})();\n\n/**\n * Created by lin on 16/3/13.\n */\n\n/**\n * Created by lin on 16/3/13.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function(w5cValidatorProvider) {\n      w5cValidatorProvider.setRules({\n        loginName: {\n          required: \"用户名不能为空\",\n          pattern: \"用户名必须输入字母、数字、下划线\"\n        },\n        password: {\n          required: \"密码不能为空\",\n          minlength: \"密码长度不能小于{minlength}\",\n          maxlength: \"密码长度不能大于{maxlength}\"\n        }\n      });\n    })\n    .controller('LoginController', loginController);\n\n  /** @ngInject */\n  function loginController($rootScope, $log, $state, security) {\n    var vm = this;\n\n    vm.loginBtnStatus = {\n      title: '登录',\n      state: ''\n    };\n\n    vm.login = function(data) {\n      vm.loginBtnStatus.title = '正在登录...';\n      vm.loginBtnStatus.state = 'disabled';\n\n      security.login(data)\n        .then(function(result) {\n          //debugger;\n          var user_info = {\n            user: result.data.data.user,\n            nav: result.data.data.funs,\n            role: result.data.data.role,\n            tab: {}\n          };\n\n          security.setUserinfo(user_info);\n          security.setCacheUser(user_info);\n\n          // 登录成功后跳转至首页\n          $rootScope.$broadcast('toast', {\n            type: 'success',\n            content: '登陆成功'\n          });\n          $state.go('home');\n        })\n        .finally(setLoginBtnstate);\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    function setLoginBtnstate() {\n      vm.loginBtnStatus.title = '登录';\n      vm.loginBtnStatus.state = '';\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($window, $state, $rootScope, security) {\n    var userinfo = security.getCacheUser();\n    if (userinfo) {\n      security.setUserinfo(userinfo);\n    } else {\n      $state.go('login');\n    }\n\n    $rootScope.minMode = false;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n    $stateProvider\n    // .state('/', {\n    //   url: '/home',\n    //   templateUrl: 'app/main/main.html',\n    //   controller: 'MainController',\n    //   controllerAs: 'main'\n    // })\n      .state('home', {\n        url: '/home',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n      .state('home.files', {\n        url: '/files',\n        templateUrl: 'app/nursingWorkers/files/files.tpl.html',\n        controller: 'NursingWorkersFileController',\n        controllerAs: 'vm'\n      })\n      .state('home.internship', {\n        url: '/internship',\n        templateUrl: 'app/nursingWorkers/internship/internship.tpl.html',\n        controller: 'NursingWorkersInternshipController',\n        controllerAs: 'vm'\n      })\n      .state('home.graduate', {\n        url: '/graduate',\n        templateUrl: 'app/nursingWorkers/graduate/graduate.tpl.html',\n        controller: 'NursingWorkersGraduateController',\n        controllerAs: 'vm'\n      })\n      .state('home.technical', {\n        url: '/technical',\n        templateUrl: 'app/nursingWorkers/technical/technical.tpl.html',\n        controller: 'NursingWorkersTechnicalController',\n        controllerAs: 'vm'\n      })\n      .state('home.ulteriorly', {\n        url: '/ulteriorly',\n        templateUrl: 'app/nursingWorkers/ulteriorly/ulteriorly.tpl.html',\n        controller: 'NursingWorkersUlteriorlyController',\n        controllerAs: 'vm'\n      })\n      .state('home.attemper', {\n        url: '/attemper',\n        templateUrl: 'app/departmentManager/attemper/attemper.tpl.html',\n        controller: 'DepartmentManagerAttemperController',\n        controllerAs: 'vm'\n      })\n      /*.state('home.nursingStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/nursingWorkers/statistics/statistics.tpl.html',\n        controller: 'NursingWorkersStatisticsController',\n        controllerAs: 'vm'\n      })*/\n      .state('home.bed', {\n        url: '/bed',\n        templateUrl: 'app/departmentManager/bed/bed.tpl.html',\n        controller: 'DepartmentManagerBedController',\n        controllerAs: 'vm'\n      })\n      .state('home.classes', {\n        url: '/classes',\n        templateUrl: 'app/departmentManager/classes/classes.tpl.html',\n        controller: 'DepartmentManagerClassesController',\n        controllerAs: 'vm'\n      })\n      .state('home.endemicArea', {\n        url: '/endemicArea',\n        templateUrl: 'app/departmentManager/endemicArea/endemicArea.tpl.html',\n        controller: 'DepartmentManagerEndemicAreaController',\n        controllerAs: 'vm'\n      })\n      .state('home.turns', {\n        url: '/turns',\n        templateUrl: 'app/departmentManager/turns/turns.tpl.html',\n        controller: 'DepartmentManagerTurnsController',\n        controllerAs: 'vm'\n      })\n      .state('home.turnsRule', {\n        url: '/turnsRule',\n        templateUrl: 'app/departmentManager/turnsRule/turnsRule.tpl.html',\n        controller: 'DepartmentManagerTurnsRuleController',\n        controllerAs: 'vm'\n      })\n      .state('home.leave', {\n        url: '/leave',\n        templateUrl: 'app/departmentManager/leave/leave.tpl.html',\n        controller: 'DepartmentManagerLeaveController',\n        controllerAs: 'vm'\n      })\n      .state('home.departmentAttemper', {\n        url: '/attemper',\n        templateUrl: 'app/departmentManager/attemper/attemper.tpl.html',\n        controller: 'DepartmentManagerAttemperController',\n        controllerAs: 'vm'\n      })\n      .state('home.departmentStatistics', {\n        url: '/departmentStatistics',\n        templateUrl: 'app/departmentManager/statistics/statistics.tpl.html',\n        controller: 'DepartmentManagerStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.type', {\n        url: '/type',\n        templateUrl: 'app/malCaseUp/type/type.tpl.html',\n        controller: 'MalCaseUpTypeController',\n        controllerAs: 'vm'\n      })\n      .state('home.call', {\n        url: '/call',\n        templateUrl: 'app/malCaseUp/call/call.tpl.html',\n        controller: 'MalCaseUpCallController',\n        controllerAs: 'vm'\n      })\n      .state('home.level', {\n        url: '/level',\n        templateUrl: 'app/malCaseUp/level/level.tpl.html',\n        controller: 'MalCaseUpLevelController',\n        controllerAs: 'vm'\n      })\n      .state('home.handle', {\n        url: '/handle',\n        templateUrl: 'app/malCaseUp/handle/handle.tpl.html',\n        controller: 'MalCaseUpHandleController',\n        controllerAs: 'vm'\n      })\n      .state('home.handle.malCase', {\n        url: '/malCase',\n        templateUrl: 'app/malCaseUp/handle/malCaseInfo.tpl.html'\n      })\n      .state('home.handle.report', {\n        url: '/report',\n        templateUrl: 'app/malCaseUp/handle/report.tpl.html'\n      })\n      .state('home.handle.reportXk', {\n        url: '/reportXk',\n        templateUrl: 'app/malCaseUp/handle/reportXk.tpl.html'\n      })\n      .state('home.handle.requirement', {\n        url: '/requirement',\n        templateUrl: 'app/malCaseUp/handle/requirement.tpl.html'\n      })\n      .state('home.handle.measures', {\n        url: '/measures',\n        templateUrl: 'app/malCaseUp/handle/measures.tpl.html'\n      })\n      .state('home.handle.estimate', {\n        url: '/estimate',\n        templateUrl: 'app/malCaseUp/handle/estimate.tpl.html'\n      })\n      .state('home.fix', {\n        url: '/fix',\n        templateUrl: 'app/malCaseUp/handle/handle.tpl.html',\n        controller: 'MalCaseUpHandleController',\n        controllerAs: 'vm'\n      })\n      .state('home.element', {\n        url: '/element',\n        templateUrl: 'app/malCaseUp/element/element.tpl.html',\n        controller: 'MalCaseUpElementController',\n        controllerAs: 'vm'\n      })\n      .state('malCaseUpStatistics', {\n        url: '/statistics',\n        templateUrl: 'app/malCaseUp/statistics/statistics.tpl.html',\n        controller: 'MalCaseUpStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.roles', {\n        url: '/roles',\n        templateUrl: 'app/system/roles/roles.tpl.html',\n        controller: 'RolesController',\n        controllerAs: 'vm'\n      })\n      .state('home.users', {\n        url: '/users',\n        templateUrl: 'app/system/users/users.tpl.html',\n        controller: 'UsersController',\n        controllerAs: 'vm'\n      })\n      .state('home.workManual', {\n        url: '/manualWork',\n        templateUrl: 'app/manual/workManual/workManual.tpl.html',\n        controller: 'ManualWorkController',\n        controllerAs: 'vm'\n      })\n      .state('home.manualItem', {\n        url: '/manualItem',\n        templateUrl: 'app/manual/item/item.tpl.html',\n        controller: 'ManualItemController',\n        controllerAs: 'vm'\n      })\n      .state('home.qualityCheck', {\n        url: '/qualityCheck',\n        templateUrl: 'app/quality/check/check.tpl.html',\n        controller: 'QualityCheckController',\n        controllerAs: 'vm'\n      })\n      .state('home.qualityDeal', {\n        url: '/qualityDeal',\n        templateUrl: 'app/quality/deal/deal.tpl.html',\n        controller: 'QualityDealController',\n        controllerAs: 'vm'\n      })\n      .state('home.qualityForm', {\n        url: '/qualityForm',\n        templateUrl: 'app/quality/form/form.tpl.html',\n        controller: 'QualityFormController',\n        controllerAs: 'vm'\n      })\n      .state('home.qualityTask', {\n        url: '/qualityTask',\n        templateUrl: 'app/quality/task/task.tpl.html',\n        controller: 'QualityTaskController',\n        controllerAs: 'vm'\n      })\n      .state('home.researchItem', {\n        url: '/researchItem',\n        templateUrl: 'app/research/item/item.tpl.html',\n        controller: 'ResearchItemController',\n        controllerAs: 'vm'\n      })\n      .state('home.researchPapers', {\n        url: '/researchPapers',\n        templateUrl: 'app/research/papers/papers.tpl.html',\n        controller: 'ResearchPapersController',\n        controllerAs: 'vm'\n      })\n      .state('home.techFiles', {\n        url: '/techFiles',\n        templateUrl: 'app/techFiles/techFiles/techFiles.tpl.html',\n        controller: 'TechFileController',\n        controllerAs: 'vm'\n      })\n      .state('home.jci', {\n        url: '/jci',\n        templateUrl: 'app/techFiles/jci/jci.tpl.html',\n        controller: 'TechFileJCIController',\n        controllerAs: 'vm'\n      })\n      .state('login', {\n        url: '/login',\n        templateUrl: 'app/login/login.html'\n      });\n\n    $urlRouterProvider.otherwise('/login');\n    // $locationProvider.html5Mode(true);\n  }\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .constant('moment', moment)\n    .constant('apiHost', (function() {\n      //var path = 'http://127.0.0.1:8003/mnisqm';\n      var path = '/mnisqm';\n\n      return {\n        system: {\n          login: path + '/system/login',\n          getRoleList: path + '/system/getRoleLst',\n          getNavigation: path + '/system/getFunction'\n        },\n        user: {\n          getDept: path + '/user/getUserDepts'\n        },\n        files: {\n          getUserList: path + '/user/getUserList',\n          getUserDetailInfo: path + '/user/getUserDetailInfo',\n          add: path + '/user/insertObj',\n          delete: path + '/user/deleteUserInfo',\n          update: path + '/user/updateObj',\n          save: path + '/user/saveComUser'\n        },\n        roles: {\n          getNotHaveFunction: path + '/system/getNotHaveFunction',\n          getFunction: path + '/system/getFunction',\n          getHaveFunction: path + '/system/getHaveFunction',\n          updateRole: path + '/system/saveSysRoleFuns',\n          deleteRole: path + '/system/deleteRole',\n          saveRole: path + '/system/saveRole'\n        },\n        users: {\n          getUserList: path + '/system/getSysUserList',\n          deleteUser: path + '/system/deleteSysUser',\n          deleteUserRole: path + '/system/deleteSysUserRole',\n          saveUserRole: path + '/system/saveSysUserRole',\n          saveUser: path + '/system/saveSysUser'\n        },\n        events: {\n          //获取不良是类型\n          getEventTypeList: path + '/event/getEventTypeList',\n          getEventList: path + '/event/getEventList',\n          getEventReport: path + '/event/getEventReport',\n          saveEventReport: path + '/event/saveEventReport',\n          deleteEventReport: path + '/event/deleteEventReport',\n          getReportDetail: path + '/event/getReportDetail',\n          // 不良事件调查信息新增／修改\n          saveReportDetail: path + '/event/saveReportDetail',\n          // 不良事件要求新增／修改\n          saveEventRequirement: path + '/event/saveEventRequirement',\n          // 不良事件事件要求查询\n          getEventRequirement: path + '/event/getEventRequirement',\n          // 不良事件要求删除\n          deleteEventRequirement: path + '/event/deleteEventRequirement',\n          // 不良事件措施新增／修改\n          saveEventMeasures: path + '/event/saveEventMeasures',\n          // 不良事件措施查询\n          getEventMeasures: path + '/event/getEventMeasures',\n          // 不良事件措施删除\n          deleteEventMeasures: path + '/event/deleteEventMeasures',\n          // 不良事件报告关闭\n          // 待定\n          // 不良事件级别保存\n          saveEventLevel: path + '/event/saveEventLevel',\n          // 不良事件级别查询\n          getEventLevels: path + '/event/getEventLevels',\n          // 不良事件分级删除\n          deleteEventLevel: path + '/event/deleteEventLevel'\n        },\n        schedule: {\n          //新建排班\n          newSchedule: path + '/schedule/newSchedule',\n          //保存排班\n          saveSchedule: path + '/schedule/saveSchedule',\n          //获取排班\n          getSchedule: path + '/schedule/getSchedule',\n          //查询科室分组管理\n          getGroupList: path + '/schedule/getGroupList',\n          //删除分组\n          deleteGroup: path + '/schedule/deleteGroup',\n          //保存分组\n          saveGroup: path + '/schedule/saveGroup',\n          //查询科室班次信息\n          getClassList: path + '/schedule/getClassList',\n          //保存班次新\n          saveClass: path + '/schedule/saveClass',\n          //删除班次信息\n          deleteClass: path + '/schedule/deleteClass',\n          //查询请假信息\n          getLeaveList: path + '/schedule/getLeaveList',\n          //保存请假\n          saveScheduleLeave: path + '/schedule/saveScheduleLeave',\n          //删除请假信息\n          deleteScheduleLeave: path + '/schedule/deleteScheduleLeave',\n          //审批请假\n          apprvScheduleLeave: path + '/schedule/apprvScheduleLeave',\n          //排班规则查询\n          getRuleList: path + '/schedule/getRuleList',\n          //保存排班规则\n          saveRule: path + '/schedule/saveRule',\n          //删除排班规则\n          deleteRule: path + '/schedule/deleteRule',\n          //查询病区护理人员\n          getUserNurses: path + '/schedule/getUserNurses',\n          //保存病区护理人员\n          batchSaveUserNurse: path + '/schedule/batchSaveUserNurse',\n          //获取调班信息\n          getChangeClass: path + '/schedule/getChangeClass',\n          //保存调班\n          saveChangeClass: path + '/schedule/saveChangeClass',\n          //删除调班\n          deleteChangeClass: path + '/schedule/deleteChangeClass',\n          //审批调班\n          apprvChangeClass: path + '/schedule/apprvChangeClass',\n          statistics: {\n            getByLeave: path + '/schedule/getCountByLeave',\n            getByDays: path + '/schedule/getCountByDays',\n            getByClass: path + '/schedule/getCountByClass'\n          }\n        },\n        manual: {\n          item: {\n            get: path + '/manualWork/queryManualWorkItemByDeptCode',\n            save: path + '/manualWork/saveManualWorkItem',\n            delete: path + '/manualWork/deleteManualWorkItem',\n            update: path + '/manualWork/updateManualWorkItem'\n          },\n          workManual: {\n            get: path + '/manualWork/queryManualWorkByDeptCodeAndDate',\n            save: path + '/manualWork/saveManualWork',\n            delete: path + '/manualWork/saveManualWorkDetail',\n            update: path + '/manualWork/updateManualWorkDetail'\n          }\n        },\n        research: {\n          //查询科研项目列表\n          getResearchItems: path + '/research/getResearchItems',\n          //保存科研项目\n          saveResearchItem: path + '/research/saveResearchItem',\n          //删除科研项目\n          deleteResearchItem: path + '/research/deleteResearchItem',\n          //保存论文\n          saveResearchPaper: path + '/research/saveResearchPaper',\n          //查询论文\n          getResearchPapers: path + '/research/getResearchPapers',\n          //删除论文\n          deleteResearchPaper: path + '/research/deleteResearchPaper'\n\n        },\n        qualityManager: {\n          //获取质量检查表单列表\n          getQualityFormList: path + '/quality/queryQualityFormByDeptCodeAndType',\n          //保存修改质量检查表单模板\n          editQualityForm: path + '/quality/updateQualityForm',\n          //保存质量检查表单模板\n          saveQualityForm: path + '/quality/saveQualityForm',\n          //删除质量检查表单模板\n          deleteQualityForm: path + '/quality/deleteQualityForm',\n          //获取检查任务列表\n          getQualityTaskList: path + '/quality/queryQTRByTimeAndTypeAndDeptCode',\n          //修改检查任务\n          editQualityTask: path + '/quality/updateQualityTask',\n          //保存检查任务\n          saveQualityTask: path + '/quality/saveQualityTask',\n          //删除检查任务\n          deleteQualityTask: path + '/quality/deleteQualityTask',\n          //获取所有检查表单\n          getAllQualityForm: path + '/quality/queryAllQualityForm',\n          //查看检查情况\n          getQualityCheckDetail: path + '/quality/queryQRByTimeAndFormNameAndDeptCode',\n          //获取质量检查列表\n          getQualityCheckList: path + '/quality/queryQRByTimeAndFormNameAndDeptCode',\n          //修改质量检查\n          editQualityCheck: path + '/quality/updateQualityResult',\n          //删除质量检查\n          deleteQualityCheck: path + '/quality/deleteQualityResult',\n          //获取质量检查问题处理列表\n          getQualityDealList: path + '/quality/getQualityIssueManageByResultCode',\n          //保存质量检查问题处理\n          saveQualityDeal: path + '/quality/saveQualityIssueManage',\n          //修改质量检查问题处理\n          editQualityDeal: path + '/quality/updateQualityIssueManage',\n          //删除质量检查问题处理\n          deleteQualityDeal: path + '/quality/deleteQualityIssueManage',\n          //获取resultCode\n          getQualityResultCode: path + '/quality/queryQIMByTimeAndTypeAndDeptCode'\n        },\n        techFiles: {\n          //获取护士列表\n          getNurseList: {\n            url: path + '/user/getUserList',\n            method: 'get'\n          },\n          updateNurseInfo: {\n            url: path + '/user/saveComUser',\n            method: 'post'\n          },\n          //学术会议、学习\n          academic: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveAcademicConference',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getAcademicConferences',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteAcademicConference',\n              method: 'get'\n            }\n          },\n          //评估考核\n          assessment: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveAssessment',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getAssessment',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteAssessment',\n              method: 'get'\n            }\n          },\n          //奖励惩罚\n          awardPunish: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveAwardPunishmentInfo',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getAwardPunishmentInfo',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteAwardPunishmentInfo',\n              method: 'get'\n            }\n          },\n          //继续教育\n          conEducation: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveContinuingEducation',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getContinuingEducation',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteContinuingEducation',\n              method: 'get'\n            }\n          },\n          //CPR/ACLS证书\n          cprAcls: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveCprAcls',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getCprAcls',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteCprAcls',\n              method: 'get'\n            }\n          },\n          //教育记录\n          eduRecord: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveEducationRecordInspection',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getEducationRecordInspection',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteEducationRecordInspection',\n              method: 'get'\n            }\n          },\n          //护士分层分级\n          nurseHirReg: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveNurseHirarchicalRegistration',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getNurseHirarchicalRegistration',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteNurseHirarchicalRegistration',\n              method: 'get'\n            }\n          },\n          //个人考核\n          perAssessment: {\n            setter: {\n              url: path + '/ProfSkillDoc/savePersonalAssessment',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getPersonalAssessment',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deletePersonalAssessment',\n              method: 'get'\n            }\n          },\n          //岗位职责\n          posStatement: {\n            setter: {\n              url: path + '/ProfSkillDoc/savePositionStatement',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getPositionStatement',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deletePositionStatement',\n              method: 'get'\n            }\n          },\n          //岗前培训\n          preJobTrain: {\n            setter: {\n              url: path + '/ProfSkillDoc/savePreJobTraining',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getPreJobTraining',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deletePreJobTraining',\n              method: 'get'\n            }\n          },\n          //护士经历\n          nurseExp: {\n            setter: {\n              url: path + '/ProfSkillDoc/saveSpecialistNursesExperience',\n              method: 'post'\n            },\n            getter: {\n              url: path + '/ProfSkillDoc/getSpecialistNursesExperience',\n              method: 'post'\n            },\n            deleter: {\n              url: path + '/ProfSkillDoc/deleteSpecialistNursesExperience',\n              method: 'get'\n            }\n          }\n        }\n      };\n    })());\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, w5cValidatorProvider, $httpProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.autoDismiss = true;\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-center';\n    // toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = false;\n    toastrConfig.preventOpenDuplicates = true;\n    toastrConfig.position = 'toast-top-center';\n    toastrConfig.iconClasses = {\n      error: 'toast-error',\n      info: 'toast-info',\n      success: 'toast-success',\n      warning: 'toast-warning'\n    };\n\n    // 验证 全局配置\n    w5cValidatorProvider.config({\n      blurTrig: true,\n      showError: true,\n      removeError: true\n    });\n\n    // 拦截器配置\n    // Add the interceptor to the $httpProvider.\n    $httpProvider.interceptors.push('myHttpInterceptor');\n  }\n\n})();\n\nangular.module(\"nqms\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/login/login.html\",\"<div class=\\\"center-bg\\\" ng-controller=\\\"LoginController as vm\\\"><div class=\\\"left-bg\\\"></div><div class=\\\"w\\\"><div class=\\\"login-wrapper\\\"><div class=\\\"logo-nurse\\\"></div><div class=\\\"login-box\\\"><div class=\\\"login-box__header\\\">用户登录</div><form class=\\\"login-box__form form-wrapper w5c-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"loginForm\\\"><div class=\\\"err-wrapper\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\"><span class=\\\"fa fa-user\\\"></span></label> <input autocomplete=\\\"off\\\" ng-pattern=\\\"/^[0-9A-Za-z_]{1,19}$/\\\" required=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.loginName\\\" name=\\\"loginName\\\" class=\\\"form-ctr input\\\" id=\\\"user-name\\\" placeholder=\\\"用户名\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\" for=\\\"password\\\"><span class=\\\"fa fa-lock\\\"></span></label> <input autocomplete=\\\"off\\\" type=\\\"password\\\" required=\\\"\\\" name=\\\"password\\\" ng-model=\\\"vm.formData.password\\\" class=\\\"form-ctr input\\\" id=\\\"password\\\" placeholder=\\\"密码\\\"></div><div class=\\\"submit-wrapper form-item\\\"><button w5c-form-submit=\\\"vm.login(vm.formData)\\\" class=\\\"btn login-btn btn-default {{vm.loginBtnStatus.state}}\\\">{{vm.loginBtnStatus.title}}</button></div><div class=\\\"reset-password\\\"><a href=\\\"javascript:;\\\">重置</a></div></form></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container-fluid full-screen\\\"><acme-header></acme-header><acme-navbar></acme-navbar><div class=\\\"main-body container-fluid\\\" ui-view=\\\"\\\" ng-class=\\\"{\\'main-body_min-nav\\': main.minMode, \\'sub-nav-hidden\\': !main.isSubNavShow}\\\"></div><div class=\\\"footer\\\">Copyright © 2016 深圳联新移动医疗有限公司 All Rights Reserved.</div></div>\");\n$templateCache.put(\"app/role/role.tpl.html\",\"<!DOCTYPE html><html lang=\\\"en\\\"><head><meta charset=\\\"UTF-8\\\"><title>Title</title></head><body></body></html>\");\n$templateCache.put(\"app/common/exportExcel/exportExcel.tpl.html\",\"<button class=\\\"btn btn-xs btn-default\\\" ng-click=\\\"vm.doExport(vm.exslSrc)\\\"><i class=\\\"fa fa-download\\\"></i> 导出Excel</button>\");\n$templateCache.put(\"app/common/loading/loading.tpl.html\",\"<div class=\\\"loading-wrapper\\\" ng-style=\\\"{\\'margin-left\\': vm.windowWidth / 2 - 25 + \\'px\\', \\'margin-top\\': vm.windowHeight / 2 - 25 + \\'px\\'}\\\"><div class=\\\"spinner\\\"><div class=\\\"rect1\\\"></div><div class=\\\"rect2\\\"></div><div class=\\\"rect3\\\"></div><div class=\\\"rect4\\\"></div><div class=\\\"rect5\\\"></div></div></div>\");\n$templateCache.put(\"app/components/breadcrumb/breadcrumb.html\",\"<div class=\\\"tab-bread-wrapper\\\"><ul class=\\\"tab-bread\\\"><li ng-repeat=\\\"(id, name) in bc.tabTemp\\\" uib-tooltip=\\\"{{name}}\\\" tooltip-placement=\\\"bottom\\\"><div ui-sref=\\\".{{id}}\\\" ui-sref-active=\\\"active\\\" ng-class=\\\"{active: bc.isActive(\\'{{id}}\\')}\\\" class=\\\"tab-bread__item\\\" href=\\\"#\\\"><span>{{name}}</span> <a ng-click=\\\"bc.removeTab($event)\\\" data-id=\\\"{{id}}\\\" class=\\\"close-tab\\\" href=\\\"javascript:;\\\">×</a></div></li></ul></div>\");\n$templateCache.put(\"app/components/header/changeRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">切换角色</h5></div><div class=\\\"modal-body\\\">您的现有角色：<table class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th></th><th>角色编号</th><th>角色名称</th><th>所属部门</th></tr><tr ng-repeat=\\\"row in vm.userRoleList\\\" ng-class=\\\"{success: row.seqId === vm.currentRole.seqId, active: row.seqId === vm.selectedRole.seqId}\\\"><td><input id=\\\"{{row.seqId}}\\\" name=\\\"userRole\\\" ng-click=\\\"vm.showRole(row)\\\" type=\\\"radio\\\" value=\\\"{{row.seqId}}\\\" ng-model=\\\"vm.selectedRole.seqId\\\"></td><td data-title=\\\"\\'角色编号\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{row.roleCode}}</label></td><td data-title=\\\"\\'角色名称\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{row.roleName}}</label></td><td data-title=\\\"\\'所属部门\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{ row.deptName }}</label></td></tr></table></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.roleBtnStatus.state}}\\\" type=\\\"button\\\" {{vm.loginbtnstatus.state}}=\\\"\\\" ng-click=\\\"vm.changeRole()\\\">{{vm.roleBtnStatus.title}}</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/components/header/changeUser.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">切换用户</h5></div><form class=\\\"form w5c-form login-box__form change-user-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"changeUserForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\"><span class=\\\"fa fa-user\\\"></span></label> <input autocomplete=\\\"off\\\" ng-pattern=\\\"/^[0-9A-Za-z_]{1,19}$/\\\" required=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.loginName\\\" name=\\\"loginName\\\" class=\\\"form-ctr input\\\" id=\\\"user-name\\\" placeholder=\\\"用户名\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\" for=\\\"password\\\"><span class=\\\"fa fa-lock\\\"></span></label> <input autocomplete=\\\"off\\\" type=\\\"password\\\" required=\\\"\\\" name=\\\"password\\\" ng-model=\\\"vm.formData.password\\\" class=\\\"form-ctr input\\\" id=\\\"password\\\" placeholder=\\\"密码\\\"></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" {{vm.loginbtnstatus.state}}=\\\"\\\" w5c-form-submit=\\\"vm.changeUser(vm.formData)\\\">{{vm.loginBtnStatus.title}}</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/components/header/header.html\",\"<nav class=\\\"navbar header-top navbar-default navbar-fixed-top navbar-lx\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><div class=\\\"logo-wrapper pull-left\\\"><a href=\\\"/\\\" class=\\\"logo\\\"></a></div></div><div class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav navbar-right\\\"><li><a><i class=\\\"fa fa-calendar\\\"></i> {{hd.time_now}}</a></li><li uib-dropdown=\\\"\\\"><a id=\\\"msg-button\\\" class=\\\"dropdown-link\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"fa fa-bell\\\"></i> 消息</a><ul uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"msg-button\\\"><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li></ul></li><li uib-dropdown=\\\"\\\"><a id=\\\"user-button\\\" class=\\\"dropdown-link\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"fa fa-user\\\"></i> {{hd.user.loginName}}</a><ul uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"user-button\\\"><li><a href=\\\"javascript:;\\\"><i class=\\\"fa fa-exclamation-circle\\\"></i> 账号信息</a></li><li><a href=\\\"javascript:;\\\" ng-click=\\\"hd.openRoleDialog()\\\"><i class=\\\"fa fa-exchange\\\"></i> <span>切换角色</span></a></li><li><a href=\\\"javascript:;\\\" ng-click=\\\"hd.openUserDialog()\\\"><i class=\\\"fa fa-users\\\"></i> <span>切换用户</span></a></li><li><a ng-click=\\\"hd.logout()\\\" href=\\\"javascript:;\\\"><i class=\\\"fa fa-sign-out\\\"></i> <span>退出系统</span></a></li></ul></li></ul></div></div></nav>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<div class=\\\"left-nav\\\" print-remove=\\\"\\\" ng-class=\\\"{\\'left-min\\': vm.minMode, \\'left-sub-min\\': !vm.isSubNavShow}\\\"><div class=\\\"nav-container\\\" print-remove=\\\"\\\" print-hide=\\\"\\\"><div class=\\\"nav-wrapper\\\" ng-class=\\\"{\\'left-nav-min\\': vm.minMode}\\\"><ul class=\\\"nav-menu\\\" print-remove=\\\"\\\"><li class=\\\"nav-menu_item nav-view-trigger\\\"><a href=\\\"javascript:;\\\" ng-click=\\\"vm.toggleNavView()\\\"><i class=\\\"fa nav-menu_item-icon\\\" ng-class=\\\"{\\'fa-list\\': !vm.minMode, \\'fa-square\\': vm.minMode}\\\"></i></a></li><li class=\\\"nav-menu_item\\\" ng-class=\\\"{\\'active\\': $index === vm.currentIndex}\\\" ng-repeat=\\\"item in vm.navData track by $index\\\" data-title=\\\"{{item.funUrl}}\\\"><a href=\\\"javascript:;\\\" ng-click=\\\"vm.showSubNav($index)\\\" tooltip-enable=\\\"vm.minMode\\\" uib-tooltip=\\\"{{item.funName}}\\\" tooltip-placement=\\\"right\\\" tooltip-append-to-body=\\\"true\\\"><i class=\\\"fa fa-{{item.icoName}} nav-menu_item-icon\\\"></i> <span class=\\\"nav-menu_item-text\\\" ng-if=\\\"!vm.minMode\\\">{{item.funName}}</span></a></li></ul></div><div class=\\\"sub-nav\\\" print-remove=\\\"\\\" ng-class=\\\"{\\'sub-nav-min\\': !vm.isSubNavShow, \\'nav-min\\': vm.minMode}\\\"><ul class=\\\"sub-nav-list nav-menu\\\"><li class=\\\"nav-title sub-nav-list_item\\\"><i class=\\\"nav-menu_item-icon\\\"></i> <span class=\\\"nav-menu_item-text\\\">{{vm.navData[vm.currentIndex].funName}}</span></li><li class=\\\"sub-nav-list_item nav-menu_item\\\" ng-repeat=\\\"subItem in vm.navData[vm.currentIndex].child\\\"><a ui-sref-active=\\\"active\\\" ng-click=\\\"vm.setActiveIndex()\\\" ng-class=\\\"{active: vm.isActive(\\'{{subItem.funUrl}}\\')}\\\" data-id=\\\"{{subItem.funUrl}}\\\" data-name=\\\"{{subItem.funName}}\\\" ui-sref=\\\".{{subItem.funUrl}}\\\"><i class=\\\"nav-menu_item-icon\\\"></i> <span class=\\\"nav-menu_item-text\\\">{{subItem.funName}}</span></a></li></ul><a class=\\\"sub-nav-trigger\\\" href=\\\"javascript:;\\\" ng-click=\\\"vm.toggleSubNavView()\\\" ng-class=\\\"{\\'outer\\': !vm.isSubNavShow}\\\" ng-mouseenter=\\\"vm.triggerHover = {\\'width\\': \\'20px\\'}\\\"><i class=\\\"fa\\\" ng-class=\\\"{\\'fa-angle-left\\': vm.isSubNavShow, \\'fa-angle-right\\': !vm.isSubNavShow}\\\"></i></a></div></div></div>\");\n$templateCache.put(\"app/departmentManager/attemper/attemper.model.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写排班规则</h5></div><form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请人：</label> <input ng-model=\\\"vm.formData.applyUserCode\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请原因：</label> <input ng-model=\\\"vm.formData.changeCause\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">处理状态：</label><select ng-model=\\\"vm.formData.status\\\"><option value=\\\"01\\\">未处理</option><option value=\\\"02\\\">已审批</option><option value=\\\"03\\\">已拒绝</option></select></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">处理备注：</label> <input ng-model=\\\"vm.formData.remark\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请人班次：</label> <input ng-model=\\\"vm.formData.applyClass\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请人班次日期：</label> <input ng-model=\\\"vm.formData.applyClassDate\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">调班人：</label> <input ng-model=\\\"vm.formData.changeUserCode\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">调班人班次：</label> <input ng-model=\\\"vm.formData.changeClass\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">调班人班次日期：</label> <input ng-model=\\\"vm.formData.changeClassDate\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/departmentManager/attemper/attemper.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>调班管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.add()\\\">新增调班</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>申请人</th><th>申请时间</th><th>申请原因</th><th>处理状态</th><th>处理备注</th><th>申请人班次</th><th>申请人班次日期</th><th>调班人</th><th>调班人班次</th><th>调班人班次日期</th><th>操作</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td>{{row.changeUserCode}}</td><td>{{row.group}}</td><td>{{row.changeCause}}</td><td>{{row.status}}</td><td>{{row.refuseCause}}</td><td>{{row.applyClass}}</td><td>{{row.applyClassDate}}</td><td>{{row.changeUserCode}}</td><td>{{row.changeClass}}</td><td>{{row.changeClassDate}}</td><td><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/bed/bed.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/departmentManager/classes/addClasses.tpl.html\",\"<div class=\\\"mod-pop-dateForm\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">新增班次</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addClassesForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"\\\"><div class=\\\"form-group\\\"><label for=\\\"dept\\\" class=\\\"col-sm-3 control-label\\\">科室：</label><div class=\\\"col-sm-6\\\"><input class=\\\"form-control input-sm input-none\\\" readonly=\\\"\\\" name=\\\"\\\" id=\\\"dept\\\" type=\\\"text\\\" value=\\\"{{vm.formData.deptName}}\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"turn\\\" class=\\\"col-sm-3 control-label\\\">班次：</label><div class=\\\"col-sm-4\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.className\\\" id=\\\"turn\\\" name=\\\"\\\" autocomplete=\\\"off\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group partial-form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-3 control-label\\\">开始时间：</label><div class=\\\"col-sm-8\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.startTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" required=\\\"\\\" template-url=\\\"app/common/tpls/timepicker/timepicer.html\\\" show-meridian=\\\"false\\\"></uib-timepicker></div></div><div class=\\\"form-group partial-form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-3 control-label\\\">结束时间：</label><div class=\\\"col-sm-8\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.endTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" required=\\\"\\\" template-url=\\\"app/common/tpls/timepicker/timepicer.html\\\" show-meridian=\\\"false\\\"></uib-timepicker></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/departmentManager/classes/classes.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>班次管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addClasses()\\\">新增班次</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'科室\\'\\\">{{vm.deptName}}</td><td data-title=\\\"\\'班次\\'\\\">{{ row.className }}</td><td data-title=\\\"\\'开始时间\\'\\\">{{ row.startTime }}</td><td data-title=\\\"\\'结束时间\\'\\\">{{ row.endTime }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-primary btn-xs classes-handler-btn\\\" uib-tooltip=\\\"编辑\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs classes-handler-btn\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/endemicArea/endemicArea.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>病区护理人员管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>工号</th><th>姓名</th><th>所属护理组</th><th>护士级别</th><th>是否夜班准入</th><th>是否参与排班</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td>{{row.hisCode}}</td><td>{{row.userName}}</td><td><select ng-model=\\\"row.groupCode\\\"><option ng-repeat=\\\"group in vm.groupLst\\\" value=\\\"{{group.groupCode}}\\\">{{group.groupName}}</option></select></td><td><select ng-model=\\\"row.level\\\"><option value=\\\"01\\\">N1</option><option value=\\\"02\\\">N2</option><option value=\\\"03\\\">N3</option></select></td><td><select ng-model=\\\"row.night\\\"><option value=\\\"1\\\">是</option><option value=\\\"0\\\">否</option></select></td><td><select ng-model=\\\"row.isSchedule\\\"><option value=\\\"1\\\">是</option><option value=\\\"0\\\">否</option></select></td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.saveArea()\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/addLeave.tpl.html\",\"<div class=\\\"mod-pop-dateForm addLeave\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">请假</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addleaveForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"\\\"><div class=\\\"form-group\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">请假类型：</label><div class=\\\"col-sm-7\\\"><select ng-model=\\\"vm.formData.leaveType\\\"><option value=\\\"01\\\">调休假</option><option value=\\\"02\\\">事假</option><option value=\\\"03\\\">年假</option><option value=\\\"04\\\">病假</option><option value=\\\"05\\\">产假</option><option value=\\\"06\\\">丧假</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">请假原因：</label><div class=\\\"col-sm-7\\\"><textarea class=\\\"form-control input-sm partial-textarea\\\" id=\\\"txt\\\" ng-model=\\\"vm.formData.leaveWhy\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">请假天数：</label><div class=\\\"col-sm-7\\\"><input class=\\\"form-control input-sm\\\" ng-model=\\\"vm.formData.days\\\"></div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">开始时间：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm partial-input partial-input-sm date-pick\\\" uib-datepicker-popup=\\\"yyyy-MM-dd\\\" ng-model=\\\"vm.formData.startDate\\\" is-open=\\\"popup1\\\" ng-click=\\\"popup1 = true\\\" placeholder=\\\"年-月-日\\\" required=\\\"\\\" readonly=\\\"\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.startTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" second-step=\\\"1\\\" show-meridian=\\\"false\\\" template-url=\\\"app/common/tpls/timepicker/timepicer.html\\\" show-seconds=\\\"true\\\"></uib-timepicker></div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">结束时间：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm partial-input partial-input-sm date-pick\\\" uib-datepicker-popup=\\\"yyyy-MM-dd\\\" ng-model=\\\"vm.formData.endDate\\\" is-open=\\\"popup2\\\" ng-click=\\\"popup2 = true\\\" placeholder=\\\"年-月-日\\\" readonly=\\\"\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.endTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" second-step=\\\"1\\\" show-meridian=\\\"false\\\" template-url=\\\"app/common/tpls/timepicker/timepicer.html\\\" show-seconds=\\\"true\\\"></uib-timepicker></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/leave.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>请假管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addLeave()\\\">请假</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\" class=\\\"text-center\\\">{{row.deptName}}</td><td data-title=\\\"\\'员工姓名\\'\\\" class=\\\"text-center\\\">{{row.userName}}</td><td data-title=\\\"\\'起始时间\\'\\\" class=\\\"text-center\\\">{{row.startTime}}</td><td data-title=\\\"\\'结束时间\\'\\\" class=\\\"text-center\\\">{{row.endTime}}</td><td data-title=\\\"\\'请假类型\\'\\\" class=\\\"text-center\\\">{{row.leaveType}}</td><td data-title=\\\"\\'请假原因\\'\\\" class=\\\"text-center\\\">{{row.leaveWhy}}</td><td data-title=\\\"\\'审批状态\\'\\\" class=\\\"text-center\\\">{{row.approveStatusName}}</td><td data-title=\\\"\\'备注\\'\\\" class=\\\"text-center\\\">{{row.approveRemark}}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center operation\\\"><button class=\\\"btn btn-xs btn-primary f14\\\" uib-tooltip=\\\"修改\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-xs btn-danger f14\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button> <button class=\\\"btn btn-xs btn-default f14\\\" uib-tooltip=\\\"审核批准\\\" ng-click=\\\"vm.review(row)\\\"><span class=\\\"fa fa-list-alt\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/review.tpl.html\",\"<div class=\\\"mod-pop-dateForm addLeave\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">请假</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"reviewForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">姓名：</label><div class=\\\"col-sm-6 input-sm\\\">{{ vm.formData.userName }}</div></div><div class=\\\"form-group\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">请假原因：</label><div class=\\\"col-sm-7 input-sm\\\">{{ vm.formData.leaveWhy }}</div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">开始时间：</label><div class=\\\"col-sm-8 input-sm\\\">{{ vm.formData.startTime }}</div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">结束时间：</label><div class=\\\"col-sm-8 input-sm\\\">{{ vm.formData.endTime }}</div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">审核：</label><div class=\\\"col-sm-8\\\"><div class=\\\"radio\\\"><label><input type=\\\"radio\\\" name=\\\"select1\\\" value=\\\"02\\\" aria-label=\\\"批准\\\" required=\\\"\\\" ng-model=\\\"vm.formData.approveStatus\\\" ng-click=\\\"reviewForm.approveStatus = false\\\"> <span class=\\\"select\\\">批准</span></label> <label><input type=\\\"radio\\\" name=\\\"select1\\\" value=\\\"03\\\" aria-label=\\\"拒绝\\\" required=\\\"\\\" ng-model=\\\"vm.formData.approveStatus\\\" ng-click=\\\"reviewForm.approveStatus = true\\\"> <span class=\\\"select\\\">拒绝</span></label></div></div></div><div class=\\\"form-group\\\" ng-if=\\\"reviewForm.approveStatus === true || vm.formData.approveStatus==\\'03\\'\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">审核备注：</label><div class=\\\"col-sm-7\\\"><textarea class=\\\"form-control input-sm partial-textarea\\\" id=\\\"txt\\\" ng-model=\\\"vm.formData.approveRemark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/departmentManager/statistics/detail.grid.html\",\"<td colspan=\\\"{{tdLen}}\\\"><div class=\\\"tpl\\\"><table class=\\\"table table-hover table-condensed table-bordered table-striped\\\"><thead><tr><th st-sort=\\\"rowNumber\\\">序号</th><th st-sort=\\\"month\\\">月份</th><th st-sort=\\\"deptCode\\\">病区</th><th st-sort=\\\"hisCode\\\">HIS工号</th><th st-sort=\\\"userName\\\">姓名</th><th st-sort=\\\"bj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">病假（天）</th><th st-sort=\\\"nj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">年假（天）</th><th st-sort=\\\"hj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">婚假（天）</th><th st-sort=\\\"txj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">调休假（天）</th><th st-sort=\\\"sj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">丧假（天）</th><th st-sort=\\\"cj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">产假（天）</th><th st-sort=\\\"yb\\\" ng-if=\\\"vm.queryParams.type === \\'class\\'\\\">夜班（个）</th><th st-sort=\\\"jjr\\\" ng-if=\\\"vm.queryParams.type === \\'days\\'\\\">节假日上班（天）</th></tr></thead><tbody><tr ng-repeat=\\\"row in vm.statisticsData\\\"><td>{{row.rowNumber}}</td><td>{{row.month}}</td><td>{{row.deptCode}}</td><td>{{row.hisCode}}</td><td>{{row.userName}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.bj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.nj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.hj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.txj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.sj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.cj}}</td><td ng-if=\\\"vm.queryParams.type === \\'class\\'\\\">{{row.yb}}</td><td ng-if=\\\"vm.queryParams.type === \\'days\\'\\\">{{row.jjr}}</td></tr></tbody></table></div></td>\");\n$templateCache.put(\"app/departmentManager/statistics/statistics.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>统计上报</span><div class=\\\"pull-right\\\"><export-excel exsl-src=\\\"\\'/asdasd/asdasd/asdasd\\'\\\"></export-excel><button class=\\\"btn btn-xs btn-default\\\" ng-click=\\\"vm.addLeave()\\\"><i class=\\\"fa fa-print\\\"></i> 打印</button></div></div><div class=\\\"filter-bar form-inline\\\"><div class=\\\"filter-item\\\"><label>统计类别：</label><select name=\\\"\\\" ng-model=\\\"vm.queryParams.type\\\" class=\\\"form-control input-sm\\\"><option value=\\\"leave\\\" selected=\\\"\\\">考勤统计</option><option value=\\\"class\\\">夜班统计</option></select></div><div class=\\\"filter-item\\\" ng-if=\\\"vm.queryParams.type !== \\'days\\'\\\"><label>月份：</label> <span class=\\\"input-group\\\"><input ng-model=\\\"vm.queryParams.month\\\" type=\\\"text\\\" id=\\\"month\\\" name=\\\"month\\\" required=\\\"\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.options.month\\\" on-open-focus=\\\"true\\\" is-open=\\\"vm.picker.monthOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openPicker(\\'month\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div><div class=\\\"filter-item\\\"><label>科室：</label><select class=\\\"form-controll input-sm\\\" ng-model=\\\"vm.queryParams.dept\\\" ng-options=\\\"dept as dept.deptName for dept in vm.deptList track by dept.deptCode\\\" name=\\\"dept\\\"></select></div><div class=\\\"filter-item\\\" ng-if=\\\"vm.queryParams.type === \\'days\\'\\\"><label>日期区间：</label><div class=\\\"inline\\\"><span class=\\\"input-group\\\"><input ng-model=\\\"vm.queryParams.startDate\\\" type=\\\"text\\\" id=\\\"startDate\\\" name=\\\"startDate\\\" required=\\\"\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.options.startDate\\\" on-open-focus=\\\"true\\\" is-open=\\\"vm.picker.startDateOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openPicker(\\'startDate\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div>-<div class=\\\"inline\\\"><span class=\\\"input-group\\\"><input ng-model=\\\"vm.queryParams.endDate\\\" type=\\\"text\\\" id=\\\"endDate\\\" name=\\\"endDate\\\" required=\\\"\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.options.endDate\\\" on-open-focus=\\\"true\\\" is-open=\\\"vm.picker.endDateOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openPicker(\\'endDate\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"filter-item\\\"><button type=\\\"button\\\" name=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.getStatistics()\\\">统计</button></div></div><div class=\\\"panel-body\\\"><table st-table=\\\"vm.statisticsData\\\" st-safe-src=\\\"rowCollection\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\"><thead><tr class=\\\"header-export\\\"><th st-sort=\\\"hisCode\\\">HIS工号</th><th st-sort=\\\"userName\\\">姓名</th><th st-sort=\\\"bj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">病假（天）</th><th st-sort=\\\"nj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">年假（天）</th><th st-sort=\\\"hj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">婚假（天）</th><th st-sort=\\\"txj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">调休假（天）</th><th st-sort=\\\"sj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">丧假（天）</th><th st-sort=\\\"cj\\\" ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">产假（天）</th><th st-sort=\\\"yb\\\" ng-if=\\\"vm.queryParams.type === \\'class\\'\\\">夜班（个）</th><th st-sort=\\\"jjr\\\" ng-if=\\\"vm.queryParams.type === \\'days\\'\\\">节假日上班（天）</th></tr></thead><tbody ng-repeat=\\\"row in vm.statisticsData\\\"><tr><td>{{row.hisCode}}</td><td>{{row.userName}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.bj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.nj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.hj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.txj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.sj}}</td><td ng-if=\\\"vm.queryParams.type === \\'leave\\'\\\">{{row.cj}}</td><td ng-if=\\\"vm.queryParams.type === \\'class\\'\\\">{{row.yb}}</td><td ng-if=\\\"vm.queryParams.type === \\'days\\'\\\">{{row.jjr}}</td></tr></tbody></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/turns/turns.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\" style=\\\"height: 40px\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>排班管理</span><div class=\\\"week-switch pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.backWeek()\\\">上一周</button> <span>第{{vm.data.weeks}}周</span> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.nextWeek()\\\">下一周</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.newTurns()\\\">重新排班</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.copyWeek()\\\">复制上周</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.saveTurns()\\\">保存</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.saveTurns()\\\">打印</button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-inline\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>员工姓名</th><th>{{vm.data.week1}}</th><th>{{vm.data.week2}}</th><th>{{vm.data.week3}}</th><th>{{vm.data.week4}}</th><th>{{vm.data.week5}}</th><th>{{vm.data.week6}}</th><th>{{vm.data.week7}}</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td>{{row.userName}}</td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week1 in row.week1 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week1[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week2 in row.week2 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week2[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week3 in row.week3 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week3[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week4 in row.week4 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week4[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week5 in row.week5 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week5[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week6 in row.week6 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week6[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week7 in row.week7 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week7[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td></tr></table></form></div></div></div>\");\n$templateCache.put(\"app/departmentManager/turnsRule/turnsRule.model.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写排班规则</h5></div><form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">规则名称：</label> <input ng-model=\\\"vm.formData.ruleName\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">日期类型：</label><select ng-model=\\\"vm.formData.dateType\\\"><option value=\\\"01\\\">工作日</option><option value=\\\"02\\\">周末</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">班次：</label><select ng-model=\\\"vm.formData.classCode\\\"><option ng-repeat=\\\"c in vm.metaData.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">班次次数：</label> <input ng-model=\\\"vm.formData.userCount\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">护理人员级别：</label> <input ng-model=\\\"vm.formData.userLevel\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">备注：</label> <input ng-model=\\\"vm.formData.remark\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/departmentManager/turnsRule/turnsRule.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>排班规则管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.add()\\\">新增规则</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'规则名称\\'\\\">{{row.ruleName}}</td><td data-title=\\\"\\'日期类型\\'\\\">{{row.dateTypeName}}</td><td data-title=\\\"\\'班次\\'\\\">{{row.className}}</td><td data-title=\\\"\\'班次次数\\'\\\">{{row.userCount}}</td><td data-title=\\\"\\'护理人员级别\\'\\\">{{row.userLevel}}</td><td data-title=\\\"\\'备注\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'操作\\'\\\" print-remove=\\\"\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/call/call.include.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">事件等级：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.damageLevel\\\"><select ng-change=\\\"vm.formData.damageLevel = (vm.metaData.levelList | filter:vm.formData.level.damageLevelName)[0].damageLevel\\\" data=\\\"\\\" class=\\\"form-controll input-sm\\\" ng-options=\\\"level.damageLevelName for level in vm.metaData.levelList track by level.damageLevel\\\" ng-model=\\\"vm.formData.level\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">上报科室：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.deptCode\\\"><select ng-change=\\\"vm.formData.deptCode = (vm.metaData.deptList | filter:vm.formData.dept.deptName)[0].deptCode\\\" data=\\\"\\\" class=\\\"form-controll input-sm\\\" ng-options=\\\"dept.deptName for dept in vm.metaData.deptList track by dept.deptCode\\\" ng-model=\\\"vm.formData.dept\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">发生时间：</label> <span class=\\\"input-group\\\"><input ng-model=\\\"vm.formData.eventDate\\\" type=\\\"text\\\" id=\\\"eventDate\\\" name=\\\"eventDate\\\" required=\\\"\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.eventTimeOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.eventTimeCalender()\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span><uib-timepicker template-url=\\\"app/common/tpls/timepicker/timepicer.html\\\" ng-model=\\\"vm.formData.eventTime\\\" class=\\\"time-picker\\\" ng-change=\\\"vm.timeChanged()\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" show-meridian=\\\"ismeridian\\\"></uib-timepicker></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">上报人：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.userCode\\\"> <input readonly=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.userName\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-model=\\\"vm.formData.userRole\\\" value=\\\"当事人\\\" name=\\\"userRole\\\" type=\\\"radio\\\"> 当事人</label></div><div class=\\\"checkbox\\\"><label><input ng-model=\\\"vm.formData.userRole\\\" value=\\\"目击者\\\" name=\\\"userRole\\\" type=\\\"radio\\\"> 目击者</label></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">住院号：</label> <input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.patientHospNo\\\" type=\\\"text\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">床号：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientBedNo\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">姓名：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientName\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">性别：</label><select name=\\\"gender\\\" ng-model=\\\"vm.formData.patientGender\\\" class=\\\"form-control input-sm\\\"><option value=\\\"0\\\">女</option><option value=\\\"1\\\">男</option></select></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">年龄：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientAge\\\" class=\\\"form-control input-sm\\\" style=\\\"width:4em;\\\"> 岁</div><div class=\\\"form-group form-block\\\"><label class=\\\"col-sm-1 control-label\\\">诊断：</label><div class=\\\"col-sm-11\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.patientDiagnose\\\" class=\\\"form-control input-sm\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">事件类型：</label><div class=\\\"checkbox\\\" ng-repeat=\\\"eventType in vm.metaData.eventTypeList\\\"><label><input ng-model=\\\"vm.formData.eventType\\\" ng-checked=\\\"vm.formData.eventType.eventTypeCode == eventType.eventTypeCode\\\" type=\\\"radio\\\" value=\\\"{{eventType}}\\\" name=\\\"eventTypeCode\\\"> {{eventType.eventTypeName}}</label></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group form-block\\\"><label class=\\\"col-sm-2 control-label\\\">事件经过描述（5WH1）：</label><div class=\\\"col-sm-10\\\"><textarea type=\\\"text\\\" ng-model=\\\"vm.formData.eventDescribe\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">上报</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/call/call.modal.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写上报信息</h5></div><div ng-include=\\\"\\\" src=\\\"\\'app/malCaseUp/call/call.include.html\\'\\\"></div></div>\");\n$templateCache.put(\"app/malCaseUp/call/call.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-list-alt\\\"></i> <span>不良事件列表</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-upload\\\"></i> 事件上报</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'不良事件级别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.damageLevelName }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTypeName}}</td><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'患者住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'患者姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'患者性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientGenderName}}</td><td data-title=\\\"\\'患者年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientAge}}</td><td data-title=\\\"\\'患者主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientDiagnose}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventDescribe}}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.userName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/element/element.tpl.html\",\"<div ng-controller=\\\"MalCaseUpElementController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-indent\\\"></i> <span>不良元素元素管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增元素</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'元素编号\\'\\\">{{row.elementCode}}</td><td data-title=\\\"\\'元素名称\\'\\\">{{row.elementName}}</td><td data-title=\\\"\\'显示名称\\'\\\">{{row.viewName}}</td><td data-title=\\\"\\'压疮大小\\'\\\">{{row.groupName}}</td><td data-title=\\\"\\'元素类型\\'\\\">{{row.elementType}}</td><td data-title=\\\"\\'组件宽度\\'\\\">{{row.width}}</td><td data-title=\\\"\\'备注\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'是否必填\\'\\\">{{row.required}}</td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/fix/fix.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>角色信息</span><div class=\\\"pull-right\\\"></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserCode === row.code}\\\"><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'风险评估\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'等级\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'当事人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'处理措施\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'后果\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'改进措施\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'追踪\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/estimate.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li ng-click=\\\"vm.fillItem(\\'measure\\', measure)\\\" ng-class=\\\"{\\'active\\': vm.formData.measure.meaCode == measure.meaCode}\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"measure in vm.formData.measureList track by $index\\\">{{$index + 1}}. {{measure.meaContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{measure.userName}}</span></div><blockquote>{{!measure.resDescribe ? \\'暂无评估\\' : measure.resDescribe}}</blockquote></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-disabled=\\\"!vm.formData.measure.seqId\\\" ng-model=\\\"vm.formData.measure.resDescribe\\\" placeholder=\\\"请选择措施\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><button ng-click=\\\"vm.saveListItem(\\'estimate\\')\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.formData.measure.resDescribe === \\'\\' || !vm.formData.measure.resDescribe\\\">提交评估</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/handle.modal.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写上报信息</h5></div><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"text-center handle-nav\\\"><div class=\\\"text-center status-buttons\\\"><a ui-sref-active=\\\"active\\\" ui-sref=\\\".malCase\\\"><span>1</span> 不良事件信息</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".reportXk\\\"><span>2</span> 调查处理</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".requirement\\\"><span>3</span> 整改要求</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".measures\\\"><span>4</span> 整改措施</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".estimate\\\"><span>5</span> 整改效果评估</a></div></div><div id=\\\"form-views\\\" class=\\\"well well-sm\\\" ui-view=\\\"\\\"></div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/handle.tpl.html\",\"<div class=\\\"col-md-12 handle-wrapper\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-list-alt\\\"></i> <span>不良事件列表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'不良事件级别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.damageLevelName }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTypeName}}</td><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'患者住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'患者姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'患者性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientGenderName}}</td><td data-title=\\\"\\'患者年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientAge}}</td><td data-title=\\\"\\'患者主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientDiagnose}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventDescribe}}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.userName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/malCaseInfo.tpl.html\",\"<div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">事件类型：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.eventTypeName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">不良事件级别：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.damageLevelName}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"name\\\" class=\\\"col-md-4 control-label\\\">上报科室：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.deptName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"control-label col-md-4\\\">发生时间：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.eventTime}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">上报人：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.userName}}（{{vm.metaData.malCaseInfo.userRole}}）</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"name\\\" class=\\\"col-md-4 control-label\\\">患者住院号：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientHospNo}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者床号：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientBedNo}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者姓名：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientName}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者性别：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientGenderName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">患者年龄：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientAge}}</div></div><div class=\\\"label-group col-md-12\\\"><label class=\\\"col-md-2 control-label\\\">患者诊断：</label><div class=\\\"col-md-10\\\">{{vm.metaData.malCaseInfo.patientDiagnose}}</div></div><div class=\\\"label-group col-md-12\\\"><label class=\\\"col-md-2 control-label\\\">事件经过描述：</label><div class=\\\"col-md-10\\\">{{vm.metaData.malCaseInfo.eventDescribe}}</div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/measures.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li ng-class=\\\"{\\'active\\': vm.formData.measure.meaCode == measure.meaCode}\\\" class=\\\"list-group-item\\\" ng-click=\\\"vm.fillItem(\\'measure\\', measure)\\\" ng-repeat=\\\"measure in vm.formData.measureList track by $index\\\">{{$index + 1}}. {{measure.meaContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{measure.userName}}</span> <span style=\\\"margin-right:1em;\\\">实施负责人：{{(vm.metaData.userList | filter:measure.headUserCode)[0].userName }}</span> <button class=\\\"btn btn-xs btn-danger\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeListItem({index: $index, listName: \\'measure\\', meaCode: measure.meaCode, reportCode: vm.formData.reportCode})\\\"><span class=\\\"fa fa-trash\\\"></span></button></div></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">措施实施负责人：</label><div class=\\\"col-sm-10\\\"><input type=\\\"hidden\\\" name=\\\"headUserCode\\\" ng-model=\\\"vm.formData.headUserCode\\\"><select class=\\\"form-controll input-sm\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.measure.headUserName\\\" ng-change=\\\"vm.formData.measure.headUserCode = (vm.metaData.userList | filter:vm.formData.measure.headUserName)[0].userCode\\\"><option ng-repeat=\\\"user in vm.metaData.userList\\\" ng-selected=\\\"user.userCode == vm.formData.measure.headUserCode\\\" value=\\\"{{user.userName}}\\\">{{user.userName}}</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">整改措施：</label><div class=\\\"col-sm-10\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-model=\\\"vm.formData.measure.meaContent\\\" placeholder=\\\"填写整改要求\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\"></label><div class=\\\"col-sm-10\\\"><button ng-click=\\\"vm.resetForm(\\'measure\\')\\\" class=\\\"btn btn-primary btn-sm\\\">清空</button> <button ng-click=\\\"vm.saveListItem(\\'measure\\')\\\" class=\\\"btn btn-success btn-sm\\\" ng-disabled=\\\"vm.formData.measure.meaContent === \\'\\' || !vm.formData.measure.meaContent\\\">保存</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/report.tpl.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><p>患者信息</p><table class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th style=\\\"width: 5em;\\\"></th><th class=\\\"text-center\\\">不良事件发生前</th><th class=\\\"text-center\\\">不良事件发生后</th></tr><tr><td>生命体征</td><td><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">BP</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.bp_before.value\\\" class=\\\"form-control input-sm\\\"> mmHg</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">P</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.p_before.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><br><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">R</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.r_before.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">T</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.t_before.value\\\" class=\\\"form-control input-sm\\\"> ℃</div></td><td><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">BP</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.bp_after.value\\\" class=\\\"form-control input-sm\\\"> mmHg</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">P</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.p_after.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><br><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">R</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.r_after.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">T</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.t_after.value\\\" class=\\\"form-control input-sm\\\"> ℃</div></td></tr><tr><td>精神状况</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_clear_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_clear_before.value\\\" type=\\\"checkbox\\\"> 神志清</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_directive_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_directive_before.value\\\" type=\\\"checkbox\\\"> 有定向力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_upset_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" tng-model=\\\"vm.formData.reportDetailList.psychosis_upset_before.value\\\" type=\\\"checkbox\\\"> 不安</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_undiscerned_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_undiscerned_before.value\\\" type=\\\"checkbox\\\"> 无定力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_halfComa_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_halfComa_before.value\\\" type=\\\"checkbox\\\"> 半昏迷</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_coma_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_coma_before.value\\\" type=\\\"checkbox\\\"> 昏迷</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_else_before.value\\\" class=\\\"input-sm form-control\\\"></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_clear_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_clear_after.value\\\" type=\\\"checkbox\\\"> 神志清</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_directive_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_directive_after.value\\\" type=\\\"checkbox\\\"> 有定向力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_upset_after.value = \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" tng-model=\\\"vm.formData.reportDetailList.psychosis_upset_after.value\\\" type=\\\"checkbox\\\"> 不安</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_undiscerned_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_undiscerned_after.value\\\" type=\\\"checkbox\\\"> 无定力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_halfComa_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_halfComa_after.value\\\" type=\\\"checkbox\\\"> 半昏迷</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_coma_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_coma_after.value\\\" type=\\\"checkbox\\\"> 昏迷</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_else_after.value\\\" class=\\\"input-sm form-control\\\"></div></div></td></tr><tr><td>运动</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_self_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_self_before.value\\\"> 独立</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_assist_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_assist_before.value\\\"> 辅助支持</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_limit_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_limit_before.value\\\"> 限制在床/轮椅</label></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_self_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_self_after.value\\\" type=\\\"checkbox\\\"> 独立</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_assist_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_assist_after.value\\\" type=\\\"checkbox\\\"> 辅助支持</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_limit_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_limit_after.value\\\" type=\\\"checkbox\\\"> 限制在床/轮椅</label></div></div></td></tr><tr><td>残疾</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_none_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_none_before.value\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_auditionDown_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_auditionDown_before.value\\\"> 听力下降</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_costive_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_costive_before.value\\\"> 行动不便</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_unclearEyed_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_unclearEyed_before.value\\\"> 视力缺损</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_else_before.value\\\" class=\\\"input-sm form-control\\\"></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_none_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_none_after.value\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_auditionDown_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_auditionDown_after.value\\\" type=\\\"checkbox\\\"> 听力下降</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_costive_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_costive_after.value\\\" type=\\\"checkbox\\\"> 行动不便</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_unclearEyed_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_unclearEyed_after.value\\\" type=\\\"checkbox\\\"> 视力缺损</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_else_after.value\\\" class=\\\"input-sm form-control\\\"></div></div></td></tr><tr><td>其他说明</td><td><textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.elsedeclare_before.value\\\" rows=\\\"2\\\" cols=\\\"50\\\" class=\\\"form-control input-sm\\\"></textarea></td><td><textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.elsedeclare_after.value\\\" rows=\\\"2\\\" cols=\\\"50\\\" class=\\\"form-control input-sm\\\"></textarea></td></tr></table></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生24小时内用药：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_none.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_none.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_diuretic.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_diuretic.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 利尿剂</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_nicotine.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_nicotine.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 尼古丁／镇静</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_high_handed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_high_handed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 抗高压</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_depressed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_depressed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 抗抑郁</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生前采取的特殊预防措施：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_none.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_none.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_accompany.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_accompany.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 陪伴</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_informed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_informed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 已告知</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_guardrail.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_guardrail.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 床边扶栏</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_motionDevice.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_motionDevice.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 动作设备</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_sign.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_sign.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 标识</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_closestool.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_closestool.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 床边便器</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_restlessLimit.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_restlessLimit.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 躁动约束</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_riskWarning.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_riskWarning.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 风险预警</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生地点：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_ward.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_ward.value\\\"> 病房</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_treatmentRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_treatmentRoom.value\\\"> 治疗室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_changeRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_changeRoom.value\\\"> 换药室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_handleRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_handleRoom.value\\\"> 处置室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_corridor.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_corridor.value\\\"> 走廊</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_washroom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_washroom.value\\\"> 厕所</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_outDepartment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_outDepartment.value\\\"> 病区外</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生原因：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value\\\"> 病患生理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_old.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_old.value\\\"> 年老体弱</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value\\\"> 久病不愈</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value\\\"> 病情恶化</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value\\\"> 病患心理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value\\\"> 情绪不稳</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value\\\"> 精神失常</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value\\\"> 人为因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value\\\"> 医疗材料故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value\\\"> 仪器故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value\\\"> 设备故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_yard.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_yard.value\\\"> 场地</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_environment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_environment.value\\\"> 环境因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value\\\"> 酒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value\\\"> 毒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value\\\"> 与制度有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value\\\"> 与流程有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_else.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件目击：</label><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_witness.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生的事实（包括不良事件发生经过，发生后治疗，发生后护理及发生后检查结果等情况，由当事人或发现者填写）：</label> <textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_truth.value\\\" rows=\\\"3\\\" cols=\\\"100\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveReportDetail()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/reportXk.tpl.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">日期类型：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK01_medicine_none.value\\\"><option value=\\\"01\\\">工作日</option><option value=\\\"02\\\">周末</option><option value=\\\"03\\\">节日</option></select></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">不良事件发生地点：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK03_medicine_none.value\\\"><option value=\\\"01\\\">门诊</option><option value=\\\"02\\\">急诊</option><option value=\\\"03\\\">住院病房</option><option value=\\\"04\\\">监护室</option><option value=\\\"05\\\">留观察室</option><option value=\\\"06\\\">公共服务设施</option><option value=\\\"07\\\">卫生间</option><option value=\\\"08\\\">转运图中</option><option value=\\\"09\\\">手术室</option><option value=\\\"10\\\">走廊</option><option value=\\\"11\\\">其他</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">发生于何种服务：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK02_medicine_none.value\\\"><option value=\\\"01\\\">手术</option><option value=\\\"02\\\">分娩</option><option value=\\\"03\\\">治疗</option><option value=\\\"04\\\">护理</option><option value=\\\"05\\\">饮食</option><option value=\\\"06\\\">公共服务设施</option><option value=\\\"07\\\">卫生间</option><option value=\\\"08\\\">清扫</option><option value=\\\"09\\\">采集标本</option><option value=\\\"10\\\">服务项目不明</option><option value=\\\"11\\\">其他</option></select></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">事件给患者带来的损害：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK04_medicine_none.value\\\"><option value=\\\"01\\\">死亡</option><option value=\\\"02\\\">植物人</option><option value=\\\"03\\\">严重</option><option value=\\\"04\\\">较重</option><option value=\\\"05\\\">重</option><option value=\\\"06\\\">中</option><option value=\\\"07\\\">轻</option><option value=\\\"08\\\">无</option><option value=\\\"09\\\">抢救中</option><option value=\\\"10\\\">不明</option><option value=\\\"11\\\">其他</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">当事人身份：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK05_medicine_none.value\\\"><option value=\\\"01\\\">注册护士</option><option value=\\\"02\\\">返聘护士</option><option value=\\\"03\\\">招聘护士</option><option value=\\\"04\\\">进修护士</option><option value=\\\"05\\\">见习护士</option><option value=\\\"06\\\">实习护士</option><option value=\\\"07\\\">护工</option><option value=\\\"08\\\">其他</option></select></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">当事职务：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK06_medicine_none.value\\\"><option value=\\\"01\\\">护士长</option><option value=\\\"02\\\">负护士长</option><option value=\\\"03\\\">组长</option><option value=\\\"04\\\">护士</option><option value=\\\"05\\\">见习护士</option><option value=\\\"06\\\">实习护士</option><option value=\\\"07\\\">护工或陪护</option><option value=\\\"08\\\">其他</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">当事人年龄：</label> <input class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK07_medicine_none.value\\\"></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">当事人所在科室：</label> <input class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK08_medicine_none.value\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">医院名称：</label> <input class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK09_medicine_none.value\\\"></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">医院级别：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK10_medicine_none.value\\\"><option value=\\\"01\\\">三级特等</option><option value=\\\"02\\\">三级甲等</option><option value=\\\"03\\\">三级乙等</option><option value=\\\"04\\\">三级丙等</option><option value=\\\"05\\\">二级级甲等</option><option value=\\\"06\\\">二级乙等</option><option value=\\\"07\\\">二级丙等</option><option value=\\\"08\\\">一级级甲等</option><option value=\\\"09\\\">一级乙等</option><option value=\\\"10\\\">一级丙等</option><option value=\\\"11\\\">未定级</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">报告者角色：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK11_medicine_none.value\\\"><option value=\\\"01\\\">事件当事人</option><option value=\\\"02\\\">同事</option><option value=\\\"03\\\">旁观者</option><option value=\\\"04\\\">其他</option></select></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">报告者职务：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK12_medicine_none.value\\\"><option value=\\\"01\\\">注册护士</option><option value=\\\"02\\\">返聘护士</option><option value=\\\"03\\\">招聘护士</option><option value=\\\"04\\\">进修护士</option><option value=\\\"05\\\">见习护士</option><option value=\\\"06\\\">实习护士</option><option value=\\\"07\\\">护工</option><option value=\\\"08\\\">其他</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">报告者职称：</label><select class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK13_medicine_none.value\\\"><option value=\\\"01\\\">主任护师</option><option value=\\\"02\\\">副主任护师</option><option value=\\\"03\\\">主管护师</option><option value=\\\"04\\\">护师</option><option value=\\\"05\\\">护士</option><option value=\\\"06\\\">见习护士</option><option value=\\\"07\\\">实习护士</option><option value=\\\"08\\\">其他</option></select></div><div class=\\\"form-group col-md-6\\\"><label class=\\\"control-label col-sm-5\\\">联系电话：</label> <input class=\\\"col-sm-5\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK14_medicine_none.value\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-md-2\\\"><label class=\\\"control-label\\\">未尽补充事宜：</label></div><textarea class=\\\"col-md-9\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_XK16_medicine_none.value\\\">\\n    </textarea></div><label>与当事人可能相关的因素:</label><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">确认：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_qr_01.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_qr_01.value\\\"> 确认不认真</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_qr_02.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_qr_02.value\\\"> 确认错误</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_qr_03.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_qr_03.value\\\"> 没有执行确认程序</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_qr_04.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">观察：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_gc_01.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_gc_01.value\\\"> 观察不仔细</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_gc_02.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_gc_02.value\\\"> 没有进行观察</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_gc_03.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">判断/诊断：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_PJ_01.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_PJ_01.value\\\"> 经验不足</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_PJ_02.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_PJ_02.value\\\"> 判断有误</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_PJ_03.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_PJ_03.value\\\"> 未执行诊疗常规</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_PJ_04.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">判断/诊断：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_zj_01.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_zj_01.value\\\"> 知识储备不足</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_zj_02.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_zj_02.value\\\"> 应用知识有误</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_zj_03.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_zj_03.value\\\"> 应急经验不足</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_zj_04.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">技能/处置：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_jn_01.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_jn_01.value\\\"> 不成熟技术</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_jn_02.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_jn_02.value\\\"> 技术应用有误</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.dsr_jn_03.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_jn_03.value\\\"> 未经卫生行政部门核准的技术</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.dsr_jn_04.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">不良事件发生原因：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value\\\"> 病患生理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_old.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_old.value\\\"> 年老体弱</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value\\\"> 久病不愈</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value\\\"> 病情恶化</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value\\\"> 病患心理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value\\\"> 情绪不稳</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value\\\"> 精神失常</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value\\\"> 人为因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value\\\"> 医疗材料故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value\\\"> 仪器故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value\\\"> 设备故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_yard.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_yard.value\\\"> 场地</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_environment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_environment.value\\\"> 环境因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value\\\"> 酒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value\\\"> 毒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value\\\"> 与制度有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value\\\"> 与流程有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_else.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">不良事件发生的事实（包括不良事件发生经过，发生后治疗，发生后护理及发生后检查结果等情况，由当事人或发现者填写）：</label> <textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_truth.value\\\" rows=\\\"3\\\" cols=\\\"100\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveReportDetail()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/requirement.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li class=\\\"list-group-item\\\" ng-class=\\\"{\\'active\\': vm.formData.requirement.reqCode == requirement.reqCode}\\\" ng-click=\\\"vm.fillItem(\\'requirement\\', requirement)\\\" ng-repeat=\\\"requirement in vm.formData.requirementList track by $index\\\">{{$index + 1}}. {{requirement.reqContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{requirement.userName}}</span> <button class=\\\"btn btn-xs btn-danger\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeListItem({index: $index, listName: \\'requirement\\', seqId: requirement.seqId})\\\"><span class=\\\"fa fa-trash\\\"></span></button></div></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-model=\\\"vm.formData.requirement.reqContent\\\" placeholder=\\\"填写整改要求\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><button ng-click=\\\"vm.resetForm(\\'requirement\\')\\\" class=\\\"btn btn-primary btn-sm\\\">清空</button> <button ng-click=\\\"vm.saveListItem(\\'requirement\\')\\\" class=\\\"btn btn-success btn-sm\\\" ng-disabled=\\\"vm.formData.requirement.reqContent === \\'\\' || !vm.formData.requirement.reqContent\\\">保存</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/level/addLevel.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写分级标准信息</h5></div><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">等级</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.damageLevelName\\\" name=\\\"damageLevelName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">流程：</label><div class=\\\"col-sm-9\\\"><div class=\\\"flow-list\\\"><div ng-repeat=\\\"flowItem in vm.formData.flowList track by $index\\\"><i class=\\\"fa fa-level-down fa-flip-horizontal\\\" ng-if=\\\"!$last\\\"></i> <span>{{flowItem}}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></div></div><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"填写流程\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow($event)\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.flowText === \\'\\' || !vm.flowText\\\">添加流程</button></span></div></div></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/malCaseUp/level/level.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>填写不良事件上报表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedLevel.seqId === row.seqId}\\\"><td data-title=\\\"\\'等级\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{row.damageLevelName}}</td><td data-title=\\\"\\'等级描述\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{row.remark}}</td><td data-title=\\\"\\'处理流程\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.flow }}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>填写分级标准信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.add()\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-plus\\\"></i> 添加分级标准 <i class=\\\"fa fa-angle-right\\\"></i></button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">等级</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.damageLevelName\\\" name=\\\"damageLevelName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">流程：</label><div class=\\\"col-sm-9\\\"><div class=\\\"flow-list\\\"><div ng-repeat=\\\"flowItem in vm.formData.flowList track by $index\\\"><i class=\\\"fa fa-level-down fa-flip-horizontal\\\" ng-if=\\\"!$last\\\"></i> <span>{{flowItem}}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></div></div><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"填写流程\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.flowText === \\'\\' || !vm.flowText\\\">添加流程</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.save()\\\">保存</button></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/statistics/statistics.tpl.html\",\"<div ng-controller=\\\"MalCaseUpStatisticsController as vm\\\"><button ng-click=\\\"tableParams.sorting({})\\\" class=\\\"btn btn-default pull-left\\\">新增</button> <button ng-click=\\\"tableParams.sorting({})\\\" class=\\\"btn btn-danger pull-left\\\">修改</button><table ng-table=\\\"tableParams\\\" class=\\\"table table-striped table-bordered\\\"><thead><tr><td>事件名称</td><td>事件类型</td><td>伤害级别</td><td>事件描述</td></tr></thead><tbody style=\\\"background-color: white\\\"><tr ng-repeat=\\\"ls in vm.lst\\\"><td>{{ls.groupNo}}</td><td>{{ls.groupName}}</td><td>{{ls.bedNo}}</td><td>{{ls.remark}}</td></tr></tbody></table></div>\");\n$templateCache.put(\"app/malCaseUp/type/type.tpl.html\",\"<div class=\\\"col-md-12\\\" ng-controller=\\\"MalCaseUpTypeController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-send\\\"></i> <span>上报类型列表</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">增加类型</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'上报类型编号\\'\\\"><em>{{row.eventCode}}</em></td><td data-title=\\\"\\'上报类型名称\\'\\\">{{row.eventName}}</td><td data-title=\\\"\\'最后更新人\\'\\\">{{ row.lastUpdateCode }}</td><td data-title=\\\"\\'最后更新时间\\'\\\">{{row.lastUpdateTime}}</td></tr></table><loading></loading></div></div></div>\");\n$templateCache.put(\"app/manual/item/item.model.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5>填写科研管理</h5></div><div class=\\\"modal-body\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-3\\\"><label class=\\\"control-label\\\">课题名称：</label></div><div class=\\\"col-sm-9\\\"><input ng-model=\\\"vm.formData.subjectName\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">上报</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/manual/item/item.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>工作项目表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\" ng-class=\\\"{\\'info\\': vm.selectedItem.seqId == row.seqId}\\\"><td data-title=\\\"\\'工作项目\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.itemName }}</td><td data-title=\\\"\\'使用病区\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.deptName }}</td><td data-title=\\\"\\'频次\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.frequencyName }} / {{ row.frequency }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteItem(row.itemCode)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>项目信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.add()\\\" class=\\\"btn btn-primary btn-xs\\\">添加项目</button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"workItemForm\\\" form=\\\"workItemForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"itemName\\\" class=\\\"col-sm-3 control-label\\\">项目名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.itemName\\\" name=\\\"itemName\\\" type=\\\"text\\\" id=\\\"itemName\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">科室／病区：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-model=\\\"vm.formData.dept\\\" ng-options=\\\"dept as dept.deptName for dept in vm.deptList track by dept.deptCode\\\" name=\\\"dept\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"frequencyName\\\" class=\\\"col-sm-3 control-label\\\">频次：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"frequencyName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.frequencyName\\\" type=\\\"text\\\" id=\\\"frequencyName\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.save()\\\" ng-disabled=\\\"workItemForm.groupName.$invalid || workItemForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/manual/workManual/workManual.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>{{ vm.lst }}\");\n$templateCache.put(\"app/nursingWorkers/files/files.tpl.html\",\"<div class=\\\"col-md-2\\\" print-remove=\\\"\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode,vm.deptData.deptName)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter: vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode,subItem.deptName)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>人员数据</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" ng-disabled=\\\"!vm.selectedDept\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-user-plus\\\"></i> 添加员工</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserCode === row.userCode}\\\"><td data-title=\\\"\\'编号\\'\\\">{{row.hisCode}}</td><td data-title=\\\"\\'姓名\\'\\\">{{row.userName}}</td><td data-title=\\\"\\'邮箱\\'\\\">{{ row.email }}</td><td data-title=\\\"\\'电话\\'\\\">{{row.phone}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row.userCode)\\\" uib-tooltip=\\\"编辑员工信息\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row)\\\" uib-tooltip=\\\"删除员工\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/nursingWorkers/files/modal.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写用户信息</h5></div><div class=\\\"modal-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"form-group col-md-4\\\"><label for=\\\"hisCode\\\" class=\\\"col-sm-4 control-label\\\">科室：</label><div class=\\\"col-sm-8\\\"><input class=\\\"form-control input-sm\\\" disabled=\\\"\\\" ng-model=\\\"vm.deptName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"hisCode\\\" class=\\\"col-sm-4 control-label\\\">员工编号：</label><div class=\\\"col-sm-8\\\"><input class=\\\"form-control input-sm\\\" ng-model=\\\"vm.count.comUser.hisCode\\\" id=\\\"hisCode\\\" name=\\\"hisCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"userName\\\" class=\\\"col-sm-4 control-label\\\">姓名：</label><div class=\\\"col-sm-8\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.count.comUser.userName\\\" id=\\\"userName\\\" name=\\\"userName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"male\\\" class=\\\"col-sm-4 control-label\\\">性别：</label><div class=\\\"col-sm-8\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.count.comUser.gender\\\" checked=\\\"\\\" id=\\\"male\\\" value=\\\"1\\\"> 男</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.count.comUser.gender\\\" id=\\\"female\\\" value=\\\"0\\\"> 女</label></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"birthday\\\" class=\\\"col-sm-4 control-label\\\">出生年月：</label><div class=\\\"col-sm-8\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"birthday\\\" name=\\\"birthday\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.birthdayOpen\\\" ng-model=\\\"vm.count.comUser.birthday\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'birthdayOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"politacalStatus\\\" class=\\\"col-sm-4 control-label\\\">政治面貌：</label><div class=\\\"col-sm-8\\\"><select id=\\\"politacalStatus\\\" name=\\\"politacalStatus\\\" ng-model=\\\"vm.count.comUser.politacalStatus\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"党员\\\"></option><option value=\\\"02\\\" label=\\\"团员\\\"></option><option value=\\\"03\\\" label=\\\"公民\\\"></option><option value=\\\"04\\\" label=\\\"其他\\\"></option></select></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"country\\\" class=\\\"col-sm-4 control-label\\\">国籍：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"country\\\" name=\\\"country\\\" ng-model=\\\"vm.count.comUser.country\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"nativePlace\\\" class=\\\"col-sm-4 control-label\\\">籍贯：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"nativePlace\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.nativePlace\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"nation\\\" class=\\\"col-sm-4 control-label\\\">民族：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"nation\\\" name=\\\"nation\\\" ng-model=\\\"vm.count.comUser.nation\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">婚姻状态：</label><div class=\\\"col-sm-8\\\"><select ng-model=\\\"vm.count.comUser.marriage\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"已婚\\\"></option><option value=\\\"02\\\" label=\\\"未婚\\\"></option><option value=\\\"03\\\" label=\\\"离异\\\"></option><option value=\\\"04\\\" label=\\\"丧偶\\\"></option></select></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">生育状态：</label><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.count.comUser.birth\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"email\\\" class=\\\"col-sm-4 control-label\\\">邮箱：</label><div class=\\\"col-sm-8\\\"><input id=\\\"email\\\" class=\\\"form-control input-sm\\\" name=\\\"email\\\" ng-model=\\\"vm.count.comUser.email\\\" type=\\\"email\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"phone\\\" class=\\\"col-sm-4 control-label\\\">联系电话：</label><div class=\\\"col-sm-8\\\"><input id=\\\"phone\\\" class=\\\"form-control input-sm\\\" name=\\\"phone\\\" ng-model=\\\"vm.count.comUser.phone\\\" type=\\\"tel\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"papersType\\\" class=\\\"col-sm-4 control-label\\\">身份证件类型：</label><div class=\\\"col-sm-8\\\"><select id=\\\"papersType\\\" name=\\\"papersType\\\" ng-model=\\\"vm.count.comUser.papersType\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"身份证\\\"></option><option value=\\\"02\\\" label=\\\"居住证\\\"></option><option value=\\\"03\\\" label=\\\"签证\\\"></option><option value=\\\"04\\\" label=\\\"护照\\\"></option><option value=\\\"05\\\" label=\\\"军人证\\\"></option></select></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"papersNo\\\" class=\\\"col-sm-4 control-label\\\">身份证件号码：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"papersNo\\\" name=\\\"papersNo\\\" ng-model=\\\"vm.count.comUser.papersNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"practiceNo\\\" class=\\\"col-sm-4 control-label\\\">执业证书编号：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"practiceNo\\\" name=\\\"practiceNo\\\" ng-model=\\\"vm.count.comUser.practiceNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"practiceApproveDate\\\" class=\\\"col-sm-4 control-label\\\">首次注册时间：</label><div class=\\\"col-sm-8\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"practiceApproveDate\\\" name=\\\"practiceApproveDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.practiceApproveDateIsOpen\\\" ng-model=\\\"vm.count.comUser.practiceApproveDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'practiceApproveDateIsOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">注册机构：</label><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.count.comUser.duty\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"education\\\" class=\\\"col-sm-4 control-label\\\">原始学历：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"education\\\" name=\\\"education\\\" ng-model=\\\"vm.count.comUser.education\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"graduationDate\\\" class=\\\"col-sm-4 control-label\\\">取得时间：</label><div class=\\\"col-sm-8\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"graduationDate\\\" name=\\\"graduationDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.graduationDateOpen\\\" ng-model=\\\"vm.count.comUser.graduationDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'graduationDateOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"graduationSchool\\\" class=\\\"col-sm-4 control-label\\\">学校：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"graduationSchool\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.graduationSchool\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">最高学历：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" ng-model=\\\"vm.count.comUser.hEducation\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">取得时间：</label><div class=\\\"col-sm-8\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.hGraduationDateOpen\\\" ng-model=\\\"vm.count.comUser.hGraduationDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'hGraduationDateOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">学校：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.hGraduationSchool\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"duty\\\" class=\\\"col-sm-4 control-label\\\">职务：</label><div class=\\\"col-sm-8\\\"><input id=\\\"duty\\\" name=\\\"duty\\\" ng-model=\\\"vm.count.comUser.duty\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label for=\\\"technicalPost\\\" class=\\\"col-sm-4 control-label\\\">职称：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" id=\\\"technicalPost\\\" name=\\\"technicalPost\\\" ng-model=\\\"vm.count.comUser.technicalPost\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group col-md-4\\\"><label class=\\\"col-sm-4 control-label\\\">临床层级：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" ng-model=\\\"vm.count.comUser.clinical\\\" class=\\\"form-control input-sm\\\"></div></div></div><div class=\\\"container-fluid\\\"><div class=\\\"form-group col-md-2 pull-right\\\"><button data-type=\\\"comUser\\\" w5c-form-submit=\\\"vm.save(\\'comUser\\', $event)\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></div></form></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"家属\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal comUserFamily-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserFamilyForm\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>姓名</th><th>亲属关系</th><th>联系电话</th><th>邮件</th><th>备注</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserFamily\\\"><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.name\\\"></td><td><input type=\\\"hidden\\\" ng-model=\\\"item.userCode\\\" ng-value=\\\"vm.comUser.userCode\\\"> <input class=\\\"form-control input-sm\\\" ng-model=\\\"item.relation\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.phone\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.email\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.removeItem(\\'comUserFamily\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserFamily\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加成员</button> <button data-type=\\\"comUserFamily\\\" ng-click=\\\"vm.save(\\'comUserFamily\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"职称变更\\\" disable=\\\"!vm.accessible\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline comUserPosition-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"comUserPositionForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>职称</th><th>审批单位</th><th>开始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserPosition track by $index\\\"><td><input class=\\\"form-control input-sm\\\" required=\\\"\\\" name=\\\"positionName\\\" ng-model=\\\"item.positionName\\\" placeholder=\\\"在职职称\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" name=\\\"reviewUnit\\\" required=\\\"\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.reviewUnit\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserPosition_startDate_{{$index}}\\\" required=\\\"\\\" name=\\\"comUserPositionStartDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" on-open-focus=\\\"true\\\" id=\\\"comUserPosition_endDate_{{$index}}\\\" required=\\\"\\\" name=\\\"comUserPositionEndDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserPosition\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserPosition\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加职称</button> <button data-type=\\\"comUserPosition\\\" w5c-form-submit=\\\"vm.save(\\'comUserPosition\\', $event)\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"职务变更\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserNursing-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserNursingForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>工作单位</th><th>单位级别</th><th>所属部门</th><th>职务</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserNursing\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.reviewUnit\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.unitLevel\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.deptName\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.position\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserNursing_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserNursing_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserNursing\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserNursing\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加教育信息</button> <button data-type=\\\"comUserNursing\\\" w5c-form-submit=\\\"vm.save(\\'comUserNursing\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"学历信息\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserLearning-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserLearningForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>描述</th><th>开始时间</th><th>结束时间</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserLearning\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.school\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.professional\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.diploma\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.diplomaNo\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.degree\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.degreeNo\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.describe\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserLearning_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserLearning_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserLearning\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserLearning\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加学历</button> <button data-type=\\\"comUserLearning\\\" ng-click=\\\"vm.save(\\'comUserLearning\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"继续教育\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserTraining-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserTrainingForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学习内容</th><th>主办单位</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>描述</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserTraining\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.learnContent\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.professional\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 3em;\\\" ng-model=\\\"item.diploma\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.speaker\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.creditType\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 4em;\\\" ng-model=\\\"item.credit\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 4em;\\\" ng-model=\\\"item.funding\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.describe\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserTraining_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserTraining_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserTraining\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserTraining\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加继续教育</button> <button data-type=\\\"comUserTraining\\\" ng-click=\\\"vm.save(\\'comUserTraining\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"教育工作\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserEducation-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserEducationForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserEducation\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.educationType\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.leaningTime\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.courseTopics\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.courseContent\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserEducation_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserEducation_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserEducation\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserEducation\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加教育信息</button> <button data-type=\\\"comUserEducation\\\" ng-click=\\\"vm.save(\\'comUserEducation\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab></uib-tabset></div></div>\");\n$templateCache.put(\"app/quality/deal/addDeal.tpl.html\",\"<div class=\\\"mod-pop-dateForm addDeal\\\"><form class=\\\"form-inline w5c-form\\\" name=\\\"addDealForm\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" form=\\\"addDealForm\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">质量检查问题处理</h5></div><div class=\\\"modal-body clearfix\\\"><div class=\\\"form-group\\\"><label for=\\\"code\\\" class=\\\"control-label\\\">检查日期：</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" uib-datepicker-popup=\\\"yyyy-MM-dd\\\" is-open=\\\"popup1\\\" id=\\\"date\\\" name=\\\"date\\\" placeholder=\\\"年-月-日\\\" clear-text=\\\"清除\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" ng-click=\\\"popup1 = true\\\" ng-model=\\\"vm.formData.checkDetail.taskDate\\\" required=\\\"\\\" readonly=\\\"\\\"></div><div class=\\\"form-group\\\"><label for=\\\"form_name\\\" class=\\\"control-label\\\">病区：</label> <input type=\\\"text\\\" value=\\\"\\\" class=\\\"form-control input-sm\\\" id=\\\"form_name\\\" name=\\\"form_name\\\" ng-model=\\\"vm.formData.checkDetail.deptCode\\\" required=\\\"\\\" autocomplete=\\\"off\\\"></div><div class=\\\"form-group\\\"><label for=\\\"form_type\\\" class=\\\"control-label\\\">检查表单：</label><select class=\\\"form-control input-sm\\\" id=\\\"select_form\\\" name=\\\"select_form\\\" required=\\\"\\\" ng-model=\\\"vm.formData.checkDetail.selectForm\\\" ng-options=\\\"x.formName for x in vm.metaData.qualityFormList\\\"></select></div><div class=\\\"form-group\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.checkDetail()\\\">查看检查情况</button></div><div class=\\\"table-box\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped partial-table\\\"><tr><td data-title=\\\"\\'存在问题\\'\\\"><textarea class=\\\"form-control input-sm\\\" placeholder=\\\"点击填写\\\" ng-model=\\\"vm.formData.issueContent\\\"></textarea></td><td data-title=\\\"\\'原因分析\\'\\\"><textarea class=\\\"form-control input-sm\\\" placeholder=\\\"点击填写\\\" ng-model=\\\"vm.formData.reasonAnalysis\\\"></textarea></td><td data-title=\\\"\\'整改要求\\'\\\"><textarea class=\\\"form-control input-sm\\\" placeholder=\\\"点击填写\\\" ng-model=\\\"vm.formData.resDescribe\\\"></textarea></td><td data-title=\\\"\\'整改措施\\'\\\"><textarea class=\\\"form-control input-sm\\\" placeholder=\\\"点击填写\\\" ng-model=\\\"vm.formData.resPlan\\\"></textarea></td><td data-title=\\\"\\'效果评估\\'\\\"><textarea class=\\\"form-control input-sm\\\" placeholder=\\\"点击填写\\\" ng-model=\\\"vm.formData.evaluation\\\"></textarea></td></tr></table></div></div><div class=\\\"modal-footer clearfix\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/quality/deal/checkDetail.tpl.html\",\"<form role=\\\"form\\\" form=\\\"addDealForm\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.metaData.checkDetailList[0].qualityResultDetailList\\\"><td data-title=\\\"\\'序号\\'\\\" class=\\\"text-center\\\">{{ $index }}</td><td data-title=\\\"\\'检查内容及要求\\'\\\" class=\\\"text-center\\\">{{ row.item }}</td><td data-title=\\\"\\'分值\\'\\\" class=\\\"text-center\\\">{{ row.points }}</td><td data-title=\\\"\\'得分\\'\\\" class=\\\"text-center\\\">{{ row.count }}</td><td data-title=\\\"\\'扣分原因\\'\\\" class=\\\"text-center\\\">{{ row.cause }}</td></tr></table><div class=\\\"text-center\\\"><button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">关闭</button></div></form>\");\n$templateCache.put(\"app/quality/deal/deal.tpl.html\",\"<div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>质量检查问题处理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.add()\\\">新增问题</button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-inline pull-right\\\"><div class=\\\"form-group quality-filter\\\"><label for=\\\"month\\\" class=\\\"control-label\\\">月份&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"month\\\"><option>1</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"type\\\" class=\\\"control-label\\\">类型&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"type\\\"><option value=\\\"\\\">全部</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"area\\\" class=\\\"control-label\\\">病区&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"area\\\"></select></div><div class=\\\"form-group quality-filter\\\"><button class=\\\"btn btn-xs btn-primary\\\">查询</button></div></form><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'检查日期\\'\\\" class=\\\"text-center\\\">{{ row.taskTime }}</td><td data-title=\\\"\\'检查病区\\'\\\" class=\\\"text-center\\\">{{ row.deptName }}</td><td data-title=\\\"\\'存在问题\\'\\\" class=\\\"text-center\\\">{{ row.issueContent }}</td><td data-title=\\\"\\'问题分析\\'\\\" class=\\\"text-center\\\">{{ row.reasonAnalysis }}</td><td data-title=\\\"\\'整改要求\\'\\\" class=\\\"text-center\\\">{{ row.resDescribe }}</td><td data-title=\\\"\\'整改措施\\'\\\" class=\\\"text-center\\\">{{ row.resPlan }}</td><td data-title=\\\"\\'整改效果评估\\'\\\" class=\\\"text-center\\\">{{ row.evaluation }}</td><td data-title=\\\"\\'检查类型\\'\\\" class=\\\"text-center\\\">{{ row.type }}</td><td data-title=\\\"\\'检查表\\'\\\" class=\\\"text-center\\\">{{ row.formName }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.edit(row)\\\" uib-tooltip=\\\"修改\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row.seqId)\\\" uib-tooltip=\\\"删除\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/quality/check/check.tpl.html\",\"<div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>质量检查</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-inline pull-right\\\"><div class=\\\"form-group quality-filter\\\"><label for=\\\"month\\\" class=\\\"control-label\\\">月份&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"month\\\"><option>1</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"type\\\" class=\\\"control-label\\\">类型&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"type\\\"><option value=\\\"\\\">全部</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"area\\\" class=\\\"control-label\\\">病区&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"area\\\"></select></div><div class=\\\"form-group quality-filter\\\"><button class=\\\"btn btn-xs btn-primary\\\">查询</button></div></form><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'检查日期\\'\\\" class=\\\"text-center\\\">{{ row.taskDate }}</td><td data-title=\\\"\\'检查病区\\'\\\" class=\\\"text-center\\\">{{ row.deptCode }}</td><td data-title=\\\"\\'检查类型\\'\\\" class=\\\"text-center\\\">{{ row.formType }}</td><td data-title=\\\"\\'检查表\\'\\\" class=\\\"text-center\\\">{{ row.formName }}</td><td data-title=\\\"\\'得分\\'\\\" class=\\\"text-center\\\">{{ row.count }}</td><td data-title=\\\"\\'状态\\'\\\" class=\\\"text-center\\\">{{ row.status }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.edit(row)\\\" uib-tooltip=\\\"修改\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row.seqId)\\\" uib-tooltip=\\\"删除\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/quality/check/editCheck.tpl.html\",\"<div class=\\\"mod-pop-dateForm clearfix editCheck\\\"><form class=\\\"form-inlne form-horizontal w5c-form\\\" name=\\\"addCheckForm\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" form=\\\"addCheckForm\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">质量检查-交班</h5></div><div class=\\\"modal-body clearfix\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-xs-6\\\"><label for=\\\"date\\\" class=\\\"control-label col-xs-3 partial-label\\\">日期：</label><div class=\\\"col-xs-9\\\"><input class=\\\"form-control input-sm input-none\\\" readonly=\\\"\\\" ng-value=\\\"vm.formData.taskDate\\\"></div></div><div class=\\\"form-group col-xs-6\\\"><label for=\\\"area\\\" class=\\\"control-label col-xs-3 partial-label\\\">病区：</label><div class=\\\"col-xs-9\\\"><input class=\\\"form-control input-sm input-none\\\" readonly=\\\"\\\" ng-value=\\\"vm.formData.deptCode\\\"></div></div></div>{{vm.formData.qualityResultDetailList}}<table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.formData.qualityResultDetailList\\\"><td data-title=\\\"\\'序号\\'\\\" class=\\\"text-center\\\"></td><td data-title=\\\"\\'检查内容及要求\\'\\\" class=\\\"text-center\\\">{{ row.item }}</td><td data-title=\\\"\\'分值\\'\\\" class=\\\"text-center\\\">{{ row.points }}</td><td data-title=\\\"\\'得分\\'\\\" class=\\\"col-xs-2 partial-td\\\"><input type=\\\"number\\\" class=\\\"form-control input-sm text-center\\\" ng-model=\\\"row.count\\\" placeholder=\\\"点击填写\\\"></td><td data-title=\\\"\\'扣分原因\\'\\\" class=\\\"text-center col-xs-4 partial-td\\\"><textarea class=\\\"form-control input-sm\\\" placeholder=\\\"点击填写\\\" ng-model=\\\"row.cause\\\">\\r\\n                </textarea></td></tr></table></div><div class=\\\"modal-footer clearfix\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/quality/form/addForm.tpl.html\",\"<div class=\\\"mod-pop-dateForm addQualityForm\\\"><form class=\\\"form-inline w5c-form\\\" name=\\\"addQualityForm\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" form=\\\"addQualityForm\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">新增质量检查表单</h5></div><div class=\\\"modal-body\\\"><div class=\\\"input-row\\\"><div class=\\\"form-group\\\"><label for=\\\"code\\\" class=\\\"control-label\\\">编号：</label> <input type=\\\"text\\\" value=\\\"\\\" class=\\\"form-control input-sm\\\" id=\\\"code\\\" ng-model=\\\"vm.formData.formCode\\\" autocomplete=\\\"off\\\"></div><div class=\\\"form-group\\\"><label for=\\\"form_name\\\" class=\\\"control-label\\\">名称：</label> <input type=\\\"text\\\" value=\\\"\\\" class=\\\"form-control input-sm\\\" id=\\\"form_name\\\" name=\\\"form_name\\\" ng-model=\\\"vm.formData.formName\\\" autocomplete=\\\"off\\\" required=\\\"\\\"></div><div class=\\\"form-group\\\"><label for=\\\"form_type\\\" class=\\\"control-label\\\">类型：</label><select class=\\\"form-control input-sm\\\" id=\\\"form_type\\\" required=\\\"\\\" name=\\\"form_type\\\" ng-model=\\\"vm.formData.formType\\\"><option>1</option></select></div></div><div class=\\\"form-group dept-row\\\"><label for=\\\"dept\\\" class=\\\"control-label pull-left\\\">使用科室：</label><div class=\\\"dept-row-input\\\"><ul class=\\\"deptList\\\"><li ng-repeat=\\\"item in vm.formData.deptList track by $index\\\"><span>{{ item }}</span> <a ng-click=\\\"vm.removeDept($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.deptText\\\" autocomplete=\\\"off\\\" name=\\\"useDept\\\" id=\\\"dept\\\"> <span class=\\\"input-group-btn add\\\"><button ng-click=\\\"vm.addDept()\\\" class=\\\"btn btn-primary btn-sm fa fa-plus\\\" ng-disabled=\\\"addQualityForm.useDept.$invalid || addQualityForm.useDept.$pristine\\\"></button></span></div></div></div><div class=\\\"clearfix\\\"><table class=\\\"table table-condensed table-bordered table-striped partial-grid\\\"><thead><tr><th class=\\\"text-center col\\\">序号</th><th class=\\\"text-center col\\\">检查内容及要求</th><th class=\\\"text-center col\\\">标准分</th><th class=\\\"text-center col\\\">检查方法及扣分标准</th><th class=\\\"text-center col\\\">操作</th></tr></thead><tbody><tr ng-repeat=\\\"row in vm.formData.qualityFormDetailList track by $index\\\"><td class=\\\"text-center\\\">{{ row.detailCode }}</td><td class=\\\"text-center\\\">{{ row.item }}</td><td class=\\\"text-center\\\">{{ row.points }}</td><td class=\\\"text-center\\\">{{ row.stantard }}</td><td class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeDetailList($index)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></tbody></table><ul class=\\\"clearfix partial-grid partial-list\\\"><li class=\\\"pull-left col\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm text-center\\\" ng-model=\\\"vm.detailList.detailCode\\\"></li><li class=\\\"pull-left col\\\"><textarea class=\\\"form-control text-center\\\" ng-model=\\\"vm.detailList.item\\\"></textarea></li><li class=\\\"pull-left col\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm text-center\\\" ng-model=\\\"vm.detailList.points\\\"></li><li class=\\\"pull-left col\\\"><textarea class=\\\"form-control text-center\\\" ng-model=\\\"vm.detailList.stantard\\\"></textarea></li><li class=\\\"text-center pull-left col\\\"><button class=\\\"btn btn-primary btn-xs text-center\\\" uib-tooltip=\\\"增加\\\" ng-click=\\\"vm.addDetailList(vm.detailList)\\\"><span class=\\\"fa fa-plus\\\"></span></button></li></ul></div></div><div class=\\\"modal-footer clearfix\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/quality/form/form.tpl.html\",\"<div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>质量检查表单管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addForm()\\\">新增表单</button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-inline pull-right\\\"><div class=\\\"form-group quality-filter\\\"><label for=\\\"type\\\" class=\\\"control-label\\\">{{vm.filter_type.selected}}类型&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"type\\\" ng-model=\\\"vm.filter_type.selected\\\" ng-options=\\\"x.type for x in vm.filter_type\\\"></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"area\\\" class=\\\"control-label\\\">病区&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"area\\\" ng-model=\\\"vm.filter_area.selected\\\" ng-options=\\\"x.type for x in vm.filter_area\\\"></select></div><div class=\\\"form-group quality-filter\\\"><button class=\\\"btn btn-xs btn-primary\\\">查询</button></div></form><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'编号\\'\\\" class=\\\"text-center\\\">{{ row.seqId }}</td><td data-title=\\\"\\'类型\\'\\\" class=\\\"text-center\\\">{{ row.formType }}</td><td data-title=\\\"\\'表单名称\\'\\\" class=\\\"text-center\\\">{{ row.formName }}</td><td data-title=\\\"\\'使用科室\\'\\\" class=\\\"text-center\\\">{{ row.deptCode }}</td><td data-title=\\\"\\'创建时间\\'\\\" class=\\\"text-center\\\">{{ row.createTime }}</td><td data-title=\\\"\\'状态\\'\\\" class=\\\"text-center\\\">{{ row.status }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.edit(row)\\\" uib-tooltip=\\\"修改\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row.seqId)\\\" uib-tooltip=\\\"删除\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/quality/task/addTask.tpl.html\",\"<div class=\\\"mod-pop-dateForm clearfix\\\"><form class=\\\"form-inlne form-horizontal w5c-form\\\" name=\\\"addQualityForm\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" form=\\\"addQualityForm\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">质量检查任务</h5></div><div class=\\\"modal-body clearfix\\\"><div class=\\\"form-group\\\"><label for=\\\"date\\\" class=\\\"control-label col-xs-2 partial-label\\\">检查日期：</label><div class=\\\"col-xs-4\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" uib-datepicker-popup=\\\"yyyy-MM-dd\\\" is-open=\\\"popup1\\\" id=\\\"date\\\" name=\\\"date\\\" required=\\\"\\\" placeholder=\\\"年-月-日\\\" clear-text=\\\"清除\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" ng-click=\\\"popup1 = true\\\" ng-model=\\\"vm.formData.taskDate\\\" readonly=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"dept\\\" class=\\\"control-label col-xs-2 partial-label\\\">检查科室：</label><div class=\\\"col-xs-10\\\"><ul class=\\\"deptList\\\"><li ng-repeat=\\\"item in vm.formData.deptList track by $index\\\"><span>{{ item }}</span> <a ng-click=\\\"vm.removeDept($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.deptText\\\" autocomplete=\\\"off\\\" name=\\\"useDept\\\" id=\\\"dept\\\"> <span class=\\\"input-group-btn add\\\"><button ng-click=\\\"vm.addDept()\\\" class=\\\"btn btn-primary btn-sm fa fa-plus\\\" ng-disabled=\\\"addQualityForm.useDept.$invalid || addQualityForm.useDept.$pristine\\\"></button></span></div></div></div><div class=\\\"form-group\\\"><label for=\\\"select_form\\\" class=\\\"control-label col-xs-2 partial-label\\\">检查表单：</label><div class=\\\"col-xs-4\\\"><select class=\\\"form-control input-sm\\\" id=\\\"select_form\\\" required=\\\"\\\" name=\\\"select_form\\\" ng-model=\\\"vm.formData.formCode\\\" ng-options=\\\"x.formName for x in vm.metaData.qualityFormList\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"hand_user\\\" class=\\\"control-label col-xs-2 partial-label\\\">检查组长：</label><div class=\\\"col-xs-4\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"hand_user\\\" autocomplete=\\\"off\\\" required=\\\"\\\" name=\\\"handUserName\\\" ng-model=\\\"vm.formData.handUserName\\\" value=\\\"\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"member\\\" class=\\\"control-label col-xs-2 partial-label\\\">检查组员：</label><div class=\\\"col-xs-10\\\"><ul class=\\\"deptList\\\"><li ng-repeat=\\\"item in vm.formData.memberList track by $index\\\"><span>{{ item }}</span> <a ng-click=\\\"vm.removeMember($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.memberText\\\" autocomplete=\\\"off\\\" name=\\\"member\\\" id=\\\"member\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addMember()\\\" class=\\\"btn btn-primary btn-sm fa fa-plus\\\" ng-disabled=\\\"addQualityForm.member.$invalid || addQualityForm.member.$pristine\\\"></button></span></div></div></div></div><div class=\\\"modal-footer clearfix\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/quality/task/task.tpl.html\",\"<div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>任务管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addTask()\\\">新增任务</button></div></div><div class=\\\"panel-body\\\">{{vm.formData.task_form.current_selected}}<form class=\\\"form-inline pull-right\\\"><div class=\\\"form-group quality-filter\\\"><label for=\\\"month\\\" class=\\\"control-label\\\">月份&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"month\\\"><option>1</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"type\\\" class=\\\"control-label\\\">类型&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"type\\\"></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"area\\\" class=\\\"control-label\\\">病区&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"area\\\"></select></div><div class=\\\"form-group quality-filter\\\"><button class=\\\"btn btn-xs btn-primary\\\">查询</button></div></form><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'检查日期\\'\\\" class=\\\"text-center\\\">{{ row.taskDate }}</td><td data-title=\\\"\\'状态\\'\\\" class=\\\"text-center\\\">{{ row.status }}</td><td data-title=\\\"\\'检查病区\\'\\\" class=\\\"text-center\\\">{{ row.deptCode }}</td><td data-title=\\\"\\'检查类型\\'\\\" class=\\\"text-center\\\">{{ row.formType }}</td><td data-title=\\\"\\'检查表\\'\\\" class=\\\"text-center\\\">{{ row.formName }}</td><td data-title=\\\"\\'检查组长\\'\\\" class=\\\"text-center\\\">{{ row.handUserName }}</td><td data-title=\\\"\\'检查组成员\\'\\\" class=\\\"text-center\\\">{{ row.joinUserName }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.editTask(row)\\\" uib-tooltip=\\\"修改\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteTask(row.seqId)\\\" uib-tooltip=\\\"删除\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/research/item/item.model.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写科研管理</h5></div><form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">课题名称：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.subjectName\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">项目来源：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.itemSource\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">起始日期：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.startDate\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">结束日期：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.endDate\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">经费：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.cost\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">负责人：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.subjectHead\\\"></div></div><div class=\\\"form-group col-md-12\\\"><div class=\\\"col-sm-2\\\"><label class=\\\"control-label\\\">参与人：</label></div><div class=\\\"col-sm-10\\\"><input ng-model=\\\"vm.formData.subjectParticipant\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/research/item/item.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-balance-scale\\\"></i> <span>科研项目管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"vm.open()\\\">新增</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>课题名称</th><th>项目来源</th><th>起始日期</th><th>结束日期</th><th>经费</th><th>课题负责人</th><th>课题参与人</th><th>操作</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.subjectName }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.itemSource }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.startDate }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.endDate }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.cost }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.subjectHead }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.subjectParticipant }}</td><td class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.edit(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/research/papers/papers.model.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写科研论文</h5></div><form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">论文名称：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.paperName\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">作者：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.author\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">刊物名称：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.publictionName\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">刊号：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.publictionNo\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">字数：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.wordsNumber\\\"></div></div><div class=\\\"form-group col-md-6\\\"><div class=\\\"col-sm-4\\\"><label class=\\\"control-label\\\">核心刊物：</label></div><div class=\\\"col-sm-8\\\"><input ng-model=\\\"vm.formData.corePubliction\\\"></div></div><div class=\\\"form-group col-md-12\\\"><div class=\\\"col-sm-2\\\"><label class=\\\"control-label\\\">发表日期：</label></div><div class=\\\"col-sm-10\\\"><input ng-model=\\\"vm.formData.publishDate\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/research/papers/papers.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-balance-scale\\\"></i> <span>科研论文管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"vm.add()\\\">新增</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>论文名称</th><th>作者</th><th>刊物名称</th><th>刊号</th><th>字数</th><th>核心刊物</th><th>发表日期</th><th>操作</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td class=\\\"text-center\\\">{{ row.paperName }}</td><td class=\\\"text-center\\\">{{ row.author }}</td><td class=\\\"text-center\\\">{{ row.publictionName }}</td><td class=\\\"text-center\\\">{{ row.publictionNo }}</td><td class=\\\"text-center\\\">{{ row.wordsNumber }}</td><td class=\\\"text-center\\\">{{ row.corePubliction }}</td><td class=\\\"text-center\\\">{{ row.publishDate }}</td><td class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.edit(row)\\\" uib-tooltip=\\\"编辑\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deletePapers(row.seqId)\\\" uib-tooltip=\\\"删除\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/system/roles/addRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.roleName\\\" id=\\\"roleName\\\" name=\\\"roleName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/system/roles/roles.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>角色列表</span></div><div class=\\\"panel-body list\\\"><ul class=\\\"sublist\\\"><li ng-repeat=\\\"item in vm.roleData\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': item.roleCode === vm.roleDetail.roleCode}\\\"><a ng-click=\\\"vm.load(item)\\\" data-role-code=\\\"{{item.roleCode}}\\\" class=\\\"sublist__item\\\">{{item.roleName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>角色信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\">添加角色</button></div></div><div class=\\\"panel-body\\\"><form data-role-id=\\\"{{vm.roleDetail.seqId}}\\\" class=\\\"form form-horizontal w5c-form role-edit-form change-user-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"roleEditForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"roleCode\\\" class=\\\"col-sm-3 control-label\\\">角色编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" ng-model=\\\"vm.roleDetail.roleCode\\\" id=\\\"roleCode\\\" name=\\\"roleCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"roleName\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.roleDetail.roleName\\\" id=\\\"roleName\\\" name=\\\"roleName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" ng-disabled=\\\"\\\" w5c-form-submit=\\\"vm.edit()\\\">保存</button> <button class=\\\"btn btn-sm btn-danger\\\" type=\\\"button\\\" ng-disabled=\\\"\\\" ng-click=\\\"vm.del()\\\">删除</button></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"remark\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" id=\\\"remark\\\" name=\\\"remark\\\" ng-model=\\\"vm.roleDetail.remark\\\"></textarea></div></div></div></div><div class=\\\"navgation-edition container-fluid\\\" ng-if=\\\"vm.roleDetail\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-danger\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>未添加的功能</span></div><uib-accordion class=\\\"list-accordion\\\" close-others=\\\"false\\\"><uib-accordion-group ng-repeat=\\\"item in vm.notHaveList\\\" panel-class=\\\"list__title\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><span class=\\\"dept-list__text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"dept-sublist\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ng-click=\\\"vm.navExchange(item, subItem, $parent.$index, $index, \\'add\\')\\\" class=\\\"sublist__item\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div><div class=\\\"col-md-2 exchange-icon\\\"><div class=\\\"text-center\\\"><i class=\\\"fa fa-exchange\\\"></i></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-success\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>已添加的功能</span></div><uib-accordion class=\\\"list-accordion\\\" close-others=\\\"false\\\"><uib-accordion-group ng-repeat=\\\"item in vm.hadList\\\" panel-class=\\\"list__title\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><span class=\\\"dept-list__text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"dept-sublist\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ng-click=\\\"vm.navExchange(item, subItem, $parent.$index, $index, \\'remove\\')\\\" class=\\\"sublist__item\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/system/users/addExistRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">编辑用户角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-options=\\\"role.roleName for role in vm.metaData.roleList track by role.roleCode\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.role\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">所属科室：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-options=\\\"dept.deptName for dept in vm.metaData.deptList track by dept.deptCode\\\" name=\\\"dept\\\" ng-model=\\\"vm.formData.dept\\\"></select></div></div></div></div></form></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.roleBtnStatus.state}}\\\" type=\\\"button\\\" ng-click=\\\"vm.formData = {data: [{roleCode:vm.formData.role.roleCode,deptCode: vm.formData.dept.deptCode, userId: vm.metaData.currentUser.seqId}]}; vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/system/users/addUser.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">所属部门：</label><div class=\\\"col-sm-9\\\"><input type=\\\"hidden\\\" name=\\\"deptCode\\\" ng-model=\\\"vm.formData.deptCode\\\"> <input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.deptName\\\" readonly=\\\"\\\" id=\\\"deptCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">用户姓名：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.userName\\\" ng-change=\\\"vm.formData.userCode = (vm.metaData.userList | filter:vm.formData.userName)[0].userCode\\\"><option ng-repeat=\\\"user in vm.metaData.userList\\\" value=\\\"{{user.userName}}\\\">{{user.userName}}</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">用户编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.userCode\\\" id=\\\"userCode\\\" readonly=\\\"\\\" name=\\\"userCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">登录名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.loginName\\\" id=\\\"loginName\\\" name=\\\"loginName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">密码：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.password\\\" id=\\\"password\\\" name=\\\"password\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/system/users/users.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><uib-accordion class=\\\"list-accordion\\\"><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode, vm.deptData.deptName)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter:vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode, subItem.deptName)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></uib-accordion></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>用户信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\" ng-disabled=\\\"!vm.selectedDept\\\">添加用户</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': row.userCode === vm.selectedUser.userCode}\\\" ng-click=\\\"vm.showRole(row)\\\"><td data-title=\\\"\\'员工编号\\'\\\">{{row.userCode}}</td><td data-title=\\\"\\'用户姓名\\'\\\">{{row.userName}}</td><td data-title=\\\"\\'登录名\\'\\\">{{row.loginName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" uib-tooltip=\\\"编辑用户信息\\\" ng-click=\\\"vm.open(row)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除用户\\\" ng-click=\\\"vm.del(row.seqId)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-if=\\\"vm.selectedUser\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>用户角色</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.openRole()\\\" class=\\\"btn btn-primary btn-xs\\\" ng-disabled=\\\"!vm.selectedDept\\\">添加现有角色</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.roleTableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'角色编号\\'\\\">{{row.roleCode}}</td><td data-title=\\\"\\'所属部门\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'角色名称\\'\\\">{{row.roleName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除这个角色\\\" ng-click=\\\"vm.delUserRole(row.seqId)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/techFiles/jci/jci.tpl.html\",\"<div class=\\\"col-md-2\\\" print-remove=\\\"\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter: vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>人员数据</span><div class=\\\"pull-right\\\"><button print-btn=\\\"\\\" class=\\\"btn btn-primary btn-xs\\\">打印</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" print-table=\\\"vm.userDataList\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserId === row.userCode}\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\"><td data-title=\\\"\\'工号\\'\\\">{{row.hisCode}}</td><td data-title=\\\"\\'姓名\\'\\\">{{row.userName}}</td><td data-title=\\\"\\'病区\\'\\\">{{ row.area }}</td><td data-title=\\\"\\'出生时间\\'\\\">{{row.birthday}}</td><td data-title=\\\"\\'性别\\'\\\">{{row.gender == \\'1\\' ? \\'男\\': \\'女\\'}}</td><td data-title=\\\"\\'毕业时间\\'\\\">{{row.graduationDate}}</td><td data-title=\\\"\\'毕业院校\\'\\\">{{row.graduationSchool}}</td><td data-title=\\\"\\'获得学位\\'\\\">{{row.degree}}</td><td data-title=\\\"\\'护士资格证编号\\'\\\">{{row.NQCCode}}</td><td data-title=\\\"\\'操作\\'\\\" print-remove=\\\"\\\" ng-click=\\\"coreCtrl.limitEvent($event)\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑员工信息\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-show=\\\"vm.selectedUserId\\\"><div class=\\\"panel-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"岗位职责\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>岗位名称</th><th>工作概要</th><th>上下关系</th><th>工作职责</th><th>工作标准</th><th>其他要求</th><th>开始时间</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.posStatement\\\"><td>{{item.positionName}}</td><td>{{item.jobSummary}}</td><td>{{item.leaderMemberRelation}}</td><td>{{item.responsibilities}}</td><td>{{item.jobStandard}}</td><td>{{item.otherRequirements}}</td><td>{{item.beginTime}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"岗前培训\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>级别</th><th>培训名称</th><th>开始时间</th><th>结束时间</th><th>考核情况</th><th>合格证书</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.preJobTrain\\\"><td>{{item.rank}}</td><td>{{item.trainName}}</td><td>{{item.beginTime}}</td><td>{{item.endTime}}</td><td>{{item.assessmentCondition}}</td><td>{{item.certificateQualification}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"评估考核\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>考核内容</th><th>考核时间</th><th>考核结果</th><th>审核人</th></tr><tr ng-repeat=\\\"item in vm.detail.assessment\\\"><td>{{item.assessmentContent}}</td><td>{{item.assessmentTime}}</td><td>{{item.assessmentResult}}</td><td>{{item.auditor}}</td></tr></table></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"继续教育\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>级别</th><th>教育名称</th><th>开始时间</th><th>结束时间</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.conEducation\\\"><td>{{item.rank}}</td><td>{{item.educationName}}</td><td>{{item.beginTime}}</td><td>{{item.endTime}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"CPR/ACLS证书\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>培训时间</th><th>培训名称</th><th>考核情况</th><th>合格证书</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.cprAcls\\\"><td>{{item.trainTime}}</td><td>{{item.trainName}}</td><td>{{item.assessmentContent}}</td><td>{{item.certificateQualification}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"教育记录与考核\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>开始时间</th><th>结束时间</th><th>级别</th><th>培训名称</th><th>考核结果</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.eduRecord\\\"><td>{{item.beginTime}}</td><td>{{item.endTime}}</td><td>{{item.rank}}</td><td>{{item.trainName}}</td><td>{{item.assessmentResult}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab></uib-tabset></div></div></div>\");\n$templateCache.put(\"app/techFiles/jci/modal.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写护士信息</h5></div><div class=\\\"modal-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"hisCode\\\" class=\\\"col-sm-3 control-label\\\">工号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.detail.info.hisCode\\\" id=\\\"hisCode\\\" name=\\\"hisCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"userName\\\" class=\\\"col-sm-3 control-label\\\">姓名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.detail.info.userName\\\" id=\\\"userName\\\" name=\\\"userName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"male\\\" class=\\\"col-sm-3 control-label\\\">性别：</label><div class=\\\"col-sm-9\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.detail.info.gender\\\" id=\\\"male\\\" value=\\\"1\\\"> 男</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.detail.info.gender\\\" id=\\\"female\\\" value=\\\"0\\\"> 女</label></div></div><div class=\\\"form-group\\\"><label for=\\\"birthday\\\" class=\\\"col-sm-3 control-label\\\">出生日期：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"birthday\\\" name=\\\"birthday\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.birthdayOpen\\\" ng-model=\\\"vm.detail.info.birthday\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.birthdayOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"graduationSchool\\\" class=\\\"col-sm-3 control-label\\\">毕业学校：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"graduationSchool\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.detail.info.graduationSchool\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"graduationDate\\\" class=\\\"col-sm-3 control-label\\\">毕业时间：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"graduationDate\\\" name=\\\"graduationDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.graduationDateOpen\\\" ng-model=\\\"vm.detail.info.graduationDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.graduationDateOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"education\\\" class=\\\"col-sm-3 control-label\\\">学历：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"education\\\" name=\\\"education\\\" ng-model=\\\"vm.detail.info.education\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceNo\\\" class=\\\"col-sm-3 control-label\\\">护士资格证编号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"practiceNo\\\" name=\\\"practiceNo\\\" ng-model=\\\"vm.detail.info.practiceNo\\\" class=\\\"form-control input-sm\\\"></div></div></div></div><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label> <button w5c-form-submit=\\\"vm.save()\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></div></div></form></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"岗位职责\\\"><form class=\\\"form-horizontal form-inline posStatement-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"posStatementForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>岗位名称</th><th>工作概要</th><th>上下关系</th><th>工作职责</th><th>工作标准</th><th>其他要求</th><th>开始时间</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.posStatement track by $index\\\"><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"positionName\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.positionName\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"jobSummary\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.jobSummary\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"leaderMemberRelation\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.leaderMemberRelation\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"responsibilities\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.responsibilities\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"jobStandard\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.jobStandard\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"otherRequirements\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.otherRequirements\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"beginTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" ng-model=\\\"item.beginTime\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.startDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'posStatement\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'posStatement\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'posStatement\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"岗前培训\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline preJobTrain-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"preJobTrainForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>级别</th><th>培训名称</th><th>开始时间</th><th>结束时间</th><th>状态</th><th>合格证书</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.preJobTrain track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"rank\\\" ng-model=\\\"item.rank\\\"><option value=\\\"{{rank}}\\\" ng-repeat=\\\"rank in vm.rankArray\\\">{{rank}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"trainName\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.trainName\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"beginTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.beginTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.startDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"endTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.endTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.endDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><select class=\\\"form-control input-sm\\\" name=\\\"assessmentCondition\\\" ng-model=\\\"item.assessmentCondition\\\"><option value=\\\"{{result}}\\\" ng-repeat=\\\"result in vm.resultArray\\\">{{result}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"certificateQualification\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.certificateQualification\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'preJobTrain\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'preJobTrain\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'preJobTrain\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"评估考核\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline assessment-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"assessmentForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>考核内容</th><th>考核时间</th><th>考核结果</th><th>审核人</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.assessment track by $index\\\"><td><input class=\\\"form-control input-sm\\\" name=\\\"assessmentContent\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.assessmentContent\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"assessmentTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.assDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.assessmentTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.assDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm\\\" name=\\\"assessmentResult\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.assessmentResult\\\"></td><td><input class=\\\"form-control input-sm\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'assessment\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'assessment\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'assessment\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"继续教育\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline conEducation-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"conEducationForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>级别</th><th>教育名称</th><th>开始时间</th><th>结束时间</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.conEducation track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"rank\\\" ng-model=\\\"item.rank\\\"><option value=\\\"{{rank}}\\\" ng-repeat=\\\"rank in vm.rankArray\\\">{{rank}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"educationName\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.educationName\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"beginTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.beginTimeIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.beginTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.beginTimeIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"endTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endTimeIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.endTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.endTimeIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'conEducation\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'conEducation\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'conEducation\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"CPR/ACLS证书\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline cprAcls-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"cprAclsForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>培训时间</th><th>培训名称</th><th>考核情况</th><th>合格证书</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.cprAcls track by $index\\\"><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"trainTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.trainTimeIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.trainTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.trainTimeIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"trainName\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.trainName\\\"></td><td><select class=\\\"form-control input-sm\\\" name=\\\"assessmentContent\\\" ng-model=\\\"item.assessmentContent\\\"><option value=\\\"{{result}}\\\" ng-repeat=\\\"result in vm.resultArray\\\">{{result}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"certificateQualification\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.certificateQualification\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'cprAcls\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'cprAcls\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'cprAcls\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"教育记录与考核\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline eduRecord-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"eduRecordForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>开始时间</th><th>结束时间</th><th>级别</th><th>培训名称</th><th>考核结果</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.eduRecord track by $index\\\"><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"beginTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.beginTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.startDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"endTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.endTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.endDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><select class=\\\"form-control input-sm\\\" name=\\\"rank\\\" ng-model=\\\"item.rank\\\"><option value=\\\"{{rank}}\\\" ng-repeat=\\\"rank in vm.rankArray\\\">{{rank}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"trainName\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.trainName\\\"></td><td><select class=\\\"form-control input-sm\\\" name=\\\"assessmentResult\\\" ng-model=\\\"item.assessmentResult\\\"><option value=\\\"{{result}}\\\" ng-repeat=\\\"result in vm.resultArray\\\">{{result}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'eduRecord\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'eduRecord\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'eduRecord\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab></uib-tabset></div></div>\");\n$templateCache.put(\"app/techFiles/techFiles/modal.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写护士信息</h5></div><div class=\\\"modal-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"hisCode\\\" class=\\\"col-sm-3 control-label\\\">工号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.detail.info.hisCode\\\" id=\\\"hisCode\\\" name=\\\"hisCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"userName\\\" class=\\\"col-sm-3 control-label\\\">姓名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.detail.info.userName\\\" id=\\\"userName\\\" name=\\\"userName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"male\\\" class=\\\"col-sm-3 control-label\\\">性别：</label><div class=\\\"col-sm-9\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.detail.info.gender\\\" id=\\\"male\\\" value=\\\"1\\\"> 男</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.detail.info.gender\\\" id=\\\"female\\\" value=\\\"0\\\"> 女</label></div></div><div class=\\\"form-group\\\"><label for=\\\"birthday\\\" class=\\\"col-sm-3 control-label\\\">出生日期：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"birthday\\\" name=\\\"birthday\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.birthdayOpen\\\" ng-model=\\\"vm.detail.info.birthday\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.birthdayOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"graduationSchool\\\" class=\\\"col-sm-3 control-label\\\">毕业学校：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"graduationSchool\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.detail.info.graduationSchool\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"graduationDate\\\" class=\\\"col-sm-3 control-label\\\">毕业时间：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"graduationDate\\\" name=\\\"graduationDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.graduationDateOpen\\\" ng-model=\\\"vm.detail.info.graduationDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.graduationDateOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"education\\\" class=\\\"col-sm-3 control-label\\\">学历：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"education\\\" name=\\\"education\\\" ng-model=\\\"vm.detail.info.education\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceNo\\\" class=\\\"col-sm-3 control-label\\\">护士资格证编号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"practiceNo\\\" name=\\\"practiceNo\\\" ng-model=\\\"vm.detail.info.practiceNo\\\" class=\\\"form-control input-sm\\\"></div></div></div></div><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label> <button w5c-form-submit=\\\"vm.save()\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></div></div></form></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"护士分层分级登记\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline nurseHirReg-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"nurseHirRegForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>开始时间</th><th>结束时间</th><th>层级</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.nurseHirReg track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"wardCode\\\" ng-model=\\\"item.wardCode\\\"><option value=\\\"\\\">请选择</option><option value=\\\"{{item.deptCode}}\\\" ng-repeat=\\\"item in vm.deptData\\\">{{item.deptName}}</option></select></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"beginTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.beginTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.startDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"endTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.endTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.endDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"hierarchy\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.hierarchy\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'nurseHirReg\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'nurseHirReg\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'nurseHirReg\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"专科护士经历\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline nurseExp-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"nurseExpForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>开始时间</th><th>结束时间</th><th>级别</th><th>所属专科</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.nurseExp track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"wardCode\\\" ng-model=\\\"item.wardCode\\\"><option value=\\\"\\\">请选择</option><option value=\\\"{{item.deptCode}}\\\" ng-repeat=\\\"item in vm.deptData\\\">{{item.deptName}}</option></select></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"beginTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.beginTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.startDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"endTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.endTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.endDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><select class=\\\"form-control input-sm\\\" name=\\\"rank\\\" ng-model=\\\"item.rank\\\"><option value=\\\"{{rank}}\\\" ng-repeat=\\\"rank in vm.rankArray\\\">{{rank}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"juniorCollege\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.juniorCollege\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'nurseExp\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'nurseExp\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'nurseExp\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"学术会议、学习班\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline academic-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"academicForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>会议名称</th><th>会议时间</th><th>会议地点</th><th>主办单位</th><th>学分</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.academic track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"wardCode\\\" ng-model=\\\"item.wardCode\\\"><option value=\\\"\\\">请选择</option><option value=\\\"{{item.deptCode}}\\\" ng-repeat=\\\"item in vm.deptData\\\">{{item.deptName}}</option></select></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"meetingName\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.meetingName\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"meetingDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.meetingDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.meetingDate\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.meetingDateIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"meetingSite\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.meetingSite\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"hostUnit\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.hostUnit\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"credit\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.credit\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'academic\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'academic\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'academic\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"奖励情况\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline award-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"awardForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>奖励时间</th><th>奖励原因</th><th>奖励措施</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.award track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"wardCode\\\" ng-model=\\\"item.wardCode\\\"><option value=\\\"\\\">请选择</option><option value=\\\"{{item.deptCode}}\\\" ng-repeat=\\\"item in vm.deptData\\\">{{item.deptName}}</option></select></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"apTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.apTimeIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.apTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.apTimeIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"reason\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.reason\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"measure\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.measure\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'awardPunish\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'awardPunish\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'award\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"惩罚情况\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline punish-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"punishForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>惩罚时间</th><th>惩罚原因</th><th>惩罚措施</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.punish track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"wardCode\\\" ng-model=\\\"item.wardCode\\\"><option value=\\\"\\\">请选择</option><option value=\\\"{{item.deptCode}}\\\" ng-repeat=\\\"item in vm.deptData\\\">{{item.deptName}}</option></select></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"apTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.apTimeIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.apTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.apTimeIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"reason\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.reason\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"measure\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.measure\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'awardPunish\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'awardPunish\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'punish\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"个人考核结果\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline perAssessment-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"perAssessmentForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>考核时间</th><th>考核项目</th><th>考核结果</th><th>审核人</th><th>备注</th><th>操作</th></tr><tr ng-repeat=\\\"item in vm.detail.perAssessment track by $index\\\"><td><select class=\\\"form-control input-sm\\\" name=\\\"wardCode\\\" ng-model=\\\"item.wardCode\\\"><option value=\\\"\\\">请选择</option><option value=\\\"{{item.deptCode}}\\\" ng-repeat=\\\"item in vm.deptData\\\">{{item.deptName}}</option></select></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" name=\\\"assessmentTime\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.assessmentTimeIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" required=\\\"\\\" ng-model=\\\"item.assessmentTime\\\" timestamp-to-string=\\\"\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"item.assessmentTimeIsOpen = true\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"assessmentItem\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.assessmentItem\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"assessmentResult\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.assessmentResult\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"auditor\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.auditor\\\"></td><td><input class=\\\"form-control input-sm input-tiny\\\" name=\\\"remark\\\" type=\\\"text\\\" required=\\\"\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.saveItem(\\'perAssessment\\', item)\\\" class=\\\"btn btn-sm btn-info\\\">保存</button> <button ng-click=\\\"vm.removeItem(\\'perAssessment\\', item.seqId, $index)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'perAssessment\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加</button></div></form></uib-tab></uib-tabset></div></div>\");\n$templateCache.put(\"app/techFiles/techFiles/techFiles.tpl.html\",\"<div class=\\\"col-md-2\\\" print-remove=\\\"\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter: vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>人员数据</span><div class=\\\"pull-right\\\"><button print-btn=\\\"\\\" class=\\\"btn btn-primary btn-xs\\\">打印</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" print-table=\\\"vm.userDataList\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserId === row.userCode}\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\"><td data-title=\\\"\\'工号\\'\\\">{{row.hisCode}}</td><td data-title=\\\"\\'姓名\\'\\\">{{row.userName}}</td><td data-title=\\\"\\'病区\\'\\\">{{ row.area }}</td><td data-title=\\\"\\'出生时间\\'\\\">{{row.birthday}}</td><td data-title=\\\"\\'性别\\'\\\">{{row.gender == \\'1\\' ? \\'男\\': \\'女\\'}}</td><td data-title=\\\"\\'毕业时间\\'\\\">{{row.graduationDate}}</td><td data-title=\\\"\\'毕业院校\\'\\\">{{row.graduationSchool}}</td><td data-title=\\\"\\'获得学位\\'\\\">{{row.degree}}</td><td data-title=\\\"\\'护士资格证编号\\'\\\">{{row.NQCCode}}</td><td data-title=\\\"\\'操作\\'\\\" print-remove=\\\"\\\" ng-click=\\\"coreCtrl.limitEvent($event)\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑员工信息\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-show=\\\"vm.selectedUserId\\\"><div class=\\\"panel-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"护士分层分级登记\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>开始时间</th><th>结束时间</th><th>层级</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.nurseHirReg\\\"><td>{{vm.getDeptName(item.wardCode)}}</td><td>{{item.beginTime}}</td><td>{{item.endTime}}</td><td>{{item.hierarchy}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"专科护士经历\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>开始时间</th><th>结束时间</th><th>级别</th><th>所属专科</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.nurseExp\\\"><td>{{vm.getDeptName(item.wardCode)}}</td><td>{{item.beginTime}}</td><td>{{item.endTime}}</td><td>{{item.rank}}</td><td>{{item.juniorCollege}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"学术会议、学习班\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>会议名称</th><th>会议时间</th><th>会议地点</th><th>主办单位</th><th>学分</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.academic\\\"><td>{{vm.getDeptName(item.wardCode)}}</td><td>{{item.meetingName}}</td><td>{{item.meetingDate}}</td><td>{{item.meetingSite}}</td><td>{{item.hostUnit}}</td><td>{{item.credit}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"奖励情况\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>奖励时间</th><th>奖励原因</th><th>奖励措施</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.awardPunish | filter: {apType: 1}\\\"><td>{{vm.getDeptName(item.wardCode)}}</td><td>{{item.apTime}}</td><td>{{item.reason}}</td><td>{{item.measure}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"惩罚情况\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>惩罚时间</th><th>惩罚原因</th><th>惩罚措施</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.awardPunish | filter: {apType: 2}\\\"><td>{{vm.getDeptName(item.wardCode)}}</td><td>{{item.apTime}}</td><td>{{item.reason}}</td><td>{{item.measure}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"个人考核结果\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>病区</th><th>考核时间</th><th>考核项目</th><th>考核结果</th><th>审核人</th><th>备注</th></tr><tr ng-repeat=\\\"item in vm.detail.perAssessment\\\"><td>{{vm.getDeptName(item.wardCode)}}</td><td>{{item.assessmentTime}}</td><td>{{item.assessmentItem}}</td><td>{{item.assessmentResult}}</td><td>{{item.auditor}}</td><td>{{item.remark}}</td></tr></table></uib-tab></uib-tabset></div></div></div>\");\n$templateCache.put(\"app/common/tpls/timepicker/timepicer.html\",\"<div class=\\\"uib-timepicker\\\"><div class=\\\"form-input\\\"><div class=\\\"form-group uib-time hours\\\" ng-class=\\\"{\\'has-error\\': invalidHours}\\\"><input type=\\\"text\\\" placeholder=\\\"HH\\\" ng-model=\\\"hours\\\" ng-change=\\\"updateHours()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementHours()\\\" ng-blur=\\\"blur()\\\"><div class=\\\"time-spinner\\\" ng-show=\\\"::showSpinners\\\"><a ng-click=\\\"incrementHours()\\\" ng-class=\\\"{disabled: noIncrementHours()}\\\" class=\\\"btn btn-link time-spinner_btn\\\" ng-disabled=\\\"noIncrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"fa fa-chevron-up\\\"></span></a> <a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn btn-link time-spinner_btn\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"fa fa-chevron-down\\\"></span></a></div></div><div class=\\\"uib-separator\\\">:</div><div class=\\\"form-group uib-time minutes\\\" ng-class=\\\"{\\'has-error\\': invalidMinutes}\\\"><input type=\\\"text\\\" placeholder=\\\"MM\\\" ng-model=\\\"minutes\\\" ng-change=\\\"updateMinutes()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementMinutes()\\\" ng-blur=\\\"blur()\\\"><div class=\\\"time-spinner\\\" ng-show=\\\"::showSpinners\\\"><a ng-click=\\\"incrementMinutes()\\\" ng-class=\\\"{disabled: noIncrementMinutes()}\\\" class=\\\"btn btn-link time-spinner_btn\\\" ng-disabled=\\\"noIncrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"fa fa-chevron-up\\\"></span></a> <a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn btn-link time-spinner_btn\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"fa fa-chevron-down\\\"></span></a></div></div><div class=\\\"uib-separator\\\" ng-show=\\\"showSeconds\\\">:</div><div class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{\\'has-error\\': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\"><input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\"><div class=\\\"time-spinner\\\" ng-show=\\\"::showSpinners\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn btn-link time-spinner_btn\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"fa fa-chevron-up\\\"></span></a> <a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn btn-link time-spinner_btn\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"fa fa-chevron-down\\\"></span></a></div></div><div ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></div></div></div>\");}]);"],"sourceRoot":"/source/"}