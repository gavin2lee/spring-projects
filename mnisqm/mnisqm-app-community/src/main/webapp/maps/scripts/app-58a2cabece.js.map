{"version":3,"sources":["scripts/app-58a2cabece.js"],"names":["angular","module","rolesModalControllerFunc","$uibModalInstance","$rootScope","rolesService","security","toastr","save","vm","role","then","response","data","code","success","dismiss","getUserRoleList","$apply","error","cancel","this","$inject","controller","rolesServiceFunc","$window","apiHost","$http","$log","$q","getHaveFunction","roleCode","complete","msg","failed","toJson","get","roles","params","getNotHaveFunction","getUserListComplete","getUserListFailed","edit","roleData","post","updateRole","saveRole","del","seqId","deleteRole","service","factory","rolesControllerFunc","$scope","$uibModal","NgTableParams","modalService","$injector","load","getNotHave","getHave","roleDetail","all","result","info","notHaveList","hadList","open","templateUrl","size","ok","delObj","refreshData","copy","funs","forEach","fun","i","concat","child","updateTime","createTime","formData","close","navExchange","parentItem","item","parentIndex","index","type","new_parentItem","dataList","otherList","some","hadItem","key","funCode","push","length","splice","roleList","usersServiceFunc","getUserList","deptCode","users","deleteUser","userObj","saveUser","saveUserRole","userRoleObj","deleteUserRole","UsersControllerFunc","deptService","usersService","filesService","deptName","selectedDept","selectedUser","dataForUserModal","tableParams","dataset","metaData","userList","user","extend","hasOwnProperty","openRole","template_url","dataForRoleModal","userId","currentUser","deptList","deptData","belongedDepts","unshift","hadRoleList","userRoleList","map","r","showRole","roleTableParams","delUserRole","getDeptData","researchItemServiceFunc","deleteResearchItem","research","saveResearchItem","dataObj","getResearchItems","param","getFromSession","itemControllerFunc","researchItemService","initData","lst","row","selectedLevel","beds","bedList","split","add","addFlow","flowText","removeFlow","$index","saveGroup","join","bedService","deleteGroup","openEdit","methodsObj","eventTimeCalender","m_this","eventTimeOpen","setUser","flowList","bedServiceFunc","schedule","getGroupList","papersControllerFunc","$filter","taskServiceFunc","taskControllerFunc","taskService","saveTask","dataForFormModal","addDept","removeDept","deptText","deleteTask","addTask","formServiceFunc","deleteForm","qualityForm","deleteQualityForm","saveForm","saveQualityForm","getFormList","formControllerFunc","formService","test","alert","addForm","dealControllerFunc","checkControllerFunc","fileModalControllerFunc","moment","$controller","count","birthday","format","practiceApproveDate","inductionDate","graduationDate","practiceValidDate","selectedDeptCode","startDate","endDate","userCode","comUser","dataType","getUserInfo","hisCode","accessible","rootScope","$broadcast","scope","datepickerOption","dateDisabled","formatYear","formatMonth","formatDay","initDate","Date","maxDate","minDate","startingDay","validationOption","blurTrig","isNew","itemInitData","comUserPosition","positionName","reviewUnit","comUserNursing","unitLevel","position","comUserEducation","educationType","leaningTime","courseTopics","courseContent","comUserTraining","learnContent","professional","diploma","speaker","creditType","credit","funding","describe","comUserLearning","school","diplomaNo","degree","degreeNo","comUserFamily","relation","name","phone","email","remark","addItem","removeItem","openCalender","obj","$on","event","config","w5cValidatorProvider","showError","removeError","setRules","number","userName","required","duty","filesServiceFunc","getUserInfoComplete","getUserInfoFailed","files","getUserDetailInfo","setSelectUser","userData","delSeqId","toastrConfig","tapToDismiss","timeOut","filesControllerFunc","selectedUserCode","openDialog","backdrop","controllerAs","animation","loadDetail","$emit","callback","viewDetail","detail","prop","dataTemp","dateArr","dateItem","tempItem","isOpen","workControllerFunc","itemService","typeServiceFun","getEventType","events","getEventTypeList","typeControllerFun","typeService","statisticsControllerFun","groupNo","groupName","bedNo","debug","page","total","getData","$defer","orderedData","sorting","orderBy","filter","resolve","slice","levelServiceFunc","deleteEventLevel","saveEventLevel","getEventLevels","levelControllerFun","levelService","flow","handleServiceFunc","reportCode","deleteEventReport","getReportDetail","getEventMeasures","getEventRequirement","saveReportDetail","saveMeasure","saveEventMeasures","saveRequirement","saveEventRequirement","saveEstimate","deleteRequirement","deleteEventRequirement","deleteMeasure","deleteEventMeasures","deleteEstimate","handleControllerFun","fixService","handleService","getEventList","selectedEvent","initModalData","open_it","appendTo","element","saveListItem","listName","itemData","list_name","upFirstLetter","data_temp","reqCode","reqContent","meaTime","meaCode","meaContent","headUserCode","measure","resStatus","resDescribe","removeListItem","_params","fillItem","itemName","resetForm","str","replace","match","toUpperCase","getReportDetails","_promise","requirements","measures","reportDetails","itemCode","value","itemValue","malCaseInfo","requirementList","measureList","reportDetailList","data_arr","context","fixServiceFunc","elementCode","elementName","viewName","elementType","width","callServiceFunc","saveEventReport","callControllerFun","callService","eventTypeList","initLevelData","response_data","eventDate","eventTime","level","damageLevel","dept","eventType","eventTypeCode","eventTypeName","levelList","date_temp","time_temp","fromJson","acmeBreadFunc","breadController","$interval","$location","$state","bc","isActive","tabTemp","tab","removeTab","$event","state_id","id","currentTarget","prev_li","parents","prev","next_li","next","find","hasClass","go","removeFromBreadcrumb","document","ready","tabItem","tabItemLen","path","pathLen","substr","loadingLinkFunc","elem","attrs","tabItems","isLoading","pendingRequests","$watchGroup","resArr","tabWrapperWidth","outerWidth","totalWidth","itemWidth","each","_item","_div","_span","innerTextWidth","innerWidth","tabOuterwidth","divInnerWidth","realWidth","directive","restrict","link","bindToController","acmeNavbar","NavbarController","tabObjTemp","$parent","navData","nav","addToBread","nav_id","nav_name","addToBreadcrumb","cusHeaderFunc","headerController","openUserDialog","openRoleDialog","hd","logout","time_now","changeUserControllerFunc","$timeout","resetState","loginBtnStatus","title","state","changeUser","loginedUser","loginName","login","location","reload","pattern","password","minlength","maxlength","changeRoleControllerFunc","roleBtnStatus","currentRole","selectedRole","roleObj","changedRole","changeRole","TurnsRuleControlleFun","turnsRuleService","classesService","getRuleList","classList","saveRule","deleteRule","getClassList","turnsServiceFunc","getSchedule","week","saveSchedule","newSchedule","copySchedule","outWeek","srcWeek","turnsControllerFunc","turnsService","dtls","saveTurns","weeks","nextWeek","backWeek","newTurns","copyWeek","statisticsControllerFunc","group","leaveServiceFunc","apprvScheduleLeave","deleteScheduleLeave","saveScheduleLeave","getLeaveList","leaveControllerFunc","leaveService","startTime","endTime","saveLeave","dater","review","saveReview","timer","d","t","date","time","init_startDate","init_startTime","init_endDate","init_endTime","deptNme","addLeave","areaServiceFunc","batchSaveUserNurse","getUserNurses","endemicAreaControllerFunc","areaService","groupLst","saveArea","classesServiceFunc","deleteClass","saveClass","saveclass","classesControllerFunc","dataForClassModal","new_Time","final_Time","new_startTime","new_endTime","addClasses","bedControllerFunc","attemperService","deleteChangeClass","saveChangeClass","apprvChangeClass","getChangeClass","attemperControllerFunc","classes","securityFunc","getNavigation","deferred","defer","system","user_info","saveAtSession","reject","removeFromSession","userInfo","userRoleId","resetUserInfo","userInfoObj","sessionStorage","setItem","to_save_value","isObject","isArray","_key","getItem","getRoleList","interceptorFunc","initToastrIfNeed","request","url","when","requestError","rejection","statusText","responseError","status","message","deptServiceFunc","getDeptListComplete","userRole","getDeptListFailed","getDept","modalServiceFunc","$uibModalStack","options","initFn","reason","dismissAll","ModalControllerFunc","loadingFunc","$watch","v","setAttribute","loadingWidth","MainController","isLogined","locationPath","toState","toParams","fromState","fromParams","preventDefault","loginController","setLoginBtnstate","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","$locationProvider","otherwise","constant","delete","update","getFunction","getEventReport","getQualityForm","$logProvider","$httpProvider","debugEnabled","autoDismiss","allowHtml","positionClass","progressBar","preventOpenDuplicates","iconClasses","warning","interceptors","$templateCache","put"],"mappings":"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","file":"scripts/app-58a2cabece.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('nqms', ['ngLocale', 'ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr', 'w5c.validator', 'ngTable']);\n\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('RolesModalController', rolesModalControllerFunc);\n\n  /** @ngInject */\n  function rolesModalControllerFunc($uibModalInstance, $rootScope, rolesService, security, toastr) {\n    var vm = this;\n\n    vm.cancel = cancel;\n    vm.save = save;\n\n    function save() {\n      rolesService.save(vm.role).then(function (response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n\n          $uibModalInstance.dismiss('cancel');\n\n          security.getUserRoleList();\n          $rootScope.$apply();\n        } else {\n          toastr.error('保存失败', '警告');\n        }\n      });\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('rolesService', rolesServiceFunc);\n\n  /** @ngInject */\n  function rolesServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      getHaveFunction: getHaveFunction,\n      getNotHaveFunction: getNotHaveFunction,\n      save: save,\n      edit: edit,\n      del: del\n    };\n\n    return service;\n\n    function getHaveFunction(roleCode) {\n\n      return $http.get(apiHost.roles.getHaveFunction, {\n        params: {\n          roleCode: roleCode\n        }\n      })\n        .then(complete)\n        .catch(failed);\n\n      function complete(response) {\n        if (response.data.code === '0') {\n          return response;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function failed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function getNotHaveFunction(roleCode) {\n\n      return $http.get(apiHost.roles.getNotHaveFunction, {\n        params: {\n          roleCode: roleCode\n        }\n      })\n        .then(getUserListComplete)\n        .catch(getUserListFailed);\n\n      function getUserListComplete(response) {\n        if (response.data.code === '0') {\n          return response;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getUserListFailed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function edit(roleData) {\n      return $http.post(apiHost.roles.updateRole, roleData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n        return null;\n      });\n    }\n\n    function save(roleData) {\n      return $http.post(apiHost.roles.saveRole, roleData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n        return null;\n      })\n      .catch(function (error) {\n\n      });\n    }\n\n    function del(seqId) {\n      return $http.post(apiHost.roles.deleteRole, seqId)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n\n        return null;\n      });\n    }\n  }\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('RolesController', rolesControllerFunc);\n\n  /** @ngInject */\n  function rolesControllerFunc($scope, $log, $q, $uibModal, rolesService, toastr, NgTableParams, modalService, security, $injector) {\n    var vm = this;\n\n    vm.roleData = security.roleList;\n\n    security.getUserRoleList().then(function(response) {\n      vm.roleData = security.roleList;\n    });\n\n    var modalInstance;\n    // TODO 首次进入界面表单无数据时，保存和删除按钮不可用状态\n\n    //删除用户数据\n    vm.del = del;\n    //编辑角色数据\n    vm.edit = edit;\n    //添加角色\n    vm.open = open;\n\n    vm.navExchange = navExchange;\n\n    // 点击加载角色人员\n    vm.load = load;\n\n    function load(role) {\n\n      var getNotHave = rolesService.getNotHaveFunction(role.roleCode);\n      var getHave = rolesService.getHaveFunction(role.roleCode);\n\n      vm.roleDetail = role;\n\n      $q.all([getNotHave, getHave]).then(function(result) {\n        $log.info(result);\n        vm.notHaveList = result[0] && result[0].data.code === '0' ? result[0].data.data : [];\n        vm.hadList = result[1] && result[1].data.code === '0' ? result[1].data.data : [];\n      });\n    }\n\n    function open() {\n      modalService.open({\n        templateUrl: 'app/system/roles/addRole.tpl.html',\n        size: 'md',\n        ok: save\n      });\n    }\n\n    /**\n     * [del 删除角色]\n     * @param  {[type]} row [description]\n     * @return {[type]}     [description]\n     */\n    function del() {\n      var delObj = {\n        seqId: vm.roleDetail.seqId,\n        roleCode: vm.roleDetail.roleCode\n      };\n\n      rolesService.del(delObj).then(function(response) {\n        if (response) {\n          toastr.success('该角色已删除', '提示');\n          vm.roleDetail = null;\n          refreshData();\n        }\n      });\n    }\n\n    // TODO 如果修改的角色为当前角色，修改后的导航菜单需要重新获取加载。\n    /**\n     * [edit 修改当前用户的角色信息]\n     * @return {[undefined]}\n     */\n    function edit() {\n      var params = angular.copy(vm.roleDetail);\n      var funs = [];\n\n      params.funs = angular.copy(vm.hadList);\n\n      // 提取子菜单\n      params.funs.forEach(function(fun, i) {\n        funs = funs.concat(fun.child);\n        fun.child = [];\n      });\n      params.funs = params.funs.concat(funs);\n\n      delete params.updateTime;\n      delete params.createTime;\n\n      $log.info(params);\n\n      rolesService.edit(params).then(function(response) {\n        $log.info(response);\n\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n\n          $log.info(vm.hadList);\n        } else {\n          toastr.error(response.data.msg, '警告');\n        }\n      });\n    }\n\n    function save(formData) {\n      rolesService.save(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n          modalService.close('success');\n          refreshData();\n        } else {\n          toastr.error('保存失败', '警告');\n        }\n      });\n    }\n\n    /**\n     * [navExchange 角色功能的添加与删除]\n     * @param  {object} parentItem  [父菜单项]\n     * @param  {object} item        [子菜单项]\n     * @param  {number} parentIndex [父菜单项索引]\n     * @param  {number} index       [子菜单项索引]\n     * @param  {string} type        [操作类型：添加add；删除remove]\n     * @return {undefined}\n     */\n    function navExchange(parentItem, item, parentIndex, index, type) {\n      var new_parentItem;\n      var dataList = type === 'add' ? vm.hadList : vm.notHaveList;\n      var otherList = type === 'add' ? vm.notHaveList : vm.hadList;\n\n      // 添加到已有功能列表\n      dataList.some(function(hadItem, key) {\n        if (hadItem.funCode === parentItem.funCode) {\n          hadItem.child.push(item);\n\n          return true;\n        } else {\n          if (key === dataList.length - 1) {\n            new_parentItem = angular.copy(parentItem);\n            new_parentItem.child = [item];\n            dataList.push(new_parentItem);\n          }\n        }\n      });\n\n      // 功能列表为空时，创建第一个元素\n      if (dataList.length === 0) {\n        new_parentItem = angular.copy(parentItem);\n        new_parentItem.child = [item];\n        dataList.push(new_parentItem);\n      }\n\n      // 从未有功能列表中删除\n      parentItem.child.splice(index, 1);\n\n      if (parentItem.child.length === 0) {\n        otherList.splice(parentIndex, 1);\n      }\n    }\n\n    function refreshData() {\n      security.getUserRoleList().then(function(response) {\n        vm.roleData = response.data.data;\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('usersService', usersServiceFunc);\n\n  /** @ngInject */\n  function usersServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      getUserList: getUserList,\n      deleteUser: deleteUser,\n      save: save,\n      saveUserRole: saveUserRole,\n      deleteUserRole: deleteUserRole\n    };\n\n    return service;\n\n    function getUserList(deptCode) {\n\n      return $http.get(apiHost.users.getUserList, {\n          params: {\n            deptCode: deptCode\n          }\n        })\n        .then(complete)\n        .catch(failed);\n\n      function failed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function deleteUser(seqId) {\n\n      return $http.post(apiHost.users.deleteUser, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    function save(userObj) {\n      return $http.post(apiHost.users.saveUser, userObj)\n        .then(complete);\n    }\n\n    function saveUserRole(userRoleObj) {\n      return $http.post(apiHost.users.saveUserRole, userRoleObj)\n        .then(complete);\n    }\n\n    function deleteUserRole(seqId) {\n      return $http.post(apiHost.users.deleteUserRole, seqId)\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('UsersController', UsersControllerFunc);\n\n  /** @ngInject */\n  function UsersControllerFunc($scope, $log, $uibModal, deptService, NgTableParams, toastr, usersService, filesService, modalService, security) {\n    var vm = this;\n    var userData;\n    var count = 0;\n    var dataForUserModal = {\n      formData: {},\n      metaData: {}\n    };\n    var dataForRoleModal = {\n      formData: {},\n      metaData: {}\n    };\n\n    deptService.getDeptData().then(function(data) {\n      vm.deptData = data;\n    });\n\n    //删除用户数据\n    vm.del = del;\n    //添加用户\n    vm.open = open;\n\n    // 删除用户角色\n    vm.delUserRole = delUserRole;\n\n    // 添加角色\n    vm.openRole = openRole;\n\n\n    // 点击用户显示该用户的角色信息\n    vm.showRole = showRole;\n\n    vm.selectedDept = null;\n    // 点击加载科室人员\n    vm.load = load;\n\n    function load(deptCode, deptName) {\n      vm.selectedDept = deptCode;\n      vm.selectedUser = false;\n\n      dataForUserModal.formData = {\n        deptCode: deptCode,\n        deptName: deptName\n      };\n\n      usersService.getUserList(deptCode).then(function(response) {\n        if (response.data.code === '0') {\n          vm.tableParams = new NgTableParams({}, {\n            dataset: response.data.data\n          });\n        }\n      });\n\n      // 获取当前选择科室的员工列表\n      filesService.getUserList(deptCode).then(function(response) {\n        if (response) {\n          dataForUserModal.metaData.userList = response;\n\n          $log.info(response);\n        }\n      });\n    }\n\n    function open(user) {\n      // 编辑用户数据时加载当前用户的数据\n      if (user) {\n        dataForUserModal.formData = angular.extend({}, dataForUserModal.formData, user);\n      } else {\n        // 删除已存在的表单数据\n        for (var i in dataForUserModal.formData) {\n          if (dataForUserModal.formData.hasOwnProperty(i)) {\n            if (i !== 'deptCode' && i !== 'deptName') {\n              delete dataForUserModal.formData[i];\n            }\n          }\n        }\n      }\n      modalService.open({\n        templateUrl: 'app/system/users/addUser.tpl.html',\n        ok: save,\n        size: 'md',\n        data: dataForUserModal\n      });\n    }\n\n    function openRole(role) {\n      var template_url = 'app/system/roles/addRole.tpl.html';\n\n      if (role) {\n        dataForRoleModal.formData = angular.extend({}, dataForRoleModal.formData, role);\n        modalService.open({\n          templateUrl: template_url,\n          ok: save,\n          size: 'md',\n          data: dataForRoleModal\n        });\n      } else {\n        template_url = 'app/system/users/addExistRole.tpl.html';\n\n        // 获得所有角色列表\n        // 获得当前用户的角色\n        security.getUserRoleList({\n            userId: security.currentUser.user.seqId\n        }).then(function(response) {\n          dataForRoleModal.metaData.roleList = response.data.data;\n          dataForRoleModal.metaData.currentUser = vm.selectedUser;\n          dataForRoleModal.metaData.deptList = angular.extend([], vm.deptData.belongedDepts);\n          // push顶层科室\n          dataForRoleModal.metaData.deptList.unshift({\n            deptCode: vm.deptData.deptCode,\n            deptName: vm.deptData.deptName\n          });\n          dataForRoleModal.metaData.deptList = angular.extend({}, [dataForUserModal.formData]);\n          dataForRoleModal.metaData.hadRoleList = vm.userRoleList.map(function(r) {\n            return r.roleCode;\n          });\n\n          modalService.open({\n            templateUrl: template_url,\n            ok: saveRole,\n            size: 'md',\n            data: dataForRoleModal\n          });\n        });\n\n      }\n    }\n\n    function del(seqId) {\n      usersService.deleteUser(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('删除成功！', '提示');\n\n          load(dataForUserModal.formData.deptCode, dataForUserModal.formData.deptName);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function save(formData) {\n      usersService.save(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已保存！', '提示');\n          // 刷新数据\n          load(dataForUserModal.formData.deptCode, dataForUserModal.formData.deptName);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveRole(formData) {\n      usersService.saveUserRole(formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('添加成功！', '提示');\n\n          showRole(vm.selectedUser);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function showRole(user) {\n      vm.selectedUser = user;\n\n      security.getUserRoleList({\n        userId: user.seqId\n      }).then(function(response) {\n        vm.userRoleList = response.data.data;\n\n        vm.roleTableParams = new NgTableParams({}, {\n          dataset: response.data.data\n        });\n      });\n    }\n\n    function delUserRole(seqId) {\n      usersService.deleteUserRole(seqId).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('删除成功！', '提示');\n\n          showRole(vm.selectedUser);\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('researchItemService', researchItemServiceFunc);\n\n  /** @ngInject */\n  function researchItemServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getResearchItems: getResearchItems,\n        saveResearchItem : saveResearchItem,\n        deleteResearchItem : deleteResearchItem\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteResearchItem(seqId) {\n      return $http.post(apiHost.research.deleteResearchItem, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveResearchItem(dataObj) {\n      return $http.post(apiHost.research.saveResearchItem, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getResearchItems() {\n      var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.research.getResearchItems, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ResearchItemController', itemControllerFunc);\n\n  /** @ngInject */\n  function itemControllerFunc($scope, $log, NgTableParams, researchItemService, modalService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n      vm.open = openEdit;\n\n      initData();\n\n      function initData() {\n          researchItemService.getResearchItems().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n        bedService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n            modalService.close('success');\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n        bedService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n            modalService.close('success');\n          }\n        });\n      }\n        //弹出框\n      function openEdit() {\n          modalService.open({\n              templateUrl: 'app/manual/item/item.model.html',\n              size: 'lg',\n              ok: saveGroup,\n              data: {\n                  deptCode: vm.deptCode\n              },\n              methodsObj: {\n                  eventTimeCalender: function () {\n                      var m_this = this;\n\n                      m_this.eventTimeOpen = true;\n                  },\n\n                  setUser: function ($index) {\n                      var m_this = this;\n\n                      m_this.formData.flowList.splice($index, 1);\n                  }\n              }\n          });\n      }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('bedService', bedServiceFunc);\n\n  /** @ngInject */\n  function bedServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ResearchPapersController', papersControllerFunc);\n\n  /** @ngInject */\n  function papersControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n\n      initData();\n\n      function initData() {\n        bedService.getGroupList().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n        bedService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n            modalService.close('success');\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n        bedService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n            modalService.close('success');\n          }\n        });\n      }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('taskService',taskServiceFunc);\n\n  /** @ngInject */\n  function taskServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityTaskController', taskControllerFunc);\n\n  /** @ngInject */\n  function taskControllerFunc($scope, $log, NgTableParams, $filter, taskService, modalService, toastr, security) {\n    var vm = this;\n\n    var dataForFormModal = {\n      formData: {},\n      metaData: {}\n    };\n\n    vm.saveTask = saveTask;\n    // vm.edit = edit;\n    vm.deleteTask = deleteTask;\n    vm.addTask = addTask;\n    vm.addDept = open;\n    vm.removeDept = removeDept;\n    vm.deptCode = security.getFromSession().role.deptCode;\n\n    initData();\n    function initData() {\n      // formService.getFormList().then(function (response){\n      //     if(response){\n      //       vm.lst = response.data.data.lst;\n      //       vm.tableParams = new NgTableParams({}, {\n      //         dataset: vm.lst\n      //       });\n      //     }\n      // });\n    }\n\n    // dataForLeaveModal.formData.deptCode = security.getFromSession().role.deptCode;\n\n    function open() {\n      modalService.open({\n        templateUrl: 'app/quality/task/addTask.tpl.html',\n        size: 'md',\n        ok: saveTask,\n        data: {\n          formData: dataForFormModal.formData\n        },\n        methodsObj: {\n          addDept: addDept,\n          removeDept: removeDept\n        }\n      });\n    }\n\n    //## 编辑\n    // function edit(row) {\n    //   dataForClassModal.formData = angular.extend({}, row);\n    //   vm.selectedLevel = row;\n    //\n    //   if (row) {\n    //     if (row.beds) {\n    //       vm.formData.bedList = row.beds.split(';');\n    //     }\n    //   }\n    // }\n\n    function add() {\n      vm.formData = {};\n    }\n\n    //## 弹出框-增加使用科室\n    function addDept() {\n      var m_this = this;\n      if (m_this.deptText === '') { return; }\n\n      m_this.formData.deptList = m_this.formData.deptList || [];\n\n      m_this.formData.deptList.push(m_this.deptText);\n\n      // 置空 ng-model里的值\n      m_this.deptText = '';\n    }\n\n    //## 弹出框-移除科室\n    function removeDept($index) {\n      var m_this = this;\n      m_this.formData.deptList.splice($index, 1);\n    }\n\n    //保存\n    function saveForm() {\n      var data = angular.extend({}, dataForFormModal.formData);\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n\n      formService.saveForm(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    function del(seqId) {\n      formService.deleteForm(seqId).then(function (response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if(seqId == vm.formData.seqId){\n              vm.formData = {};\n          }\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('formService', formServiceFunc);\n\n  /** @ngInject */\n  function formServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getFormList: getFormList,\n        saveForm : saveForm,\n        deleteForm : deleteForm\n    };\n\n    return service;\n\n    /**\n     * [del 删除表单]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteForm(seqId) {\n      return $http.post(apiHost.qualityForm.deleteQualityForm, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存表单]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveForm(dataObj) {\n      return $http.post(apiHost.qualityForm.saveQualityForm, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 表单列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getFormList(deptCode,type) {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.qualityForm.getFormList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n        if (response.data.code === '0') {\n            return response;\n        }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityFormController', formControllerFunc);\n\n  /** @ngInject */\n  function formControllerFunc(formService, $scope, $log, $q, $uibModal, toastr, NgTableParams, modalService, security, $injector) {\n    var vm = this;\n\n    var dataForFormModal = {\n      formData: {},\n      metaData: {}\n    };\n\n    vm.saveForm = saveForm;\n    // vm.edit = edit;\n    vm.deleteForm = del;\n    vm.addForm = open;\n    vm.addDept = addDept;\n    vm.removeDept = removeDept;\n    vm.test = test;\n\n    vm.deptCode = security.getFromSession().role.deptCode;\n\n    function test() {\n      formService.getFormList().then(function (response){\n        if(response){\n          vm.lst = response.data.lst;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    initData();\n    function initData() {\n      formService.getFormList().then(function (response){\n          if(response){\n            alert(1);\n            vm.lst = response.data.data.lst;\n            vm.tableParams = new NgTableParams({}, {\n              dataset: vm.lst\n            });\n          }\n      });\n    }\n\n    // dataForLeaveModal.formData.deptCode = security.getFromSession().role.deptCode;\n\n    function open() {\n      modalService.open({\n        templateUrl: 'app/quality/form/addForm.tpl.html',\n        size: 'md',\n        ok: saveForm,\n        data: {\n          formData: dataForFormModal.formData\n        },\n        methodsObj: {\n          addDept: addDept,\n          removeDept: removeDept\n        }\n      });\n    }\n\n    //## 编辑\n    // function edit(row) {\n    //   dataForClassModal.formData = angular.extend({}, row);\n    //   vm.selectedLevel = row;\n    //\n    //   if (row) {\n    //     if (row.beds) {\n    //       vm.formData.bedList = row.beds.split(';');\n    //     }\n    //   }\n    // }\n\n    function add() {\n      vm.formData = {};\n    }\n\n    //## 弹出框-增加使用科室\n    function addDept() {\n      var m_this = this;\n      if (m_this.deptText === '') { return; }\n\n      m_this.formData.deptList = m_this.formData.deptList || [];\n\n      m_this.formData.deptList.push(m_this.deptText);\n\n      // 置空 ng-model里的值\n      m_this.deptText = '';\n    }\n\n    //## 弹出框-移除科室\n    function removeDept($index) {\n      var m_this = this;\n      m_this.formData.deptList.splice($index, 1);\n    }\n\n    //保存\n    function saveForm() {\n      var data = angular.extend({}, dataForFormModal.formData);\n\n      data.deptCode = data.deptList ? data.deptList.join(',') : '';\n\n      formService.saveForm(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          vm.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n    function del(seqId) {\n      formService.deleteForm(seqId).then(function (response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          //如果删除选中行，那么编辑数据清空\n          if(seqId == vm.formData.seqId){\n              vm.formData = {};\n          }\n          modalService.close('success');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('bedService', bedServiceFunc);\n\n  /** @ngInject */\n  function bedServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityDealController', dealControllerFunc);\n\n  /** @ngInject */\n  function dealControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n\n      initData();\n\n      function initData() {\n        bedService.getGroupList().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n        bedService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n            modalService.close('success');\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n        bedService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n            modalService.close('success');\n          }\n        });\n      }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('bedService', bedServiceFunc);\n\n  /** @ngInject */\n  function bedServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('QualityCheckController', checkControllerFunc);\n\n  /** @ngInject */\n  function checkControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n\n      initData();\n\n      function initData() {\n        bedService.getGroupList().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n        bedService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n            modalService.close('success');\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n        bedService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n            modalService.close('success');\n          }\n        });\n      }\n  }\n\n\n\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function(w5cValidatorProvider) {\n      w5cValidatorProvider.config({\n        showError: false,\n        removeError: true\n      });\n      w5cValidatorProvider.setRules({\n        userCode: {\n          number: '必须输入数字'\n        },\n        userName: {\n          required: \"姓名不能为空\"\n        },\n        duty: {\n          required: \"职务不能为空\"\n        },\n        email: {\n          required: \"邮箱不能为空\"\n        },\n        phone: {\n          required: \"电话不能为空\"\n        },\n        positionName: {\n          required: '必填'\n        },\n        reviewUnit: {\n          required: '必填'\n        }\n      });\n    })\n    .controller('fileModalController', fileModalControllerFunc);\n\n  function fileModalControllerFunc($rootScope, $scope, $uibModalInstance, filesService, $log, moment, toastr, $window, $controller) {\n    var vm = this;\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n\n    vm.cancel = cancel;\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.accessible = !filesService.isNew;\n\n    // 保存用户\n    vm.save = save;\n    // 添加项目\n    vm.count = filesService.isNew ? {} : angular.extend({}, filesService.selectedUser);\n    // 信息为空时，添加项目时的初始化数据\n    var itemInitData = {\n      comUserPosition: {\n        positionName: '',\n        reviewUnit: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserNursing: {\n        reviewUnit: '',\n        unitLevel: '',\n        deptName: '',\n        position: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserEducation: {\n        educationType: '',\n        leaningTime: '',\n        courseTopics: '',\n        courseContent: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserTraining: {\n        learnContent: '',\n        professional: '',\n        diploma: '',\n        speaker: '',\n        creditType: '',\n        credit: '',\n        funding: '',\n        describe: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserLearning: {\n        school: '',\n        professional: '',\n        diploma: '',\n        diplomaNo: '',\n        degree: '',\n        degreeNo: '',\n        describe: '',\n        startDate: '',\n        endDate: ''\n      },\n      comUserFamily: {\n        relation: '',\n        name: '',\n        phone: '',\n        email: '',\n        remark: ''\n      }\n    };\n    vm.addItem = function(type) {\n      vm.count[type].push(angular.extend({}, itemInitData[type]));\n    };\n    // 删除职称\n    vm.removeItem = function(type, index, seqId) {\n      if (seqId) {\n        filesService.deleteUser(type, seqId).then(function(response) {\n          if (response) {\n            vm.count[type].splice(index, 1);\n          }\n        });\n      } else {\n        vm.count[type].splice(index, 1);\n      }\n    };\n\n    vm.openCalender = function(item, obj) {\n      if (obj) {\n        obj[item] = true;\n      } else {\n        vm[item] = true;\n      }\n    };\n\n    function save(type) {\n      var data = {};\n\n      data[type] = vm.count[type];\n\n      if (type == 'comUser') {\n        //日期格式转换\n        if (data[type].birthday) data[type].birthday = moment(data[type].birthday).format('YYYY-MM-DD');\n        if (data[type].practiceApproveDate) data[type].practiceApproveDate = moment(data[type].practiceApproveDate).format('YYYY-MM-DD');\n        if (data[type].inductionDate) data[type].inductionDate = moment(data[type].inductionDate).format('YYYY-MM-DD');\n        if (data[type].graduationDate) data[type].graduationDate = moment(data[type].graduationDate).format('YYYY-MM-DD');\n        if (data[type].practiceValidDate) data[type].practiceValidDate = moment(data[type].practiceValidDate).format('YYYY-MM-DD');\n        // 添加新用户需要添加当前的deptCode\n        vm.count[type].deptCode = filesService.selectedDeptCode;\n      } else {\n        if (type !== 'comUserFamily') {\n          data[type].startDate = moment(data[type].startDate).format('YYYY-MM-DD');\n          data[type].endDate = moment(data[type].endDate).format('YYYY-MM-DD');\n        }\n        // 给除基本信息外的每个项添加userCode\n        data[type].map(function(item, i) {\n          item.userCode = filesService.selectedUser.comUser.userCode;\n\n          return item;\n        });\n      }\n\n      data.dataType = type;\n      filesService.add(data).then(function(response) {\n        if (response) {\n          toastr.success('保存成功！', '提示');\n\n          filesService.getUserInfo(vm.count.comUser.userCode, vm.count.comUser.hisCode).then(function(data) {\n            vm.accessible = true;\n            // 刷新\n            vm.rootScope.$broadcast('refreshUserList', filesService.selectedDeptCode);\n            vm.rootScope.$broadcast('refreshUserDetail', data);\n          });\n        }\n      });\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    vm.scope.$on('resetCount', function(event, data) {\n      vm.count = data;\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (toastrConfig) {\n      toastrConfig.tapToDismiss = true;\n      toastrConfig.timeOut = 0;\n    })\n    .factory('filesService', filesServiceFunc);\n\n  /** @ngInject */\n  function filesServiceFunc($window, apiHost, $http, $log, $q, NgTableParams) {\n    var service = {\n      selectedUser: {},\n      isNew: true,\n      selectedDeptCode: '',\n      userList: [],\n      tableParams: null,\n      getUserInfo: getUserInfo,\n      getUserList: getUserList,\n      setSelectUser: setSelectUser,\n      add: add,\n      deleteUser: deleteUser\n    };\n\n    return service;\n\n    function getUserInfo(userCode, hisCode) {\n\n      return $http.get(apiHost.files.getUserDetailInfo, {\n        params: {\n          userCode : userCode,\n          hisCode : hisCode\n        }\n      })\n        .then(getUserInfoComplete)\n        .catch(getUserInfoFailed);\n\n      function getUserInfoComplete(response) {\n        if (response.data.code === '0') {\n          return response.data.data;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getUserInfoFailed(error) {\n        $log.error('获取用户数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function getUserList(deptCode) {\n\n      return $http.get(apiHost.files.getUserList, {\n        params: {\n          deptCode: deptCode\n        }\n      })\n        .then(getUserListComplete);\n\n      function getUserListComplete(response) {\n        if (response.data.code === '0') {\n          service.userList = response.data.data.lst;\n\n          service.tableParams = new NgTableParams({}, {\n            dataset: response.data.data.lst\n          });\n\n          return response.data.data.lst;\n        } else {\n          $log.error('获取用户数据失败！\\n' + response.data.msg);\n        }\n      }\n    }\n\n    function setSelectUser(userObj) {\n      service.selectedUser = userObj;\n\n      return userObj;\n    }\n\n    function add(userData) {\n      return $http.post(apiHost.files.save, userData)\n      .then(function (response) {\n        if (response.data.code === '0') {\n          return response;\n        }\n      })\n    }\n\n    function deleteUser(dataType,delSeqId) {\n      return $http.post(apiHost.files.delete, {\n          dataType : dataType,\n          delSeqId : delSeqId\n      })\n        .then(function (response) {\n          if (response.data.code === '0') {\n            return response;\n          }\n        });\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('NursingWorkersFileController', filesControllerFunc);\n\n  /** @ngInject */\n  function filesControllerFunc($rootScope, $scope, $log, $uibModal, deptService, NgTableParams, filesService, toastr) {\n    var vm = this;\n    var userData;\n    var count = 0;\n\n    var dateArr = [\n      'birthday',\n      'inductionDate',\n      'practiceApproveDate',\n      'practiceValidDate',\n      'graduationDate',\n      'startDate',\n      'endDate'\n    ];\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n\n    vm.isOpen = true;\n\n    deptService.getDeptData().then(function(data) {\n      $log.info('科室数据', data);\n      vm.deptData = data;\n    });\n\n    $log.info(count);\n\n    //删除用户数据\n    vm.del = del;\n    //添加用户\n    vm.open = open;\n\n    // 加载用户列表\n    vm.load = load;\n\n    //加载用户详细信息\n    vm.loadDetail = loadDetail;\n\n    // vm.detail = filesService.userList;\n    vm.tableParams = filesService.tableParams;\n\n\n    function load(deptCode) {\n      vm.selectedDept = deptCode;\n      vm.selectedUserCode = false;\n\n      filesService.selectedDeptCode = deptCode;\n\n      filesService.getUserList(deptCode).then(function(data) {\n        $log.info('用户数据', data);\n        // vm.detail = filesService.userList;\n        vm.tableParams = filesService.tableParams;\n      });\n    }\n\n    function open(userCode) {\n      filesService.isNew = !userCode;\n\n      if (userCode) {\n        loadDetail(userCode, openDialog);\n      } else {\n        openDialog();\n      }\n\n      function openDialog() {\n        var modalInstance = $uibModal.open({\n          templateUrl: 'app/nursingWorkers/files/modal.tpl.html',\n          controller: 'fileModalController',\n          backdrop: 'static',\n          controllerAs: 'vm',\n          animation: true,\n          size: 'xlg'\n        });\n      }\n    }\n\n    function del(row) {\n      filesService.deleteUser('comUser',row.seqId).then(function (response) {\n        if (response) {\n          toastr.success('删除成功', '提示');\n\n          // 刷新\n          vm.scope.$emit('refreshUserList', vm.selectedDept);\n        }\n      });\n    }\n\n    function loadDetail(userCode, callback) {\n      vm.selectedUserCode = userCode;\n      filesService.getUserInfo(userCode,'').then(function (data){\n          viewDetail(data,callback);\n      });\n    }\n\n    //明细数据显示\n      function viewDetail(data,callback) {\n          vm.detail = angular.extend({}, data);\n\n          // 转换日期\n          var dataTemp = data,\n              prop;\n\n          for (prop in dataTemp) {\n              if (dataTemp.hasOwnProperty(prop)) {\n                  dateArr.forEach(function (dateItem) {\n                      if (dataTemp[prop][dateItem]) {\n                          dataTemp[prop][dateItem] = new Date(dataTemp[prop][dateItem]);\n                      }\n\n                      if (dataTemp[prop].length > 0) {\n                          dataTemp[prop].map(function (tempItem) {\n                              if (tempItem[dateItem]) {\n                                  tempItem[dateItem] = new Date(tempItem[dateItem]);\n                              }\n\n                              return tempItem;\n                          });\n                      }\n                  });\n              }\n          }\n\n          filesService.selectedUser = dataTemp;\n          vm.rootScope.$broadcast('resetCount', filesService.selectedUser);\n\n          if (callback) callback();\n      }\n\n\n    // 刷新用户列表\n    vm.scope.$on('refreshUserList', function (event, deptCode) {\n      load(deptCode);\n    });\n\n    // 刷新用户信息详情\n    vm.scope.$on('refreshUserDetail', function (event, data) {\n      vm.selectedUserCode = data.comUser.userCode;//选中行的员工编号\n      viewDetail(data);\n    });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('bedService', bedServiceFunc);\n\n  /** @ngInject */\n  function bedServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ManualWorkController', workControllerFunc);\n\n  /** @ngInject */\n  function workControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n\n      initData();\n\n      function initData() {\n        bedService.getGroupList().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n        bedService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n            modalService.close('success');\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n        bedService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n            modalService.close('success');\n          }\n        });\n      }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('itemService', itemService);\n\n  /** @ngInject */\n  function itemService($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ManualItemController', itemControllerFunc);\n\n  /** @ngInject */\n  function itemControllerFunc($scope, $log, NgTableParams, $filter, itemService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n\n      initData();\n\n      function initData() {\n          itemService.getResearchItems().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n          itemService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n          itemService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n          }\n        });\n      }\n  }\n\n\n\n})();\n\n(function() {\r\n  'use strict';\r\n  angular\r\n    .module('nqms')\r\n    .config(function(toastrConfig) {\r\n      toastrConfig.tapToDismiss = true;\r\n      toastrConfig.timeOut = 0;\r\n    })\r\n    .factory('typeService', typeServiceFun);\r\n\r\n  function typeServiceFun(apiHost, $http, $log, toastr) {\r\n    var service = {\r\n      apiHost: apiHost,\r\n        getEventType: getEventType\r\n    };\r\n\r\n    return service;\r\n        //查询类型数据\r\n      function getEventType(){\r\n        return $http.get(apiHost.events.getEventTypeList)\r\n            .then(complete);\r\n      }\r\n      //执行成功\r\n      function complete(response) {\r\n          if (response.data.code === '0') {\r\n              return response;\r\n          }\r\n      }\r\n  }\r\n\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('nqms')\r\n    .controller('MalCaseUpTypeController', typeControllerFun);\r\n\r\n  function typeControllerFun($scope, $log, NgTableParams, $filter,typeService) {\r\n    var vm = this;\r\n    //数据初始化\r\n    initData();\r\n\r\n    function initData(){\r\n        typeService.getEventType().then(function (response){\r\n            if(response){\r\n                vm.lst = response.data.data.lst;\r\n                vm.tableParams = new NgTableParams({}, {\r\n                    dataset: vm.lst\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n  }\r\n})();\r\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpStatisticsController',statisticsControllerFun);\r\n\r\n    function statisticsControllerFun($scope,$log,NgTableParams,$filter){\r\n        var vm = this;\r\n        vm.lst = [{groupNo:'跌倒',groupName:'不良治疗',bedNo : 'Ⅱ级',remark : '跌倒'},\r\n            {groupNo:'坠床',groupName:'不良治疗',bedNo : 'Ⅱ级',remark : '坠床'},\r\n            {groupNo:'走失',groupName:'不良治疗',bedNo : 'Ⅰ级',remark : '走失'},\r\n            {groupNo:'烫伤',groupName:'不良治疗',bedNo : 'Ⅲ级',remark : '烫伤'},\r\n            {groupNo:'医患争吵',groupName:'医患沟通',bedNo : 'Ⅰ级',remark : '医患争吵'},\r\n            {groupNo:'身体攻击',groupName:'医患沟通',bedNo : 'Ⅳ级',remark : '身体攻击'},\r\n            {groupNo:'咽入异物',groupName:'饮食类',bedNo : 'Ⅱ级',remark : '咽入异物'},\r\n            {groupNo:'食物中毒',groupName:'饮食类',bedNo : 'Ⅳ级',remark : '食物中毒'},\r\n            {groupNo:'仪器故障',groupName:'医疗设备',bedNo : '0级',remark : '仪器故障'},\r\n            {groupNo:'院内压疮',groupName:'皮肤类',bedNo : 'Ⅲ级',remark : '院内压疮'}];\r\n\r\n        $log.debug(vm.lst);\r\n        vm.tableParams = new NgTableParams({\r\n            page: 1,            // show first page\r\n            count: 10           // count per page\r\n        }, {\r\n            total: vm.lst.length, // length of data\r\n            getData: function($defer, params) {\r\n                var orderedData = params.sorting() ?\r\n                    $filter('orderBy')(vm.lst, params.orderBy()) :\r\n                    vm.lst;\r\n                orderedData = params.filter() ?\r\n                    $filter('filter')(orderedData, params.filter()) :\r\n                    orderedData;\r\n\r\n                params.total(orderedData.length); // set total for recalc pagination\r\n                $defer.resolve($scope.users = orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));\r\n            }\r\n        });\r\n    }\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('levelService', levelServiceFunc);\n\n  /** @ngInject */\n  function levelServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      save: save,\n      get: get,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.events.deleteEventLevel, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventLevel, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpLevelController',levelControllerFun);\r\n\r\n    function levelControllerFun($scope, $log, NgTableParams, $filter, levelService, modalService, toastr){\r\n        var vm = this;\r\n\r\n        vm.save = save;\r\n        vm.edit = edit;\r\n        vm.del = del;\r\n        vm.formData = {};\r\n        vm.add = add;\r\n\r\n        initData();\r\n\r\n        // 获取分级数据\r\n        function initData() {\r\n          levelService.get().then(function(response) {\r\n            if (response) {\r\n              vm.lst = response.data.data.lst;\r\n              // debugger;\r\n              vm.tableParams = new NgTableParams({}, {\r\n                dataset: vm.lst\r\n              });\r\n            }\r\n          });\r\n        }\r\n\r\n        function edit(row) {\r\n          // 处理流程分解\r\n          vm.formData = angular.extend({}, row);\r\n          vm.selectedLevel = row;\r\n\r\n          if (row) {\r\n            if (row.flow) {\r\n              vm.formData.flowList = row.flow.split('|');\r\n            }\r\n          }\r\n        }\r\n\r\n        function add() {\r\n          vm.formData = {};\r\n        }\r\n\r\n        /************\r\n        ****编辑框****\r\n        ************/\r\n        vm.removeFlow = removeFlow;\r\n        vm.addFlow = addFlow;\r\n\r\n        function addFlow() {\r\n          if (vm.flowText === '') {\r\n            return;\r\n          }\r\n\r\n          vm.formData.flowList = vm.formData.flowList || [];\r\n\r\n          vm.formData.flowList.push(vm.flowText);\r\n\r\n          // 置空 ng-model里的值\r\n          vm.flowText = '';\r\n        }\r\n\r\n        function removeFlow($index) {\r\n          vm.formData.flowList.splice($index, 1);\r\n        }\r\n\r\n        function save() {\r\n          // debugger;\r\n          var data = angular.extend({}, vm.formData);\r\n\r\n          data.flow = data.flowList ? data.flowList.join('|') : '';\r\n          // return;\r\n          levelService.save(data).then(function(response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('保存成功！', '提示');\r\n              initData();\r\n              vm.formData = {};\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n\r\n        function del(seqId) {\r\n          levelService.del(seqId).then(function (response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('已删除！', '提示');\r\n              initData();\r\n              //如果删除选中行，那么编辑数据清空\r\n              if(seqId == vm.formData.seqId){\r\n                  vm.formData = {};\r\n              }\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n    }\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('handleService', handleServiceFunc);\n\n  /** @ngInject */\n  function handleServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      saveReportDetail: saveReportDetail,\n      saveMeasure: saveMeasure,\n      saveRequirement: saveRequirement,\n      saveEstimate: saveEstimate,\n      deleteMeasure: deleteMeasure,\n      deleteRequirement: deleteRequirement,\n      deleteEstimate: deleteEstimate,\n      getReportDetail: getReportDetail,\n      getEventMeasures: getEventMeasures,\n      getEventRequirement: getEventRequirement,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [必填]\n     * @param  {[string]} reportCode [必填]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId, reportCode) {\n      return $http.post(apiHost.events.deleteEventReport, {\n          seqId: seqId,\n          reportCode: reportCode\n        })\n        .then(complete);\n    }\n\n    function getReportDetail(params) {\n      return $http.get(apiHost.events.getReportDetail, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function getEventMeasures(params) {\n      return $http.get(apiHost.events.getEventMeasures, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function getEventRequirement(params) {\n      return $http.get(apiHost.events.getEventRequirement, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveReportDetail(dataObj) {\n      return $http.post(apiHost.events.saveReportDetail, dataObj)\n        .then(complete);\n    }\n\n    function saveMeasure(dataObj) {\n      return $http.post(apiHost.events.saveEventMeasures, dataObj)\n        .then(complete);\n    }\n\n    function saveRequirement(dataObj) {\n      return $http.post(apiHost.events.saveEventRequirement, dataObj)\n        .then(complete);\n    }\n\n    // TODO 整改效果评估还没给接口\n    function saveEstimate(dataObj) {\n      return $http.post(apiHost.events.saveReportDetail, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n\n\n    function deleteRequirement(params) {\n      return $http.post(apiHost.events.deleteEventRequirement, params)\n        .then(complete);\n    }\n\n    function deleteMeasure(params) {\n      return $http.post(apiHost.events.deleteEventMeasures, params)\n        .then(complete);\n    }\n\n    function deleteEstimate(params) {\n      return $http.post(apiHost.events.deleteEventReport, params)\n        .then(complete);\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n  angular\n    .module('nqms')\n    .controller('MalCaseUpHandleController', handleControllerFun);\n\n  function handleControllerFun($rootScope, $scope, $log, $q, NgTableParams, $filter, security, levelService, modalService, toastr, fixService, deptService, handleService, filesService) {\n    var vm = this;\n    var formData = {};\n    var metaData = {};\n\n    vm.rootScope = $rootScope;\n    vm.scope = $scope;\n    vm.open = open;\n    vm.del = del;\n\n    initData();\n\n    // 获取分级数据\n    function initData() {\n      fixService.getEventList().then(function(response) {\n        if (response) {\n          vm.lst = response.data.data.lst;\n          // debugger;\n          vm.tableParams = new NgTableParams({}, {\n            dataset: vm.lst\n          });\n        }\n      });\n    }\n\n    // TODO 日期格式处理  －>日期和时间已分开\n    function open(row) {\n      // 处理流程分解\n      // formData = angular.extend({}, row);\n      vm.selectedEvent = row;\n      initModalData(row).then(open_it);\n    }\n\n    function open_it() {\n      // debugger;\n      modalService.open({\n        templateUrl: 'app/malCaseUp/handle/handle.modal.html',\n        size: 'lg',\n        appendTo: angular.element('.handle-wrapper'),\n        data: {\n          formData: formData,\n          metaData: metaData\n        },\n        methodsObj: {\n          saveReportDetail: saveReportDetail,\n          // TODO 添加措施的方法\n          saveListItem: function(listName, itemData) {\n            var m_this = this;\n            var list_name = m_this.upFirstLetter(listName);\n            var data_temp = {};\n\n            list_name = list_name === 'Estimate' ? 'Measure' : list_name;\n\n            data_temp.userCode = security.getFromSession().user.userCode;\n\n            switch (listName) {\n              case 'requirement':\n                angular.extend(data_temp, {\n                  reportCode: m_this.formData.reportCode,\n                  seqId: m_this.formData[listName].seqId || null,\n                  reqCode: m_this.formData[listName] && m_this.formData[listName].reqCode || null,\n                  reqContent: m_this.formData[listName].reqContent,\n                  remark: ''\n                });\n                break;\n              case 'measure':\n                if (!m_this.formData[listName].meaTime) {\n                  data_temp.meaTime = moment().format('YYYY-MM-DD HH:mm:ss');\n                }\n                angular.extend(data_temp, {\n                  seqId: m_this.formData[listName].seqId || null,\n                  reportCode: m_this.formData.reportCode,\n                  meaCode: m_this.formData[listName] && m_this.formData[listName].meaCode || null,\n                  meaContent: m_this.formData[listName].meaContent,\n                  headUserCode: m_this.formData[listName].headUserCode\n                    // headUserName: m_this.formData[listName].headUserName\n                });\n                break;\n              case 'estimate':\n                angular.extend(data_temp, {\n                  seqId: m_this.formData.measure.seqId || null,\n                  reportCode: m_this.formData.reportCode,\n                  meaCode: m_this.formData.measure && m_this.formData.measure.meaCode || null,\n                  headUserCode: m_this.formData.measure.headUserCode,\n                  meaContent: m_this.formData.measure.meaContent,\n                  // headUserName: m_this.formData[listName].headUserName,\n                  resStatus: '',\n                  resDescribe: m_this.formData.measure.resDescribe\n                });\n                break;\n              default:\n                break;\n            }\n\n            if (!m_this.formData[listName + 'List']) {\n              m_this.formData[listName + 'List'] = [];\n            }\n\n            // return;\n\n            // 保存到服务器\n            handleService['save' + list_name](data_temp).then(function(response) {\n              if (response) {\n                toastr.success('保存成功', '提示');\n                // m_this.formData[listName].push(data_temp);\n                m_this.rootScope.$broadcast('refresh' + list_name, m_this.formData.reportCode, m_this);\n                m_this.formData[listName] = {};\n              }\n            });\n          },\n          removeListItem: function(params) {\n            var m_this = this;\n            var list_name = m_this.upFirstLetter(params.listName);\n            var _params;\n\n            m_this.formData[params.listName + 'List'].splice(params.index, 1);\n\n            switch (params.listName) {\n              case 'measure':\n                _params = {\n                  reportCode: m_this.reportCode,\n                  meaCode: params.meaCode\n                };\n                break;\n              case 'requirement':\n                _params = {\n                  seqId: params.seqId\n                };\n                break;\n              case 'estimate':\n                return;\n              default:\n                break;\n            }\n\n            handleService['delete' + list_name](_params).then(function(response) {\n              if (response) {\n                toastr.success('已删除', '提示');\n              }\n            });\n          },\n          fillItem: function(itemName, item) {\n            var m_this = this;\n\n            m_this.formData[itemName] = angular.extend({}, item);\n          },\n          resetForm: function(itemName) {\n            this.formData[itemName] = {};\n          },\n          upFirstLetter: function(str) {\n            return str.replace(/^\\w{1}/, function(match) {\n              return match.toUpperCase();\n            });\n          }\n        }\n      });\n    }\n\n    function initModalData(row) {\n      var reportCode = row.reportCode;\n      var deptCode = security.getFromSession().role.deptCode;\n\n      formData.reportCode = reportCode;\n\n      // 获取当前选择科室的员工列表\n\n      var getUserList = filesService.getUserList(deptCode);\n\n      var getEventRequirement = handleService.getEventRequirement({\n        reportCode: reportCode\n      });\n      var getEventMeasures = handleService.getEventMeasures({\n        reportCode: reportCode\n      });\n      var getReportDetails = handleService.getReportDetail({\n        reportCode: reportCode\n      });\n      // var getEventRequirement = handleService.getEventRequirement({reportCode: reportCode});\n      var _promise = $q.all([getEventRequirement, getEventMeasures, getReportDetails, getUserList]).then(function(response) {\n        var requirements = response[0].data.data.lst;\n        var measures = response[1].data.data.lst;\n        var reportDetails = {};\n        var userList = response[3];\n\n        // debugger\n\n        response[2].data.data.lst.forEach(function(item) {\n          reportDetails[item.itemCode] = {\n            value: item.itemValue,\n            seqId: item.seqId\n          };\n        });\n\n        // 初始化弹层内的表单数据\n        metaData.malCaseInfo = row;\n        metaData.userList = userList;\n        formData.requirementList = requirements;\n        formData.measureList = measures;\n        formData.reportDetailList = reportDetails;\n        // return response;\n      });\n\n      return _promise;\n    }\n\n    function removeFlow($index) {\n      vm.formData.flowList.splice($index, 1);\n    }\n\n    function saveReportDetail() {\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.reportDetailList);\n      var data_arr = [];\n      var prop;\n      debugger;\n      // 将对象转成数组\n      for (prop in data) {\n        if (data.hasOwnProperty(prop)) {\n          data_arr.push({\n            reportCode: m_this.formData.reportCode,\n            itemCode: prop,\n            seqId: data[prop].seqId || null,\n            itemValue: data[prop].value\n          });\n        }\n      }\n\n\n      // return;\n      handleService.saveReportDetail(data_arr).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          vm.scope.$broadcast('resfreshReportDetail', m_this.formData.reportCode, m_this);\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveMeasure() {\n      // debugger;\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.measures);\n      // return;\n      handleService.saveMeasure(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          modalService.close('success');\n        }\n      });\n    }\n\n    function saveRequirement() {\n      var m_this = this;\n      var data = angular.extend({}, m_this.formData.requirements);\n      // return;\n      handleService.saveRequirement(data).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          modalService.close('success');\n        }\n      });\n    }\n\n    function del(seqId, reportCode) {\n      levelService.del(seqId, reportCode).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    function getEventRequirement(event, reportCode, context) {\n      handleService.getEventRequirement({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.requirementList = response.data.data.lst;\n          // vm.rootScope.$digest();\n        }\n      });\n    }\n\n    function getEventMeasures(event, reportCode, context) {\n      handleService.getEventMeasures({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.measureList = response.data.data.lst;\n          // vm.rootScope.$digest();\n          // debugger;\n        }\n      });\n    }\n\n    function getReportDetail(event, reportCode, context) {\n      handleService.getReportDetail({\n        reportCode: reportCode\n      }).then(function(response) {\n        if (response) {\n          context.formData.reportDetailList = response.data.data.lst;\n          // vm.rootScope.$digest();\n          // debugger;\n        }\n      });\n    }\n\n    // 数据刷新\n    vm.scope.$on('refreshMeasure', getEventMeasures);\n    vm.scope.$on('refreshRequirement', getEventRequirement);\n    vm.scope.$on('refreshReportDetail', getReportDetail);\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('fixService', fixServiceFunc);\n\n  /** @ngInject */\n  function fixServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n      save: save,\n      getEventList: getEventList,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId) {\n      return $http.post(apiHost.events.deleteEventLevel, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventLevel, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getEventList(params) {\n      var param = params || {};\n\n      param.userCode = security.getFromSession().user.userCode;\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.events.getEventList, {\n        params: param\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n\n(function(){\r\n    'use strict';\r\n\r\n    angular.module('nqms').controller('MalCaseUpElementController', function ($uibModal, $log) {\r\n        var vm = this;\r\n        vm.lst = [{elementCode:'1',elementName:'压疮大小',viewName : '压疮大小',groupName : '压疮信息',\r\n            elementType:'文本框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'2',elementName:'发生时间',viewName : '发生时间',groupName : '压疮信息',\r\n                elementType:'文本框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'3',elementName:'性别',viewName : '性别',groupName : '患者信息',\r\n                elementType:'单选框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'4',elementName:'医疗类型',viewName : '医疗类型',groupName : '患者信息',\r\n                elementType:'下拉框',width:'3/12',remark:'备注',required:'是'},\r\n            {elementCode:'5',elementName:'年龄',viewName : '年龄',groupName : '患者信息',\r\n                elementType:'文本框',width:'3/12',remark:'备注',required:'是'}];\r\n    })\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('callService', callServiceFunc);\n\n  /** @ngInject */\n  function callServiceFunc($window, apiHost, $http, $log, $q, toastr) {\n    var service = {\n      save: save,\n      del: del\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [必填]\n     * @param  {[string]} reportCode [必填]\n     * @return {[object]}       [promise]\n     */\n    function del(seqId, reportCode) {\n      return $http.post(apiHost.events.deleteEventReport, {\n          seqId: seqId,\n          reportCode: reportCode\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function save(dataObj) {\n      return $http.post(apiHost.events.saveEventReport, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function get(params) {\n      return $http.get(apiHost.events.getEventLevels, {\n        params: params\n      })\n        .then(complete);\n    }\n\n    function complete(response) {\n      if (response.data.code === '0') {\n        return response;\n      }\n    }\n  }\n})();\n\n(function (){\r\n    'use strict';\r\n\r\n    angular\r\n        .module('nqms')\r\n        .controller('MalCaseUpCallController',callControllerFun);\r\n\r\n    function callControllerFun($scope, $log, NgTableParams, $filter, security, moment, levelService, modalService, toastr, fixService, callService, deptService,typeService){\r\n        var vm = this;\r\n        var formData = {};\r\n        var metaData = {};\r\n\r\n        vm.save = save;\r\n        vm.open = open;\r\n        vm.del = del;\r\n        vm.add = add;\r\n\r\n        // mock数据\r\n        metaData.eventTypeList = [\r\n          {\r\n            code: 1,\r\n            name: '运送中病情变化'\r\n          }, {\r\n            code: 2,\r\n            name: '误吸'\r\n          }, {\r\n            code: 3,\r\n            name: '院内压疮'\r\n          }, {\r\n            code: 4,\r\n            name: '坠床'\r\n          }, {\r\n            code: 5,\r\n            name: '跌倒'\r\n          }\r\n        ];\r\n\r\n        initData();\r\n\r\n        // 获取不良事件数据\r\n        function initData() {\r\n          fixService.getEventList().then(function(response) {\r\n            if (response) {\r\n              vm.lst = response.data.data.lst;\r\n              // debugger;\r\n              vm.tableParams = new NgTableParams({}, {\r\n                dataset: vm.lst\r\n              });\r\n            }\r\n          });\r\n          typeService.getEventType().then(function(response){\r\n              if (response) {\r\n                  metaData.eventTypeList = response.data.data.lst;\r\n              }\r\n          });\r\n        }\r\n\r\n        // TODO 编辑时日期格式处理  －>日期和时间已分开\r\n        function open(row) {\r\n          // 处理流程分解\r\n          formData = angular.extend({}, row);\r\n          vm.selectedLevel = row;\r\n\r\n          metaData.deptList = deptService.deptList && deptService.deptList.belongedDepts;\r\n\r\n          // 设置弹层的科室数据\r\n          // TODO 对科室数据请求缓存\r\n          initLevelData().then(function () {\r\n            if (!metaData.deptList) {\r\n              deptService.getDeptData().then(function(response) {\r\n                var response_data = response;\r\n\r\n                if (response_data) {\r\n                  metaData.deptList = response_data.belongedDepts;\r\n\r\n                  if (metaData.deptList.length === 0) {\r\n                    delete response_data.belongedDepts;\r\n                    metaData.deptList = [response_data];\r\n                  }\r\n\r\n                  open_it();\r\n                }\r\n              });\r\n            } else {\r\n              open_it();\r\n            }\r\n          });\r\n\r\n          // debugger;\r\n          // 编辑时把时间转换成原始格式\r\n            if(row){\r\n            formData.eventDate = new Date(row.eventTime);\r\n            formData.eventTime = new Date(row.eventTime);\r\n                // 事件等级\r\n                formData.level = {\r\n                    damageLevel: row.damageLevel\r\n                };\r\n                // 科室转换\r\n                formData.dept = {\r\n                    deptCode: row.deptCode,\r\n                    deptName: row.deptName\r\n                };\r\n\r\n                // 事件类型转换\r\n                formData.eventType = {\r\n                    eventTypeCode: row.eventTypeCode,\r\n                    eventTypeName: row.eventTypeName\r\n                };\r\n            }\r\n\r\n\r\n          // 设置上报人为当前用户\r\n          formData.userCode = security.getFromSession().user.userCode;\r\n          formData.userCode = security.getFromSession().user.userName;\r\n\r\n          function open_it() {\r\n            modalService.open({\r\n              templateUrl: 'app/malCaseUp/call/call.modal.html',\r\n              size: 'lg',\r\n              ok: save,\r\n              data: {\r\n                formData: formData,\r\n                metaData: metaData\r\n              },\r\n              methodsObj: {\r\n                eventTimeCalender: function () {\r\n                  var m_this = this;\r\n\r\n                  m_this.eventTimeOpen = true;\r\n                },\r\n\r\n                setUser: function ($index) {\r\n                  var m_this = this;\r\n\r\n                  m_this.formData.flowList.splice($index, 1);\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        function initLevelData() {\r\n          return levelService.get().then(function(response) {\r\n            if (response) {\r\n              metaData.levelList = response.data.data.lst;\r\n            }\r\n          });\r\n        }\r\n\r\n        function add() {\r\n          vm.formData = {};\r\n        }\r\n\r\n        /************\r\n        ****编辑框****\r\n        ************/\r\n        vm.removeFlow = removeFlow;\r\n        vm.addFlow = addFlow;\r\n\r\n        function addFlow() {\r\n          if (vm.flowText === '') {\r\n            return;\r\n          }\r\n\r\n          vm.formData.flowList = vm.formData.flowList || [];\r\n\r\n          vm.formData.flowList.push(vm.flowText);\r\n\r\n          // 置空 ng-model里的值\r\n          vm.flowText = '';\r\n        }\r\n\r\n        function removeFlow($index) {\r\n          vm.formData.flowList.splice($index, 1);\r\n        }\r\n\r\n        function save(dataObj) {\r\n          // debugger;\r\n          var data = angular.extend({}, dataObj);\r\n          var date_temp;\r\n          var time_temp;\r\n          // 科室\r\n          data.deptName = data.dept.deptName;\r\n          // 事件发生时间\r\n          date_temp = moment(data.eventDate).format('YYYY-MM-DD');\r\n          time_temp = moment(data.eventTime).format('HH:mm:ss');\r\n          delete data.eventDate;\r\n          delete data.dept;\r\n\r\n          // 事件类型名称和code\r\n          data.eventTypeCode = angular.fromJson(data.eventType).eventTypeCode;\r\n          data.eventTypeName = angular.fromJson(data.eventType).eventTypeName;\r\n          delete data.eventType;\r\n          delete data.level;\r\n\r\n          data.eventTime = moment(date_temp + ' ' + time_temp).format('YYYY-MM-DD HH:mm:ss');\r\n          // debugger;\r\n          // return;\r\n          callService.save(data).then(function(response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('保存成功！', '提示');\r\n              initData();\r\n              vm.formData = {};\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n\r\n        function del(seqId, reportCode) {\r\n          callService.del(seqId, reportCode).then(function (response) {\r\n            if (response && response.data.code === '0') {\r\n              toastr.success('已删除！', '提示');\r\n              initData();\r\n              modalService.close('success');\r\n            }\r\n          });\r\n        }\r\n    }\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeBread', acmeBreadFunc);\n\n  /** @ngInject */\n  function acmeBreadFunc($http, $log) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/breadcrumb/breadcrumb.html',\n      scope: {},\n      replace: true,\n      controller: breadController,\n      controllerAs: 'bc',\n      link: loadingLinkFunc,\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function breadController($scope, $interval, moment, $window, $log, $location, $state, security) {\n      var bc = this;\n      bc.scope = $scope;\n\n      bc.isActive = $scope.isActive;\n\n      bc.tabTemp = security.currentUser.tab;\n\n      /*\n      关闭标签页\n       */\n      bc.removeTab = function($event) {\n        // $log.info($event.currentTarget);\n        var id = angular.element($event.currentTarget).data('id');\n        var prev_li = angular.element($event.currentTarget).parents('li').prev('li');\n        var next_li = angular.element($event.currentTarget).parents('li').next('li');\n        var state_id;\n\n        // 关闭标签时，如果为当前标签，则路由跳转至前一标签，前一标签没有则跳转至后一标签，只有一个标签页时则跳转至首页；否则不处理跳转。\n        if (prev_li.length > 0) {\n          state_id = '.' + prev_li.find('a').data('id');\n        } else {\n          if (next_li.length > 0) {\n            state_id = '.' + next_li.find('a').data('id');\n          } else {\n            // 跳转至首页\n            state_id = '';\n          }\n        }\n\n        // 判别是否为当前标签\n        if (angular.element($event.currentTarget).parents('.tab-bread__item').hasClass('active')) {\n          $state.go('home' + state_id);\n        }\n\n        security.removeFromBreadcrumb(id);\n      };\n\n\n      angular.element(document).ready(function() {\n        var tabItem = angular.element('.tab-bread li');\n        var tabItemLen = tabItem.length;\n        bc.tabItemLen = tabItemLen;\n      });\n\n      /*\n      高亮显示标签页\n       */\n      bc.isActive = function(path) {\n        var pathLen = path.length;\n\n        return path === $location.path().substr(-pathLen, pathLen);\n      };\n\n      $log.info('tab:', bc.tab);\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n\n    function loadingLinkFunc(scope, elem, attrs) {\n        scope.tabItemLen = function() {\n            var tabItems = elem.find('li');\n            var tabItemLen = tabItems.length;\n\n            return tabItemLen;\n        };\n\n        scope.isLoading = function() {\n          return $http.pendingRequests.length > 0;\n        };\n\n        scope.$watchGroup([scope.tabItemLen, scope.isLoading], function (resArr) {\n            var tabWrapperWidth = elem.outerWidth();\n            // return;\n            if (!resArr[1]) {\n                var tabItems = elem.find('li');\n                var totalWidth = 0;\n                var itemWidth = 0;\n                if (resArr[0] === 0) return;\n\n                tabItems.each(function(i, item) {\n                    var _item = angular.element(item);\n                    var _div = _item.find('.tab-bread__item');\n                    var _span = _item.find('span');\n                    var innerTextWidth = _span.innerWidth();\n                    var tabOuterwidth = _item.outerWidth();\n                    var divInnerWidth = _div.width();\n                    var realWidth = innerTextWidth + (tabOuterwidth - divInnerWidth);\n\n                    totalWidth += realWidth;\n                });\n\n                if (totalWidth > tabWrapperWidth) {\n                    itemWidth = tabWrapperWidth / resArr[0];\n\n                    tabItems.width(itemWidth);\n                } else {\n                    tabItems.width('auto');\n                }\n            }\n            /*\n            加载完后计算标签的宽度，大于总宽度时，计算每个标签宽度＝总宽度／标签个数\n             */\n        });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {},\n      replace: true,\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController($scope, $window, $log, $location, security) {\n      var vm = this;\n      var tabObjTemp = security.currentUser.tab;\n\n      vm.isActive = $scope.$parent.isActive;\n\n      vm.navData = security.getFromSession().nav;\n      /*vm.isExpand = function (name) {\n        var locationArr = $location.path().split('/');\n        var lastPath = locationArr[locationArr.length - 1];\n        var item = $.grep(vm.navData, function (navItem) {\n          return navItem['funUrl'] === name;\n        });\n\n        angular.forEach(item[0]['child'], function (subItem, i) {\n          if (subItem['funUrl'] === lastPath) return true;\n        })\n\n        // $log.info(lastPath);\n      }*/\n      /**\n       * [addToBread 点击导航项添加到tab标签]\n       * @param {[object]} $event [无]\n       */\n      vm.addToBread = function ($event) {\n        var nav_id = angular.element($event.currentTarget).data('id');\n        var nav_name = angular.element($event.currentTarget).data('name');\n        security.addToBreadcrumb(nav_id, nav_name);\n        // breadcrumbData.set(nav_id, nav_name);\n        $log.info('bread 服务', tabObjTemp);\n      }\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('acmeHeader', cusHeaderFunc);\n\n  /** @ngInject */\n  function cusHeaderFunc() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/header/header.html',\n      scope: {},\n      replace: true,\n      controller: headerController,\n      controllerAs: 'hd',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function headerController($scope, $interval, $uibModal, moment, $window, $log, $location, security) {\n      var hd = this;\n\n\n      hd.openUserDialog = openUserDialog;\n      hd.openRoleDialog = openRoleDialog;\n      hd.logout = security.logout;\n\n      $interval(function() {\n        hd.time_now = moment().format('YYYY年MM月DD日 \tHH:mm:ss');\n      }, 1000);\n\n      hd.user = security.getFromSession().user;\n\n      function openUserDialog() {\n        var userModalInstance = $uibModal.open({\n          templateUrl: 'app/components/header/changeUser.tpl.html',\n          controller: 'ChangeUserController',\n          controllerAs: 'vm',\n          backdrop: 'static',\n          animation: false,\n          size: 'sm'\n        });\n      }\n\n      function openRoleDialog() {\n        var roleModalInstance = $uibModal.open({\n          templateUrl: 'app/components/header/changeRole.tpl.html',\n          controller: 'ChangeRoleController',\n          controllerAs: 'vm',\n          backdrop: 'static',\n          animation: false,\n          size: 'md'\n        });\n      }\n\n      $log.info(hd.user);\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n    }\n  }\n\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (w5cValidatorProvider) {\n      w5cValidatorProvider.setRules({\n        loginName: {\n          required: \"用户名不能为空\",\n          pattern: \"用户名必须输入字母、数字、下划线\"\n        },\n        password: {\n          required: \"密码不能为空\",\n          minlength: \"密码长度不能小于{minlength}\",\n          maxlength: \"密码长度不能大于{maxlength}\"\n        }\n      })\n    })\n    .controller('ChangeUserController', changeUserControllerFunc);\n\n  function changeUserControllerFunc($uibModalInstance, $location, security, $log, moment, $window, $timeout, toastr) {\n    var vm = this;\n\n    vm.cancel = cancel;\n    vm.formData = {};\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.loginBtnStatus = {\n      title: '切换',\n      state: ''\n    };\n\n    vm.changeUser = function (data) {\n      var loginedUser = security.getFromSession().user;\n      $log.info(data);\n\n      vm.loginBtnStatus.title = '正在切换...';\n      vm.loginBtnStatus.state = 'disabled';\n\n      // 检查切换用户是否为当前登录用户\n      if (data.loginName === loginedUser.loginName) {\n        toastr.info('您切换的用户已是当前登录用户，无需切换～', '提示');\n        resetState();\n\n        return;\n      }\n\n      security.login(data).then(function (result) {\n        resetState();\n\n        if (result && result.data['code'] == '-1') {\n          return;\n        }\n\n        $uibModalInstance.dismiss('cancel');\n        $timeout(function () {\n          $location.path('/home');\n          $window.location.reload();\n        }, 2000)\n      }, resetState);\n    };\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    function resetState() {\n      vm.loginBtnStatus.title = '切换';\n      vm.loginBtnStatus.state = '';\n    }\n  }\n})();\n\n/**\n * Created by lin on 16/3/15.\n */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('ChangeRoleController', changeRoleControllerFunc);\n\n  function changeRoleControllerFunc($uibModalInstance, $log, moment, $window, toastr, $scope, security) {\n    var vm = this;\n    var currentRole = security.getFromSession().role;\n    var userId = security.getFromSession().user.seqId;\n\n    vm.currentRole = security.getFromSession().role;\n\n    vm.cancel = cancel;\n    vm.formData = {};\n    vm.datepickerOption = {\n      dateDisabled: 'disabled',\n      formatYear: 'yyyy',\n      formatMonth: 'MM',\n      formatDay: 'dd',\n      initDate: new Date(),\n      maxDate: new Date(2020, 5, 22),\n      minDate: moment(),\n      startingDay: 1\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    vm.roleBtnStatus = {\n      title: '切换',\n      state: ''\n    };\n\n    security.getUserRoleList({\n      userId: userId\n    }).then(function (response) {\n      vm.userRoleList = response.data.data;\n    });\n\n    vm.selectedRole = currentRole;\n\n    vm.showRole = function (roleObj) {\n      $log.info(roleObj);\n      vm.changedRole = roleObj;\n    };\n\n    vm.changeRole = function () {\n      currentRole = security.getFromSession().role;\n\n      if (!vm.changedRole) return;\n\n      vm.roleBtnStatus.title = '正在切换...';\n      vm.roleBtnStatus.state = 'disabled';\n\n      // 检查切换角色是否为当前角色\n      if (vm.changedRole.seqId === currentRole.seqId) {\n        toastr.info('您切换的角色已是当前登录的角色，无需切换～', '提示');\n\n        resetState();\n        return;\n      }\n\n      security.changeRole(vm.changedRole);\n    }\n\n    function cancel() {\n      $uibModalInstance.dismiss('cancel');\n    }\n\n    function resetState() {\n      vm.roleBtnStatus.title = '切换';\n      vm.roleBtnStatus.state = '';\n    }\n  }\n})();\n\n(function (){\n    'use strict';\n\n    angular\n        .module('nqms')\n        .controller('DepartmentManagerTurnsRuleController',TurnsRuleControlleFun);\n\n    function TurnsRuleControlleFun($log, NgTableParams, turnsRuleService, modalService, toastr,classesService){\n        var vm = this;\n        var formData = {};\n        var metaData = {};\n\n        vm.save = save;\n        vm.add = add;\n        vm.del = del;\n        vm.edit = edit;\n\n        initData();\n\n        classesService.getClassList().then(function(response){\n            if(response){\n                vm.classList = response.data.data.lst;\n                metaData.classList = vm.classList;\n                $log.debug(vm.classList);\n            }\n        });\n\n        // 获取不良事件数据\n        function initData() {\n            turnsRuleService.getRuleList().then(function(response) {\n                if (response) {\n                    vm.lst = response.data.data.lst;\n                    // debugger;\n                    vm.tableParams = new NgTableParams({}, {\n                        dataset: vm.lst\n                    });\n                }\n            });\n        }\n        //编辑\n        function edit(row){\n            formData = row;\n            open();\n        }\n        //新增\n        function add(){\n            formData = {};\n            open();\n        }\n\n        function open() {\n            $log.debug(vm.classList);\n            modalService.open({\n                templateUrl: 'app/departmentManager/turnsRule/turnsRule.model.html',\n                size: 'lg',\n                ok: save,\n                data: {\n                    formData: formData,\n                    metaData : metaData\n                }\n            });\n        }\n\n\n        function save() {\n            $log.debug(formData);\n            turnsRuleService.saveRule(formData).then(function (response){\n                if(response && response.data.code =='0'){\n                    toastr.success('保存成功！','提示');\n                    initData();\n                    modalService.close('success');\n                }\n            });\n        }\n\n        function del(seqId) {\n            turnsRuleService.deleteRule(seqId).then(function (response) {\n                if (response && response.data.code == '0') {\n                    toastr.success('已删除！', '提示');\n                    initData();\n                }\n            });\n        }\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('turnsRuleService', turnsRuleService);\n\n  /** @ngInject */\n  function turnsRuleService($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getRuleList: getRuleList,\n        saveRule : saveRule,\n        deleteRule : deleteRule\n    };\n\n    return service;\n\n\n    /**\n     * [del 删除排班规则]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteRule(seqId) {\n      return $http.post(apiHost.schedule.deleteRule, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存排班规则]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveRule(dataObj) {\n        dataObj.deptCode = security.getFromSession().role.deptCode;\n      return $http.post(apiHost.schedule.saveRule, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询排班规则]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getRuleList() {\n        var param = {};\n\n        param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getRuleList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('turnsService', turnsServiceFunc);\n\n  /** @ngInject */\n  function turnsServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        saveSchedule: saveSchedule,\n        newSchedule: newSchedule,\n        getSchedule: getSchedule,\n        copySchedule : copySchedule\n    };\n\n    return service;\n\n    /**\n     * [del 删除不良事件分级]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n\n      function getSchedule(week) {\n          var param = {};\n          param.week = week;\n          param.deptCode = security.getFromSession().role.deptCode;\n\n          return $http.get(apiHost.schedule.getSchedule, {\n              params: param\n          })\n          .then(complete);\n      }\n\n    /**\n     * [save 保存不良事件级别]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveSchedule(dataObj) {\n        dataObj.deptCode = security.getFromSession().role.deptCode;\n        dataObj.deptName = security.getFromSession().role.deptName;\n      return $http.post(apiHost.schedule.saveSchedule, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 获取不良事件级别]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function newSchedule(week) {\n      var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n      param.week = week;\n\n      return $http.get(apiHost.schedule.newSchedule, {\n        params: param\n      })\n        .then(complete);\n    }\n\n      /**\n       * [get 周排班复制]\n       * @param  {[object]} params [查询参数对象]\n       * @return {[object]}        [promise]\n       */\n      function copySchedule(week) {\n          var param = {};\n\n          param.deptCode = security.getFromSession().role.deptCode;\n          param.outWeek = week;\n          param.srcWeek = week-1;\n\n          return $http.get(apiHost.schedule.copySchedule, {\n              params: param\n          })\n          .then(complete);\n      }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerTurnsController', turnsControllerFunc);\n\n  /** @ngInject */\n  function turnsControllerFunc(turnsService,classesService, $log,toastr) {\n    var vm = this;\n    vm.saveTurns = saveTurns;\n    vm.nextWeek = nextWeek;\n    vm.backWeek = backWeek;\n    vm.newTurns = newTurns;\n    vm.copyWeek = copyWeek;\n\n      initData();//数据初始化\n\n      function initData(){\n          getSchedule();\n      }\n\n      classesService.getClassList().then(function(response){\n          if(response){\n              vm.classList = response.data.data.lst;\n          }\n      });\n\n    function getSchedule(week){\n        turnsService.getSchedule(week).then(function(response) {\n            if (response) {\n                vm.data = response.data.data;\n                vm.lst = vm.data.dtls;\n            }\n        });\n    }\n\n    function saveTurns() {\n      vm.data.dtls = vm.lst;\n\n      turnsService.saveSchedule(vm.data).then(function(response) {\n        if (response && response.data.code == 0) {\n          toastr.success('保存成功！', '提示');\n            getSchedule(vm.data.weeks);\n        }\n      });\n    }\n        //下一个星期\n      function nextWeek(){\n          if(vm.data.weeks){\n              vm.data.weeks = vm.data.weeks + 1;\n              getSchedule(vm.data.weeks);\n          }\n      }\n      //上一个星期\n      function backWeek(){\n          if(vm.data.weeks){\n              vm.data.weeks = vm.data.weeks - 1;\n              getSchedule(vm.data.weeks);\n          }\n      }\n      //新增排班-针对本周\n      function newTurns(){\n          turnsService.newSchedule(vm.data.weeks).then(function(response) {\n              if (response && response.data.code == 0) {\n                  toastr.success('排班成功！', '提示');\n                  vm.data = response.data.data;\n                  vm.lst = vm.data.dtls;\n              }\n          });\n      }\n\n      function copyWeek(){\n          turnsService.copySchedule(vm.data.weeks).then(function(response){\n                if (response && response.data.code == 0) {\n                    toastr.success('复制成功！', '提示');\n                    vm.data = response.data.data;\n                    vm.lst = vm.data.dtls;\n                }\n            });\n      }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerStatisticsController', statisticsControllerFunc);\n\n  /** @ngInject */\n  function statisticsControllerFunc() {\n      var vm = this;\n      vm.lst = [{deptName:'测试一',bedNo: '01', group: 1},\n          {deptName:'测试一',bedNo: '02', group: 1},\n          {deptName:'测试一',bedNo: '03', group: 1},\n          {deptName:'测试一',bedNo: '04', group: 2},\n          {deptName:'测试一',bedNo: '05', group: 2},\n          {deptName:'测试一',bedNo: '06', group: 2}];\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('leaveService', leaveServiceFunc);\n\n  /** @ngInject */\n  function leaveServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getLeaveList: getLeaveList,\n        saveScheduleLeave : saveScheduleLeave,\n        deleteScheduleLeave : deleteScheduleLeave,\n        apprvScheduleLeave : apprvScheduleLeave\n    };\n\n    return service;\n\n      /**\n       * [del 审批请假信息]\n       * @param  {[string]} seqId [无]\n       * @return {[object]}       [promise]\n       */\n      function apprvScheduleLeave(dataObj) {\n          return $http.post(apiHost.schedule.apprvScheduleLeave,dataObj)\n              .then(complete);\n      }\n\n    /**\n     * [del 删除请假信息]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteScheduleLeave(seqId) {\n      return $http.post(apiHost.schedule.deleteScheduleLeave, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存请假信息]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveScheduleLeave(dataObj) {\n      return $http.post(apiHost.schedule.saveScheduleLeave, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询请假信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getLeaveList() {\n        var param = {};\n\n        param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getLeaveList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerLeaveController', leaveControllerFunc);\n\n  /** @ngInject */\n  function leaveControllerFunc(leaveService, $scope, $log, $q, moment, toastr, NgTableParams, modalService, security, $injector) {\n      var vm = this;\n      var formData = {};\n\n      vm.addLeave = open;\n      vm.saveLeave = saveLeave;\n      vm.edit = edit;\n      vm.del = del;\n      vm.review = review;\n\n\n        //## 获取数据\n        initData();\n        function initData() {\n           leaveService.getLeaveList().then(function (response){\n               if(response){\n                 vm.lst = response.data.data.lst;\n                   for(var i=0;i<vm.lst.length;i++){\n                       vm.lst[i].startTime = moment(new Date(vm.lst[i].startTime)).format('YYYY-MM-DD HH:MM:SS');\n                       vm.lst[i].endTime = moment(new Date(vm.lst[i].endTime)).format('YYYY-MM-DD HH:MM:SS');\n                   }\n                 vm.tableParams = new NgTableParams({}, {\n                   dataset: vm.lst\n                   });\n                 }\n           });\n        }\n\n      formData.deptCode = security.getFromSession().role.deptCode;\n      formData.deptName = security.getFromSession().role.deptName;\n        function open() {\n          modalService.open({\n            templateUrl: 'app/departmentManager/leave/addLeave.tpl.html',\n            size: 'md',\n            ok: saveLeave,\n            data: {\n                formData:formData\n            }\n          });\n        }\n\n        // 获取日期\n        function dater(){\n\n           formData.startDate = new Date(formData.startTime);\n           formData.endDate =  new Date(formData.endTime);\n        }\n\n        //## 编辑\n        function edit(row){\n            formData = angular.extend({}, row);\n          dater();\n          open();\n        }\n\n        //## 删除\n        function del(seqId) {\n          leaveService.deleteScheduleLeave(seqId).then(function (response) {\n            if (response && response.data.code === '0') {\n              toastr.success('已删除！', '提示');\n              initData();\n              modalService.close('success');\n            }\n          });\n        }\n\n        //## 审核\n        function review(row){\n            formData = angular.extend({}, row);\n\n          dater();\n\n          modalService.open({\n            templateUrl: 'app/departmentManager/leave/review.tpl.html',\n            size: 'md',\n            ok: saveReview,\n            data: {\n                formData:formData\n            }\n          });\n        }\n\n        function saveReview(){\n          leaveService.apprvScheduleLeave(formData).then(function(response) {\n            if (response && response.data.code === '0') {\n              toastr.success('保存成功！', '提示');\n              initData();\n                formData = {};\n              modalService.close('success');\n            }\n          });\n        }\n\n        //## 保存\n        function saveLeave(){\n          // 初始获取页面的时间\n          var init_startDate = formData.startDate,\n                 init_startTime = formData.startTime,\n                 init_endDate = formData.endDate,\n                 init_endTime = formData.endTime;\n\n          // 处理时间格式\n          function timer(d, t){\n            var date, time, result;\n            date = moment(d).format('YYYY-MM-DD');\n            time = moment(t).format('HH:mm:ss');\n            result = moment(date + ' ' + time).format('YYYY-MM-DD HH:mm:ss')\n            return result;\n          }\n\n          // 最终提交表单的时间\n            formData.startTime = timer(init_startDate, init_startTime);\n            formData.endTime = timer(init_endDate, init_endTime);\n\n            formData.deptCode = security.getFromSession().role.deptCode;\n            formData.deptNme = security.getFromSession().role.deptNme;\n          leaveService.saveScheduleLeave(formData).then(function(response) {\n            if (response && response.data.code === '0') {\n              toastr.success('保存成功！', '提示');\n              initData();\n               formData = {};\n              modalService.close('success');\n            }\n          });\n        }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('areaService', areaServiceFunc);\n\n  /** @ngInject */\n  function areaServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getUserNurses: getUserNurses,\n        batchSaveUserNurse : batchSaveUserNurse\n    };\n\n    return service;\n\n\n    /**\n     * [save 保存病区护理人员]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function batchSaveUserNurse(dataObj) {\n      return $http.post(apiHost.schedule.batchSaveUserNurse, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询病区护理人员]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getUserNurses() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getUserNurses, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerEndemicAreaController', endemicAreaControllerFunc);\n\n  /** @ngInject */\n  function endemicAreaControllerFunc($log,areaService,toastr,bedService) {\n      var vm = this;\n      vm.saveArea = saveArea;\n\n      initData();\n\n      function initData(){\n          //查询病区护理人员\n          areaService.getUserNurses().then(function(response){\n              if(response){\n                  vm.lst = response.data.data.lst;\n              }\n          });\n          //查询科室所有分组\n          bedService.getGroupList().then(function (response){\n              if(response && response.data.code == 0){\n                  vm.groupLst = response.data.data.lst;\n              }\n          });\n      }\n\n\n      function saveArea(){\n          areaService.batchSaveUserNurse(vm.lst).then(function (response){\n              if(response && response.data.code == 0){\n                  toastr.success('保存成功！', '提示');\n              }\n          });\n      }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('classesService', classesServiceFunc);\n\n  /** @ngInject */\n  function classesServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getClassList: getClassList,\n        saveclass : saveClass,\n        deleteClass : deleteClass\n    };\n\n    return service;\n\n    /**\n     * [del 删除班次信息]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteClass(seqId) {\n      return $http.post(apiHost.schedule.deleteClass, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存班次信息]\n     * @param  {[object]} dataObj\n     * @return {[object]}         [promise]\n     */\n    function saveClass(dataObj) {\n      return $http.post(apiHost.schedule.saveClass, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 查询科室班次信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getClassList() {\n        var param = {};\n\n        param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getClassList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerClassesController', classesControllerFunc);\n\n  /** @ngInject */\n  function classesControllerFunc(classesService, $scope, $log, $q, $uibModal, toastr, NgTableParams, modalService, security, $injector) {\n      var vm = this;\n\n      var dataForClassModal = {\n        formData: {},\n        metaData: {}\n      };\n\n      vm.saveclass = saveclass;\n      vm.addClasses = open;\n      vm.edit = edit;\n      vm.del = del;\n\n      vm.deptCode = security.getFromSession().role.deptCode;\n      vm.deptName = security.getFromSession().role.deptName;\n      dataForClassModal.formData.deptCode = vm.deptCode;\n      dataForClassModal.formData.deptName = vm.deptName;\n\n      //## 获取数据\n      initData();\n      function initData() {\n        classesService.getClassList().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n    function open() {\n        dataForClassModal.formData.deptCode = vm.deptCode;\n        dataForClassModal.formData.deptName = vm.deptName;\n      modalService.open({\n        templateUrl: 'app/departmentManager/classes/addClasses.tpl.html',\n        size: 'md',\n        ok: saveclass,\n        data: dataForClassModal\n      });\n    }\n\n    //## 编辑\n    function edit(row){\n      dataForClassModal.formData = angular.extend({}, row);\n      // 转换格式\n      function timer(t){\n        var time,\n               new_Time,\n               final_Time;\n\n        time= '2099-01-01' + ' ' + t;\n        new_Time = new Date(time);\n        final_Time = moment(new_Time).format('YYYY HH:mm');\n        return final_Time;\n      }\n\n      dataForClassModal.formData.startTime = timer(row.startTime);\n      dataForClassModal.formData.endTime = timer(row.endTime);\n\n      open();\n    }\n\n    //## 删除\n    function del(seqId){\n      classesService.deleteClass(seqId).then(function (response) {\n        if (response && response.data.code === '0') {\n          toastr.success('已删除！', '提示');\n          initData();\n          modalService.close('success');\n        }\n      });\n    }\n\n    //## 保存\n    function saveclass(){\n      // 初始获取页面的时间\n      var init_startTime = dataForClassModal.formData.startTime,\n             init_endTime = dataForClassModal.formData.endTime,\n             new_startTime,\n             new_endTime;\n\n      new_startTime = moment(init_startTime).format('HH:mm')\n      new_endTime = moment(init_endTime).format('HH:mm')\n\n      // 最终提交表单的时间\n      dataForClassModal.formData.startTime = new_startTime;\n      dataForClassModal.formData.endTime = new_endTime;\n\n      classesService.saveclass(dataForClassModal.formData).then(function(response) {\n        if (response && response.data.code === '0') {\n          toastr.success('保存成功！', '提示');\n          initData();\n          dataForClassModal.formData = {};\n          modalService.close('success');\n        }\n      });\n    }\n\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('bedService', bedServiceFunc);\n\n  /** @ngInject */\n  function bedServiceFunc($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getGroupList: getGroupList,\n        saveGroup : saveGroup,\n        deleteGroup : deleteGroup\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteGroup(seqId) {\n      return $http.post(apiHost.schedule.deleteGroup, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存床位分组]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveGroup(dataObj) {\n      return $http.post(apiHost.schedule.saveGroup, dataObj)\n        .then(complete);\n    }\n\n    /**\n     * [get 床位分组列表信息]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getGroupList() {\n        var param = {};\n\n      param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getGroupList, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerBedController', bedControllerFunc);\n\n  /** @ngInject */\n  function bedControllerFunc($scope, $log, NgTableParams, $filter, bedService, modalService, toastr, security) {\n      var vm = this;\n\n      vm.saveGroup = saveGroup;\n      vm.edit = edit;\n      vm.deleteGroup = deleteGroup;\n      vm.formData = {};\n      vm.add = add;\n      vm.deptCode = security.getFromSession().role.deptCode;\n\n      initData();\n\n      function initData() {\n        bedService.getGroupList().then(function (response){\n            if(response){\n              vm.lst = response.data.data.lst;\n              vm.tableParams = new NgTableParams({}, {\n                dataset: vm.lst\n              });\n            }\n        });\n      }\n\n      function edit(row) {\n        vm.formData = angular.extend({}, row);\n        vm.selectedLevel = row;\n\n        if (row) {\n          if (row.beds) {\n            vm.formData.bedList = row.beds.split(';');\n          }\n        }\n      }\n\n      function add() {\n        vm.formData = {};\n      }\n\n      /************\n      ****编辑框****\n      ************/\n      vm.removeFlow = removeFlow;\n      vm.addFlow = addFlow;\n\n      function addFlow() {\n        if (vm.flowText === '') {\n          return;\n        }\n\n        vm.formData.bedList = vm.formData.bedList || [];\n\n        vm.formData.bedList.push(vm.flowText);\n\n        // 置空 ng-model里的值\n        vm.flowText = '';\n      }\n\n      function removeFlow($index) {\n        vm.formData.bedList.splice($index, 1);\n      }\n\n      function saveGroup() {\n        // debugger;\n        var data = angular.extend({}, vm.formData);\n\n        data.beds = data.bedList ? data.bedList.join(';') : '';\n        data.deptCode = vm.deptCode;\n        // return;\n        bedService.saveGroup(data).then(function(response) {\n          if (response && response.data.code === '0') {\n            toastr.success('保存成功！', '提示');\n            initData();\n            vm.formData = {};\n            modalService.close('success');\n          }\n        });\n      }\n\n      function deleteGroup(seqId) {\n        bedService.deleteGroup(seqId).then(function (response) {\n          if (response && response.data.code === '0') {\n            toastr.success('已删除！', '提示');\n            initData();\n            //如果删除选中行，那么编辑数据清空\n            if(seqId == vm.formData.seqId){\n                vm.formData = {};\n            }\n            modalService.close('success');\n          }\n        });\n      }\n  }\n\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('attemperService', attemperService);\n\n  /** @ngInject */\n  function attemperService($window, apiHost, $http, $log, $q, toastr, security) {\n    var service = {\n        getChangeClass: getChangeClass,\n        saveChangeClass : saveChangeClass,\n        deleteChangeClass : deleteChangeClass,\n        apprvChangeClass : apprvChangeClass\n    };\n\n    return service;\n\n    /**\n     * [del 删除床位分组]\n     * @param  {[string]} seqId [无]\n     * @return {[object]}       [promise]\n     */\n    function deleteChangeClass(seqId) {\n      return $http.post(apiHost.schedule.deleteChangeClass, {\n          seqId: seqId\n        })\n        .then(complete);\n    }\n\n    /**\n     * [save 保存调班申请]\n     * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n     * @return {[object]}         [promise]\n     */\n    function saveChangeClass(dataObj) {\n      return $http.post(apiHost.schedule.saveChangeClass, dataObj)\n        .then(complete);\n    }\n\n      /**\n       * [save 保存调班申请]\n       * @param  {[object]} dataObj [seqId: number; damageLevelName: string; flow: string]\n       * @return {[object]}         [promise]\n       */\n      function apprvChangeClass(dataObj) {\n          return $http.post(apiHost.schedule.apprvChangeClass, dataObj)\n              .then(complete);\n      }\n\n    /**\n     * [get 查询调班申请]\n     * @param  {[object]} params [查询参数对象]\n     * @return {[object]}        [promise]\n     */\n    function getChangeClass() {\n        var param = {};\n\n        param.deptCode = security.getFromSession().role.deptCode;\n\n      return $http.get(apiHost.schedule.getChangeClass, {\n          params: param\n      })\n        .then(complete);\n    }\n\n      function complete(response) {\n          if (response.data.code === '0') {\n              return response;\n          }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('DepartmentManagerAttemperController', attemperControllerFunc);\n\n  /** @ngInject */\n  function attemperControllerFunc($log, NgTableParams, attemperService, modalService, toastr,classesService){\n      var vm = this;\n      var formData = {};\n\n      vm.save = save;\n      vm.add = add;\n      vm.del = del;\n      vm.edit = edit;\n\n      initData();\n\n      // 获取不良事件数据\n      function initData() {\n          attemperService.getChangeClass().then(function(response) {\n              if (response) {\n                  vm.lst = response.data.data.lst;\n                  // debugger;\n                  vm.tableParams = new NgTableParams({}, {\n                      dataset: vm.lst\n                  });\n              }\n          });\n\n          classesService.getClassList().then(function(response){\n              if(response){\n                  vm.classes = response.data.data.lst;\n              }\n          });\n      }\n      //编辑\n      function edit(row){\n          formData = row;\n          open();\n      }\n      //新增\n      function add(){\n          formData = {};\n          open();\n      }\n\n      function open() {\n          modalService.open({\n              templateUrl: 'app/departmentManager/attemper/attemper.model.html',\n              size: 'lg',\n              ok: save,\n              data: {\n                  formData: formData,\n                  classes : vm.classes\n              },\n              methodsObj: {\n              }\n          });\n      }\n\n\n      function save() {\n          attemperService.saveChangeClass(formData).then(function (response){\n              if(response && response.data.code =='0'){\n                  toastr.success('保存成功！','提示');\n                  initData();\n                  modalService.close('success');\n              }\n          });\n      }\n\n      function del(seqId) {\n          attemperService.deleteChangeClass(seqId).then(function (response) {\n              if (response && response.data.code == '0') {\n                  toastr.success('已删除！', '提示');\n                  initData();\n              }\n          });\n      }\n  }\n\n})();\n\n// getUserSysRoles\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('security', securityFunc);\n\n  function securityFunc(apiHost, $http, $log, $window, toastr, $q, $location, $timeout, $state) {\n    var service = {\n      currentUser: (function() {\n        return getFromSession() || {};\n      })(),\n      roleList: [],\n      changeRole: changeRole,\n      removeFromSession: removeFromSession,\n      resetUserInfo: resetUserInfo,\n      saveAtSession: saveAtSession,\n      getFromSession: getFromSession,\n      getUserRoleList: getUserRoleList,\n      getNavigation: getNavigation,\n      addToBreadcrumb: addToBreadcrumb,\n      removeFromBreadcrumb: removeFromBreadcrumb,\n      login: login,\n      logout: logout\n    };\n\n    return service;\n\n    // 更换角色\n    function changeRole(roleObj) {\n      // 根据角色code获取左侧导航数据 同时更新sessionStorage中的用户数据\n      getNavigation(roleObj).then(function(response) {\n        if (response.data.code === '0') {\n          toastr.success('正在切换角色...', '恭喜');\n          $state.go('home');\n\n          $timeout(function() {\n            $window.location.reload();\n          }, 2000);\n        } else {\n          toastr.error('网络或数据错误，请联系管理员～', '警告');\n        }\n      });\n    }\n\n    // 登录\n    function login(formData) {\n      var deferred = $q.defer();\n\n      return $http.post(apiHost.system.login, formData).then(function(result) {\n        var response_data = result.data.data;\n        var user_info;\n\n        if (result.data['code'] == '-1') {\n          toastr.error(result.data['msg']);\n          return result;\n        }\n\n        user_info = {\n          user: response_data.user,\n          nav: response_data.funs,\n          role: response_data.role,\n          tab: {}\n        };\n\n        service.saveAtSession('userInfo', user_info);\n\n        deferred.resolve(user_info);\n        $log.info(result);\n\n        // 登录成功后跳转至首页\n        toastr.success('登录成功！');\n        $location.path('/home');\n\n        service.currentUser = user_info;\n\n        service.saveAtSession('isLogined', true);\n      }, function(error) {\n        deferred.reject(error);\n      });\n\n      return deferred.promise;\n    }\n\n    // 退出系统\n    function logout() {\n      service.removeFromSession('isLogined');\n      service.removeFromSession('userInfo');\n      $location.path('/login');\n    }\n\n    // 根据用户角色获取导航菜单\n    function getNavigation(roleObj) {\n      var userInfo = service.getFromSession();\n\n      return $http.get(apiHost.system.getNavigation, {\n          params: {\n            roleCode: roleObj.roleCode,\n            userRoleId : roleObj.seqId\n          }\n        })\n        .then(function(response) {\n          // 更新session里的导航数据和角色数据，并置空标签页\n          if (response.data.code === '0') {\n            userInfo.nav = response.data.data;\n            userInfo.role = roleObj;\n            userInfo.tab = {};\n\n            saveAtSession('userInfo', userInfo);\n          }\n          return response;\n        });\n    }\n\n    // 重置sessionStorage数据\n    function resetUserInfo(userInfoObj) {\n      $window.sessionStorage.setItem('userInfo', angular.toJson(userInfoObj));\n    }\n\n    // 往sessionStorage里存数据\n    function saveAtSession(key, value) {\n      var to_save_value = value;\n\n      if (angular.isObject(value) || angular.isArray(value)) {\n        to_save_value = angular.toJson(value);\n      }\n\n      $window.sessionStorage.setItem(key, to_save_value);\n    }\n\n    // 从sessionStorage里取数据\n    function getFromSession(key) {\n      var _key = key;\n      // 如果key为空，默认取用户的数据，避免在其他模块多次写userinfo字符串\n      if (!key) {\n        _key = 'userInfo';\n      }\n\n      return angular.fromJson($window.sessionStorage.getItem(_key));\n    }\n\n    // 清空sessionStorage 的数据\n    function removeFromSession(key) {\n      if (typeof key !== 'string') {\n        throw 'key必须是字符串';\n      }\n\n      $window.sessionStorage.removeItem(key);\n    }\n\n    function addToBreadcrumb(key, value) {\n      service.currentUser.tab[key] = value;\n\n      resetUserInfo(service.currentUser);\n    }\n\n    function removeFromBreadcrumb(key) {\n      delete service.currentUser.tab[key];\n\n      resetUserInfo(service.currentUser);\n    }\n\n    // 获取当前用户的所有角色\n    function getUserRoleList(params) {\n      return $http.get(apiHost.system.getRoleList, {\n          params: params\n        })\n        .then(function(response) {\n          service.roleList = response.data.data;\n          if (response.data.code === '0') {\n            return response;\n          }\n        })\n        .catch(function(error) {\n          $log.error('获取角色失败', error);\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    // 响应拦截器\n    .factory('myHttpInterceptor', interceptorFunc);\n\n  /** @ngInject */\n  function interceptorFunc($log, $location, $window, $q, $injector) {\n    var toastr;\n    var isLogined = angular.fromJson($window.sessionStorage.getItem('isLogined'));\n\n    function initToastrIfNeed() {\n      if (toastr) {\n        return;\n      }\n      toastr = $injector.get('toastr');\n    }\n\n    return {\n      // 请求成功\n      request: function(config) {\n        $log.info('请求结果：' + config.url ,config);\n        initToastrIfNeed();\n\n        return config || $q.when(config);\n      },\n\n      // 请求失败\n      requestError: function(rejection) {\n        $log.info('请求失败：' + rejection.statusText ,rejection);\n        // 避免出现循环注入的错误\n        initToastrIfNeed();\n        toastr.error('请检查网络连接或联系服务器管理员！', '请求错误');\n        return $q.reject(rejection);\n      },\n\n      // 响应成功\n      response: function(response) {\n        var security = $injector.get('security');\n        $log.info('响应结果：' + response.config.url ,response);\n\n        if (response.data.code == -2) {\n          security.logout();\n        }\n\n        if (response.data.code == -1) {\n          initToastrIfNeed();\n          toastr.error(response.data.msg + '<br>错误码：-1', '操作不成功！');\n        }\n\n        return response || $q.when(response);\n      },\n\n      // 响应失败\n      responseError: function(rejection) {\n        $log.info('响应失败：' + rejection.statusText ,rejection);\n        // 避免出现循环注入的错误\n        initToastrIfNeed();\n        toastr.error('错误码：' + rejection.status + '<br> URL：' + (rejection.config && rejection.config.url || '') + '\\n ' + rejection.message + '请检查网络连接或联系服务器管理员！', '没有响应');\n\n        return $q.reject(rejection);\n      }\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('deptService', deptServiceFunc);\n\n  /** @ngInject */\n  /**\n   * [deptServiceFunc 科室数据]\n   * @param  {[Object]} $window [全局window对象]\n   * @return {[Object]}         [包涵接口和科室列表数据]\n   */\n  function deptServiceFunc($window, $http, apiHost, $log, toastr, security) {\n    var userRole = security.getFromSession()['role'];\n\n    var service = {\n      apiHost: apiHost,\n      getDeptData: getDeptData,\n      deptList: []\n    };\n\n    return service;\n\n    function getDeptData() {\n\n      return $http.get(apiHost.user.getDept, {\n        params: {\n          deptCode: userRole.deptCode\n        }\n      })\n        .then(getDeptListComplete)\n        .catch(getDeptListFailed);\n\n      function getDeptListComplete(response) {\n        if (response.data.code === '0') {\n          // 不传科室code时，获得全部科室数据\n          if (!userRole.deptCode) {\n            service.deptList = response.data.data;\n          }\n\n          return response.data.data;\n        } else {\n          $log.error('获取科室数据失败！\\n' + response.data.msg);\n        }\n      }\n\n      function getDeptListFailed(error) {\n        $log.error('获取科室数据失败！\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n// getUserSysRoles\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .factory('modalService', modalServiceFunc);\n\n  function modalServiceFunc($uibModal, $uibModalStack) {\n    return {\n      open: function(options) {\n        $uibModal.open({\n          templateUrl: options.templateUrl,\n          size: options.size,\n          backdrop: 'static',\n          appendTo: options.appendTo,\n          animation: options.animation || true,\n          controller: 'ModalController',\n          controllerAs: 'vm',\n          resolve: {\n            initFn: function() {\n              return options.initFn;\n            },\n            ok: function() {\n              return options.ok;\n            },\n            data: function() {\n              if (options.data) {\n                return options.data;\n              }\n            },\n            methodsObj: function () {\n              if (options.methodsObj) {\n                return options.methodsObj;\n              }\n            }\n          }\n        });\n      },\n      close: function(reason) {\n        $uibModalStack.dismissAll(reason);\n      }\n    };\n  }\n})();\n\n(function (){\n    'use strict';\n\n    angular\n        .module('nqms')\n        .controller('ModalController',ModalControllerFunc);\n\n    function ModalControllerFunc($rootScope, $scope, $uibModalInstance, ok, data, methodsObj, initFn){\n      var vm = this;\n\n      vm.rootScope = $rootScope;\n      vm.scope = $scope;\n\n      // 预设的表单数据\n      vm.formData = data && data.formData;\n      // 预设的原始数据\n      vm.metaData = data && data.metaData;\n\n      // 在弹层中调用的事件栈\n      if (angular.isObject(methodsObj)) {\n        for (var prop in methodsObj) {\n          if (typeof methodsObj[prop] === 'function') {\n            vm[prop] = methodsObj[prop];\n          }\n        }\n      } else {\n        if (methodsObj) {\n          $log.error('methodsObj必须是对象!');\n        }\n      }\n\n      initFn && initFn(vm);\n\n      vm.ok = function() {\n        ok(vm.formData);\n      };\n\n      vm.cancel = function() {\n        $uibModalInstance.dismiss('cancel');\n      };\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .directive('loading', loadingFunc);\n\n  /** @ngInject */\n  /**\n   * [loadingFunc 全局加载动画]\n   * @return {[object]} [指令对象]\n   */\n  function loadingFunc($http, $log) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/common/loading/loading.tpl.html',\n      link: loadingLinkFunc,\n      scope: {},\n      controller: function ($window, $log) {\n        var vm = this;\n\n        $log.info('windowWidth:' ,$window);\n\n        vm.loadingWidth = $window.innerWidth - 200;\n      },\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    function loadingLinkFunc(scope, elem, attrs) {\n      $log.info('scope', scope);\n      scope.isLoading = function() {\n        return $http.pendingRequests.length > 0;\n      };\n\n      scope.$watch(scope.isLoading, function(v) {\n        // $(elem).show();\n        if (v) {\n          elem[0].setAttribute('style', 'display: block');\n        } else {\n          elem[0].setAttribute('style', 'display: none');\n        }\n      });\n    }\n  }\n\n\n\n})();\n\n/**\n * Created by gary on 16/4/1.\n */\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($log, $rootScope, $scope, $uibModal, $location, $window, security) {\n    var vm = this;\n    var isLogined;\n\n    /*\n    高亮显示标签页\n     */\n    $scope.isActive = vm.isActive = function(path) {\n      var pathLen = 0;\n      var locationPath;\n\n      if (path === '') return false;\n\n      pathLen = path.length;\n      locationPath = $location.path().substr(-pathLen, pathLen);\n\n      return path === locationPath;\n    };\n\n    /*\n    当路由发生改变时，判别是否已登录，若非登录则跳转至登录页。\n     */\n    $rootScope.$on('$stateChangeStart',\n      function(event, toState, toParams, fromState, fromParams, options) {\n        isLogined = security.getFromSession('isLogined');\n        if (toState.name === 'login') {\n          if (isLogined) {\n            event.preventDefault();\n          }\n        }\n      });\n  }\n})();\n\n/**\n * Created by lin on 16/3/13.\n */\n\n/**\n * Created by lin on 16/3/13.\n */\n(function () {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(function (w5cValidatorProvider) {\n      w5cValidatorProvider.setRules({\n        loginName: {\n          required: \"用户名不能为空\",\n          pattern: \"用户名必须输入字母、数字、下划线\"\n        },\n        password: {\n          required: \"密码不能为空\",\n          minlength: \"密码长度不能小于{minlength}\",\n          maxlength: \"密码长度不能大于{maxlength}\"\n        }\n      });\n    })\n    .controller('LoginController', loginController);\n\n  /** @ngInject */\n  function loginController($log, security) {\n    var vm = this;\n\n    vm.loginBtnStatus = {\n      title: '登录',\n      state: ''\n    };\n\n    vm.login = function (data) {\n      vm.loginBtnStatus.title = '正在登录...';\n      vm.loginBtnStatus.state = 'disabled';\n\n      security.login(data)\n      .then(setLoginBtnstate, setLoginBtnstate);\n    };\n\n    vm.validationOption = {\n      blurTrig: true\n    };\n\n    function setLoginBtnstate() {\n      vm.loginBtnStatus.title = '登录';\n      vm.loginBtnStatus.state = '';\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $window, $location) {\n    var isLogined = angular.fromJson($window.sessionStorage.getItem('isLogined'));\n    \n    $log.debug('runBlock end');\n\n    if (!isLogined) {\n      $location.path('/login');\n      return;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n    $stateProvider\n      // .state('/', {\n      //   url: '/home',\n      //   templateUrl: 'app/main/main.html',\n      //   controller: 'MainController',\n      //   controllerAs: 'main'\n      // })\n      .state('home', {\n       url: '/home',\n       templateUrl: 'app/main/main.html',\n       controller: 'MainController',\n       controllerAs: 'main'\n       })\n      .state('home.files', {\n        url:'/files',\n        templateUrl: 'app/nursingWorkers/files/files.tpl.html',\n        controller: 'NursingWorkersFileController',\n        controllerAs: 'vm'\n      })\n      .state('home.internship', {\n        url:'/internship',\n        templateUrl: 'app/nursingWorkers/internship/internship.tpl.html',\n        controller: 'NursingWorkersInternshipController',\n        controllerAs: 'vm'\n      })\n      .state('home.graduate', {\n        url:'/graduate',\n        templateUrl: 'app/nursingWorkers/graduate/graduate.tpl.html',\n        controller: 'NursingWorkersGraduateController',\n        controllerAs: 'vm'\n      })\n      .state('home.technical', {\n        url:'/technical',\n        templateUrl: 'app/nursingWorkers/technical/technical.tpl.html',\n        controller: 'NursingWorkersTechnicalController',\n        controllerAs: 'vm'\n      })\n      .state('home.ulteriorly', {\n        url:'/ulteriorly',\n        templateUrl: 'app/nursingWorkers/ulteriorly/ulteriorly.tpl.html',\n        controller: 'NursingWorkersUlteriorlyController',\n        controllerAs: 'vm'\n      })\n      .state('home.attemper', {\n        url:'/attemper',\n        templateUrl: 'app/departmentManager/attemper/attemper.tpl.html',\n        controller: 'DepartmentManagerAttemperController',\n        controllerAs: 'vm'\n      })\n      .state('home.nursingStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/nursingWorkers/statistics/statistics.tpl.html',\n        controller: 'NursingWorkersStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.bed', {\n        url:'/bed',\n        templateUrl: 'app/departmentManager/bed/bed.tpl.html',\n        controller: 'DepartmentManagerBedController',\n        controllerAs: 'vm'\n      })\n      .state('home.classes', {\n         url:'/classes',\n         templateUrl: 'app/departmentManager/classes/classes.tpl.html',\n         controller: 'DepartmentManagerClassesController',\n         controllerAs: 'vm'\n      })\n      .state('home.endemicArea', {\n        url:'/endemicArea',\n        templateUrl: 'app/departmentManager/endemicArea/endemicArea.tpl.html',\n        controller: 'DepartmentManagerEndemicAreaController',\n        controllerAs: 'vm'\n      })\n      .state('home.turns', {\n        url:'/turns',\n        templateUrl: 'app/departmentManager/turns/turns.tpl.html',\n        controller: 'DepartmentManagerTurnsController',\n        controllerAs: 'vm'\n      })\n      .state('home.turnsRule', {\n        url:'/turnsRule',\n        templateUrl: 'app/departmentManager/turnsRule/turnsRule.tpl.html',\n        controller: 'DepartmentManagerTurnsRuleController',\n        controllerAs: 'vm'\n      })\n      .state('home.leave', {\n        url:'/leave',\n        templateUrl: 'app/departmentManager/leave/leave.tpl.html',\n        controller: 'DepartmentManagerLeaveController',\n        controllerAs: 'vm'\n      })\n      .state('home.departmentAttemper', {\n        url:'/attemper',\n        templateUrl: 'app/departmentManager/attemper/attemper.tpl.html',\n        controller: 'DepartmentManagerAttemperController',\n        controllerAs: 'vm'\n      })\n      .state('home.departmentStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/departmentManager/statistics/statistics.tpl.html',\n        controller: 'DepartmentManagerStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.type', {\n        url:'/type',\n        templateUrl: 'app/malCaseUp/type/type.tpl.html',\n        controller: 'MalCaseUpTypeController',\n        controllerAs: 'vm'\n      })\n      .state('home.call', {\n        url:'/call',\n        templateUrl: 'app/malCaseUp/call/call.tpl.html',\n        controller: 'MalCaseUpCallController',\n        controllerAs: 'vm'\n      })\n      .state('home.level', {\n        url:'/level',\n        templateUrl: 'app/malCaseUp/level/level.tpl.html',\n        controller: 'MalCaseUpLevelController',\n        controllerAs: 'vm'\n      })\n      .state('home.handle', {\n        url:'/handle',\n        templateUrl: 'app/malCaseUp/handle/handle.tpl.html',\n        controller: 'MalCaseUpHandleController',\n        controllerAs: 'vm'\n      })\n      .state('home.handle.malCase', {\n        url:'/malCase',\n        templateUrl: 'app/malCaseUp/handle/malCaseInfo.tpl.html'\n      })\n      .state('home.handle.report', {\n        url:'/report',\n        templateUrl: 'app/malCaseUp/handle/report.tpl.html'\n      })\n      .state('home.handle.requirement', {\n        url:'/requirement',\n        templateUrl: 'app/malCaseUp/handle/requirement.tpl.html'\n      })\n      .state('home.handle.measures', {\n        url:'/measures',\n        templateUrl: 'app/malCaseUp/handle/measures.tpl.html'\n      })\n      .state('home.handle.estimate', {\n        url:'/estimate',\n        templateUrl: 'app/malCaseUp/handle/estimate.tpl.html'\n      })\n      .state('home.fix', {\n        url:'/fix',\n        templateUrl: 'app/malCaseUp/handle/handle.tpl.html',\n        controller: 'MalCaseUpHandleController',\n        controllerAs: 'vm'\n      })\n      .state('home.element', {\n        url:'/element',\n        templateUrl: 'app/malCaseUp/element/element.tpl.html',\n        controller: 'MalCaseUpElementController',\n        controllerAs: 'vm'\n      })\n      .state('malCaseUpStatistics', {\n        url:'/statistics',\n        templateUrl: 'app/malCaseUp/statistics/statistics.tpl.html',\n        controller: 'MalCaseUpStatisticsController',\n        controllerAs: 'vm'\n      })\n      .state('home.roles', {\n        url:'/roles',\n        templateUrl: 'app/system/roles/roles.tpl.html',\n        controller: 'RolesController',\n        controllerAs: 'vm'\n      })\n      .state('home.users', {\n        url:'/users',\n        templateUrl: 'app/system/users/users.tpl.html',\n        controller: 'UsersController',\n        controllerAs: 'vm'\n      })\n        .state('home.workManual', {\n            url:'/manualWork',\n            templateUrl: 'app/manual/workManual/workManual.tpl.html',\n            controller: 'ManualWorkController',\n            controllerAs: 'vm'\n        })\n        .state('home.manualItem', {\n            url:'/manualItem',\n            templateUrl: 'app/manual/item/item.tpl.html',\n            controller: 'ManualItemController',\n            controllerAs: 'vm'\n        })\n        .state('home.qualityCheck', {\n            url:'/qualityCheck',\n            templateUrl: 'app/quality/check/check.tpl.html',\n            controller: 'QualityCheckController',\n            controllerAs: 'vm'\n        })\n        .state('home.qualityDeal', {\n            url:'/qualityDeal',\n            templateUrl: 'app/quality/deal/deal.tpl.html',\n            controller: 'QualityDealController',\n            controllerAs: 'vm'\n        })\n        .state('home.qualityForm', {\n            url:'/qualityForm',\n            templateUrl: 'app/quality/form/form.tpl.html',\n            controller: 'QualityFormController',\n            controllerAs: 'vm'\n        })\n        .state('home.qualityTask', {\n            url:'/qualityTask',\n            templateUrl: 'app/quality/task/task.tpl.html',\n            controller: 'QualityTaskController',\n            controllerAs: 'vm'\n        })\n        .state('home.researchItem', {\n            url:'/researchItem',\n            templateUrl: 'app/research/item/item.tpl.html',\n            controller: 'ResearchItemController',\n            controllerAs: 'vm'\n        })\n        .state('home.researchPapers', {\n            url:'/researchPapers',\n            templateUrl: 'app/research/papers/papers.tpl.html',\n            controller: 'ResearchPapersController',\n            controllerAs: 'vm'\n        })\n      .state('login', {\n        url: '/login',\n        templateUrl: 'app/login/login.html'\n      });\n\n    $urlRouterProvider.otherwise('/login');\n    // $locationProvider.html5Mode(true);\n  }\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .constant('moment', moment)\n    .constant('apiHost', (function() {\n      //var path = 'http://127.0.0.1:8003/mnisqm';\n      var path = '/mnisqm';\n\n      return {\n        system: {\n          login: path + '/system/login',\n          getRoleList: path + '/system/getRoleLst',\n          getNavigation: path + '/system/getFunction'\n        },\n        user: {\n          getDept: path + '/user/getUserDepts'\n        },\n        files: {\n          getUserList: path + '/user/getUserList',\n          getUserDetailInfo: path + '/user/getUserDetailInfo',\n          add: path + '/user/insertObj',\n          delete: path + '/user/deleteUserInfo',\n          update: path + '/user/updateObj',\n          save: path + '/user/saveComUser'\n        },\n        roles: {\n          getNotHaveFunction: path + '/system/getNotHaveFunction',\n          getFunction: path + '/system/getFunction',\n          getHaveFunction: path + '/system/getHaveFunction',\n          updateRole: path + '/system/saveSysRoleFuns',\n          deleteRole: path + '/system/deleteRole',\n          saveRole: path + '/system/saveRole'\n        },\n        users: {\n          getUserList: path + '/system/getSysUserList',\n          deleteUser: path + '/system/deleteSysUser',\n          deleteUserRole: path + '/system/deleteSysUserRole',\n          saveUserRole: path + '/system/saveSysUserRole',\n          saveUser: path + '/system/saveSysUser'\n        },\n        events: {\n          //获取不良是类型\n          getEventTypeList: path + '/event/getEventTypeList',\n          getEventList: path + '/event/getEventList',\n          getEventReport: path + '/event/getEventReport',\n          saveEventReport: path + '/event/saveEventReport',\n          deleteEventReport: path + '/event/deleteEventReport',\n          getReportDetail: path + '/event/getReportDetail',\n          // 不良事件调查信息新增／修改\n          saveReportDetail: path + '/event/saveReportDetail',\n          // 不良事件要求新增／修改\n          saveEventRequirement: path + '/event/saveEventRequirement',\n          // 不良事件事件要求查询\n          getEventRequirement: path + '/event/getEventRequirement',\n          // 不良事件要求删除\n          deleteEventRequirement: path + '/event/deleteEventRequirement',\n          // 不良事件措施新增／修改\n          saveEventMeasures: path + '/event/saveEventMeasures',\n          // 不良事件措施查询\n          getEventMeasures: path + '/event/getEventMeasures',\n          // 不良事件措施删除\n          deleteEventMeasures: path + '/event/deleteEventMeasures',\n          // 不良事件报告关闭\n          // 待定\n          // 不良事件级别保存\n          saveEventLevel: path + '/event/saveEventLevel',\n          // 不良事件级别查询\n          getEventLevels: path + '/event/getEventLevels',\n          // 不良事件分级删除\n          deleteEventLevel: path + '/event/deleteEventLevel'\n        },\n        schedule: {\n          //新建排班\n          newSchedule: path + '/schedule/newSchedule',\n          //保存排班\n          saveSchedule: path + '/schedule/saveSchedule',\n          //获取排班\n          getSchedule: path + '/schedule/getSchedule',\n          //查询科室分组管理\n          getGroupList: path + '/schedule/getGroupList',\n          //删除分组\n          deleteGroup: path + '/schedule/deleteGroup',\n          //保存分组\n          saveGroup: path + '/schedule/saveGroup',\n          //查询科室班次信息\n          getClassList: path + '/schedule/getClassList',\n          //保存班次新\n          saveClass: path + '/schedule/saveClass',\n          //删除班次信息\n          deleteClass: path + '/schedule/deleteClass',\n          //查询请假信息\n          getLeaveList: path + '/schedule/getLeaveList',\n          //保存请假\n          saveScheduleLeave: path + '/schedule/saveScheduleLeave',\n          //删除请假信息\n          deleteScheduleLeave: path + '/schedule/deleteScheduleLeave',\n          //审批请假\n          apprvScheduleLeave: path + '/schedule/apprvScheduleLeave',\n          //排班规则查询\n          getRuleList: path + '/schedule/getRuleList',\n          //保存排班规则\n          saveRule: path + '/schedule/saveRule',\n          //删除排班规则\n          deleteRule: path + '/schedule/deleteRule',\n          //查询病区护理人员\n          getUserNurses: path + '/schedule/getUserNurses',\n          //保存病区护理人员\n          batchSaveUserNurse: path + '/schedule/batchSaveUserNurse',\n          //获取调班信息\n          getChangeClass: path + '/schedule/getChangeClass',\n          //保存调班\n          saveChangeClass: path + '/schedule/saveChangeClass',\n          //删除调班\n          deleteChangeClass: path + '/schedule/deleteChangeClass',\n          //审批调班\n          apprvChangeClass: path + '/schedule/apprvChangeClass',\n          //负责上周\n          copySchedule: path + '/schedule/copySchedule'\n        },\n        research: {\n          //查询科研项目列表\n          getResearchItems: path + '/research/getResearchItems',\n          //保存科研项目\n          saveResearchItem: path + '/research/saveResearchItem',\n          //删除科研项目\n          deleteResearchItem: path + '/research/deleteResearchItem'\n        },\n        qualityForm: {\n          //获取质量检查表列表\n          getQualityForm: path + '/queryQualityFormByDeptCodeAndType',\n          //保存质量检查模板\n          saveQualityForm: path + '/quality/saveQualityForm',\n          //更新质量检查模板\n          getFormList: path + '/quality/updateQualityForm',\n          //删除质量检查模板\n          deleteQualityForm: path + '/quality/deleteQualityForm',\n        }\n      };\n    })());\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('nqms')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, w5cValidatorProvider, $httpProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.autoDismiss = true;\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-center';\n    // toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = false;\n    toastrConfig.preventOpenDuplicates = true;\n    toastrConfig.position = 'toast-top-center';\n    toastrConfig.iconClasses = {\n      error: 'toast-error',\n      info: 'toast-info',\n      success: 'toast-success',\n      warning: 'toast-warning'\n    };\n\n    // 验证 全局配置\n    w5cValidatorProvider.config({\n      blurTrig: true,\n      showError: true,\n      removeError: true\n    });\n\n    // 拦截器配置\n    // Add the interceptor to the $httpProvider.\n    $httpProvider.interceptors.push('myHttpInterceptor');\n  }\n\n})();\n\nangular.module(\"nqms\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/login/login.html\",\"<div class=\\\"center-bg\\\" ng-controller=\\\"LoginController as vm\\\"><div class=\\\"left-bg\\\"></div><div class=\\\"w\\\"><div class=\\\"login-wrapper\\\"><div class=\\\"logo-nurse\\\"></div><div class=\\\"login-box\\\"><div class=\\\"login-box__header\\\">用户登录</div><form class=\\\"login-box__form form-wrapper w5c-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"loginForm\\\"><div class=\\\"err-wrapper\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\"><span class=\\\"fa fa-user\\\"></span></label> <input autocomplete=\\\"off\\\" ng-pattern=\\\"/^[0-9A-Za-z_]{1,19}$/\\\" required=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.loginName\\\" name=\\\"loginName\\\" class=\\\"form-ctr input\\\" id=\\\"user-name\\\" placeholder=\\\"用户名\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\" for=\\\"password\\\"><span class=\\\"fa fa-lock\\\"></span></label> <input autocomplete=\\\"off\\\" type=\\\"password\\\" required=\\\"\\\" name=\\\"password\\\" ng-model=\\\"vm.formData.password\\\" class=\\\"form-ctr input\\\" id=\\\"password\\\" placeholder=\\\"密码\\\"></div><div class=\\\"submit-wrapper form-item\\\"><button w5c-form-submit=\\\"vm.login(vm.formData)\\\" class=\\\"btn login-btn btn-default {{vm.loginBtnStatus.state}}\\\">{{vm.loginBtnStatus.title}}</button></div><div class=\\\"reset-password\\\"><a href=\\\"javascript:;\\\">重置</a></div></form></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container-fluid full-screen\\\"><acme-header></acme-header><acme-navbar></acme-navbar><acme-bread></acme-bread><div class=\\\"main-body container-fluid\\\" ui-view=\\\"\\\"></div></div>\");\n$templateCache.put(\"app/role/role.tpl.html\",\"<!DOCTYPE html><html lang=\\\"en\\\"><head><meta charset=\\\"UTF-8\\\"><title>Title</title></head><body></body></html>\");\n$templateCache.put(\"app/common/loading/loading.tpl.html\",\"<div class=\\\"loading-wrapper\\\" ng-style=\\\"{width: vm.loadingWidth}\\\"><div class=\\\"spinner\\\"><div class=\\\"rect1\\\"></div><div class=\\\"rect2\\\"></div><div class=\\\"rect3\\\"></div><div class=\\\"rect4\\\"></div><div class=\\\"rect5\\\"></div></div></div>\");\n$templateCache.put(\"app/common/tpls/loading.tpl.html\",\"<div class=\\\"loading-wrapper\\\" ng-style=\\\"{width: vm.loadingWidth}\\\"><div class=\\\"spinner\\\"><div class=\\\"rect1\\\"></div><div class=\\\"rect2\\\"></div><div class=\\\"rect3\\\"></div><div class=\\\"rect4\\\"></div><div class=\\\"rect5\\\"></div></div></div>\");\n$templateCache.put(\"app/components/breadcrumb/breadcrumb.html\",\"<div class=\\\"tab-bread-wrapper\\\"><ul class=\\\"tab-bread\\\"><li ng-repeat=\\\"(id, name) in bc.tabTemp\\\" uib-tooltip=\\\"{{name}}\\\" tooltip-placement=\\\"bottom\\\"><div ui-sref=\\\".{{id}}\\\" ui-sref-active=\\\"active\\\" ng-class=\\\"{active: bc.isActive(\\'{{id}}\\')}\\\" class=\\\"tab-bread__item\\\" href=\\\"#\\\"><span>{{name}}</span> <a ng-click=\\\"bc.removeTab($event)\\\" data-id=\\\"{{id}}\\\" class=\\\"close-tab\\\" href=\\\"javascript:;\\\">×</a></div></li></ul></div>\");\n$templateCache.put(\"app/components/header/changeRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">切换角色</h5></div><div class=\\\"modal-body\\\">您的现有角色：<table class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th></th><th>角色编号</th><th>角色名称</th><th>所属部门</th></tr><tr ng-repeat=\\\"row in vm.userRoleList\\\" ng-class=\\\"{success: row.seqId === vm.currentRole.seqId, active: row.seqId === vm.selectedRole.seqId}\\\"><td><input id=\\\"{{row.seqId}}\\\" name=\\\"userRole\\\" ng-click=\\\"vm.showRole(row)\\\" type=\\\"radio\\\" value=\\\"{{row.seqId}}\\\" ng-model=\\\"vm.selectedRole.seqId\\\"></td><td data-title=\\\"\\'角色编号\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{row.roleCode}}</label></td><td data-title=\\\"\\'角色名称\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{row.roleName}}</label></td><td data-title=\\\"\\'所属部门\\'\\\"><label for=\\\"{{row.seqId}}\\\">{{ row.deptName }}</label></td></tr></table></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.roleBtnStatus.state}}\\\" type=\\\"button\\\" {{vm.loginbtnstatus.state}}=\\\"\\\" ng-click=\\\"vm.changeRole()\\\">{{vm.roleBtnStatus.title}}</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/components/header/changeUser.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">切换用户</h5></div><form class=\\\"form w5c-form login-box__form change-user-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"changeUserForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\"><span class=\\\"fa fa-user\\\"></span></label> <input autocomplete=\\\"off\\\" ng-pattern=\\\"/^[0-9A-Za-z_]{1,19}$/\\\" required=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.loginName\\\" name=\\\"loginName\\\" class=\\\"form-ctr input\\\" id=\\\"user-name\\\" placeholder=\\\"用户名\\\"></div><div class=\\\"form-item form-item__sm\\\"><label class=\\\"name-label\\\" for=\\\"password\\\"><span class=\\\"fa fa-lock\\\"></span></label> <input autocomplete=\\\"off\\\" type=\\\"password\\\" required=\\\"\\\" name=\\\"password\\\" ng-model=\\\"vm.formData.password\\\" class=\\\"form-ctr input\\\" id=\\\"password\\\" placeholder=\\\"密码\\\"></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" {{vm.loginbtnstatus.state}}=\\\"\\\" w5c-form-submit=\\\"vm.changeUser(vm.formData)\\\">{{vm.loginBtnStatus.title}}</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/components/header/header.html\",\"<div class=\\\"header-top\\\"><div class=\\\"logo-wrapper pull-left\\\"><a href=\\\"/\\\" class=\\\"logo\\\"></a></div><div class=\\\"header-right pull-right\\\"><div class=\\\"header-item time-now\\\"><i class=\\\"fa fa-calendar\\\"></i> {{hd.time_now}}</div><div class=\\\"header-item messages\\\"><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"msg.isopen\\\"><button id=\\\"msg-button\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"fa fa-bell\\\"></i> 消息 <i class=\\\"fa fa-chevron-down\\\"></i></button><ul uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"msg-button\\\"><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li><li><a href=\\\"\\\">账号信息</a></li></ul></div></div><div class=\\\"header-item user\\\"><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"user.isopen\\\"><button id=\\\"user-button\\\" type=\\\"button\\\" class=\\\"btn btn-default\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\"><i class=\\\"fa fa-user\\\"></i> {{hd.user.loginName}} <span class=\\\"fa fa-chevron-down\\\"></span></button><ul uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"user-button\\\"><li><a href=\\\"javascript:;\\\"><i class=\\\"fa fa-exclamation-circle\\\"></i> 账号信息</a></li><li><a href=\\\"javascript:;\\\" ng-click=\\\"hd.openRoleDialog()\\\"><i class=\\\"fa fa-exchange\\\"></i> <span>切换角色</span></a></li><li><a href=\\\"javascript:;\\\" ng-click=\\\"hd.openUserDialog()\\\"><i class=\\\"fa fa-users\\\"></i> <span>切换用户</span></a></li><li><a ng-click=\\\"hd.logout()\\\" href=\\\"javascript:;\\\"><i class=\\\"fa fa-sign-out\\\"></i> <span>退出系统</span></a></li></ul></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<div class=\\\"left-nav\\\"><div class=\\\"nav-wrapper\\\"><uib-accordion class=\\\"nav-menu\\\"><uib-accordion-group panel-class=\\\"nav-menu_item\\\" ng-repeat=\\\"item in vm.navData\\\" data-title=\\\"{{item.funUrl}}\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><i class=\\\"fa fa-{{item.icoName}} nav-menu_item-icon\\\"></i> <span class=\\\"nav-menu_item-text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"nav-menu_sub-item\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ui-sref-active=\\\"active\\\" ng-class=\\\"{active: vm.isActive(\\'{{subItem.funUrl}}\\')}\\\" data-id=\\\"{{subItem.funUrl}}\\\" data-name=\\\"{{subItem.funName}}\\\" ng-click=\\\"vm.addToBread($event)\\\" ui-sref=\\\".{{subItem.funUrl}}\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div>\");\n$templateCache.put(\"app/departmentManager/attemper/attemper.model.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写排班规则</h5></div><form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请人：</label> <input ng-model=\\\"vm.formData.applyUserCode\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请原因：</label> <input ng-model=\\\"vm.formData.changeCause\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">处理状态：</label><select ng-model=\\\"vm.formData.status\\\"><option value=\\\"01\\\">未处理</option><option value=\\\"02\\\">已审批</option><option value=\\\"03\\\">已拒绝</option></select></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">处理备注：</label> <input ng-model=\\\"vm.formData.remark\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请人班次：</label> <input ng-model=\\\"vm.formData.applyClass\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">申请人班次日期：</label> <input ng-model=\\\"vm.formData.applyClassDate\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">调班人：</label> <input ng-model=\\\"vm.formData.changeUserCode\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">调班人班次：</label> <input ng-model=\\\"vm.formData.changeClass\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">调班人班次日期：</label> <input ng-model=\\\"vm.formData.changeClassDate\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/departmentManager/attemper/attemper.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>调班管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.add()\\\">新增调班</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>申请人</th><th>申请时间</th><th>申请原因</th><th>处理状态</th><th>处理备注</th><th>申请人班次</th><th>申请人班次日期</th><th>调班人</th><th>调班人班次</th><th>调班人班次日期</th><th>操作</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td>{{row.changeUserCode}}</td><td>{{row.group}}</td><td>{{row.changeCause}}</td><td>{{row.status}}</td><td>{{row.refuseCause}}</td><td>{{row.applyClass}}</td><td>{{row.applyClassDate}}</td><td>{{row.changeUserCode}}</td><td>{{row.changeClass}}</td><td>{{row.changeClassDate}}</td><td><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/bed/bed.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/departmentManager/classes/addClasses.tpl.html\",\"<div class=\\\"mod-pop-dateForm\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">新增班次</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addClassesForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"\\\"><div class=\\\"form-group\\\"><label for=\\\"dept\\\" class=\\\"col-sm-3 control-label\\\">科室：</label><div class=\\\"col-sm-6\\\"><input class=\\\"form-control input-sm input-none\\\" readonly=\\\"\\\" name=\\\"\\\" id=\\\"dept\\\" type=\\\"text\\\" value=\\\"{{vm.formData.deptName}}\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"turn\\\" class=\\\"col-sm-3 control-label\\\">班次：</label><div class=\\\"col-sm-4\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.className\\\" id=\\\"turn\\\" name=\\\"\\\" autocomplete=\\\"off\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group partial-form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-3 control-label\\\">开始时间：</label><div class=\\\"col-sm-8\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.startTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" second-step=\\\"1\\\" required=\\\"\\\" show-meridian=\\\"false\\\"></uib-timepicker></div></div><div class=\\\"form-group partial-form-group\\\"><label for=\\\"\\\" class=\\\"col-sm-3 control-label\\\">结束时间：</label><div class=\\\"col-sm-8\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.endTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" required=\\\"\\\" show-meridian=\\\"false\\\"></uib-timepicker></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/departmentManager/classes/classes.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>班次管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addClasses()\\\">新增班次</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'科室\\'\\\">{{vm.deptName}}</td><td data-title=\\\"\\'班次\\'\\\">{{ row.className }}</td><td data-title=\\\"\\'开始时间\\'\\\">{{ row.startTime }}</td><td data-title=\\\"\\'结束时间\\'\\\">{{ row.endTime }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-primary btn-xs classes-handler-btn\\\" uib-tooltip=\\\"编辑\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs classes-handler-btn\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/endemicArea/endemicArea.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>病区护理人员管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>工号</th><th>姓名</th><th>所属护理组</th><th>护士级别</th><th>是否夜班准入</th><th>是否参与排班</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td>{{row.hisCode}}</td><td>{{row.userName}}</td><td><select ng-model=\\\"row.groupCode\\\"><option ng-repeat=\\\"group in vm.groupLst\\\" value=\\\"{{group.groupCode}}\\\">{{group.groupName}}</option></select></td><td><select ng-model=\\\"row.level\\\"><option value=\\\"01\\\">N1</option><option value=\\\"02\\\">N2</option><option value=\\\"03\\\">N3</option></select></td><td><select ng-model=\\\"row.night\\\"><option value=\\\"1\\\">是</option><option value=\\\"0\\\">否</option></select></td><td><select ng-model=\\\"row.isSchedule\\\"><option value=\\\"1\\\">是</option><option value=\\\"0\\\">否</option></select></td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.saveArea()\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/addLeave.tpl.html\",\"<div class=\\\"mod-pop-dateForm addLeave\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">请假</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addleaveForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"\\\"><div class=\\\"form-group\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">请假原因：</label><div class=\\\"col-sm-7\\\"><textarea class=\\\"form-control input-sm partial-textarea\\\" id=\\\"txt\\\" ng-model=\\\"vm.formData.leaveWhy\\\"></textarea></div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">开始时间：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm partial-input partial-input-sm date-pick\\\" uib-datepicker-popup=\\\"yyyy-MM-dd\\\" ng-model=\\\"vm.formData.startDate\\\" is-open=\\\"popup1\\\" ng-click=\\\"popup1 = true\\\" placeholder=\\\"年-月-日\\\" required=\\\"\\\" readonly=\\\"\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.startTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" second-step=\\\"1\\\" show-meridian=\\\"false\\\" show-seconds=\\\"true\\\"></uib-timepicker></div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">结束时间：</label><div class=\\\"col-sm-8\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm partial-input partial-input-sm date-pick\\\" uib-datepicker-popup=\\\"yyyy-MM-dd\\\" ng-model=\\\"vm.formData.endDate\\\" is-open=\\\"popup2\\\" ng-click=\\\"popup2 = true\\\" placeholder=\\\"年-月-日\\\" readonly=\\\"\\\"><uib-timepicker class=\\\"timepick\\\" ng-model=\\\"vm.formData.endTime\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" second-step=\\\"1\\\" show-meridian=\\\"false\\\" show-seconds=\\\"true\\\"></uib-timepicker></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/leave.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>请假管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addLeave()\\\">请假</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\" class=\\\"text-center\\\">{{row.deptName}}</td><td data-title=\\\"\\'员工姓名\\'\\\" class=\\\"text-center\\\">{{row.userName}}</td><td data-title=\\\"\\'起始时间\\'\\\" class=\\\"text-center\\\">{{row.startTime}}</td><td data-title=\\\"\\'结束时间\\'\\\" class=\\\"text-center\\\">{{row.endTime}}</td><td data-title=\\\"\\'请假原因\\'\\\" class=\\\"text-center\\\">{{row.leaveWhy}}</td><td data-title=\\\"\\'审批状态\\'\\\" class=\\\"text-center\\\">{{row.approveStatusName}}</td><td data-title=\\\"\\'备注\\'\\\" class=\\\"text-center\\\">{{row.approveRemark}}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center operation\\\"><button class=\\\"btn btn-xs btn-primary f14\\\" uib-tooltip=\\\"修改\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-xs btn-danger f14\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button> <button class=\\\"btn btn-xs btn-default f14\\\" uib-tooltip=\\\"审核批准\\\" ng-click=\\\"vm.review(row)\\\"><span class=\\\"fa fa-list-alt\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/departmentManager/leave/review.tpl.html\",\"<div class=\\\"mod-pop-dateForm addLeave\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">请假</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"reviewForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\">姓名：</label><div class=\\\"col-sm-6 input-sm\\\">{{ vm.formData.userName }}</div></div><div class=\\\"form-group\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">请假原因：</label><div class=\\\"col-sm-7 input-sm\\\">{{ vm.formData.leaveWhy }}</div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">开始时间：</label><div class=\\\"col-sm-8 input-sm\\\">{{ vm.formData.startTime }}</div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">结束时间：</label><div class=\\\"col-sm-8 input-sm\\\">{{ vm.formData.endTime }}</div></div><div class=\\\"form-group partial-form-group\\\"><label class=\\\"col-sm-3 control-label\\\">审核：</label><div class=\\\"col-sm-8\\\"><div class=\\\"radio\\\"><label><input type=\\\"radio\\\" name=\\\"select1\\\" value=\\\"02\\\" aria-label=\\\"批准\\\" required=\\\"\\\" ng-model=\\\"vm.formData.approveStatus\\\" ng-click=\\\"reviewForm.approveStatus = false\\\"> <span class=\\\"select\\\">批准</span></label> <label><input type=\\\"radio\\\" name=\\\"select1\\\" value=\\\"03\\\" aria-label=\\\"拒绝\\\" required=\\\"\\\" ng-model=\\\"vm.formData.approveStatus\\\" ng-click=\\\"reviewForm.approveStatus = true\\\"> <span class=\\\"select\\\">拒绝</span></label></div></div></div><div class=\\\"form-group\\\" ng-if=\\\"reviewForm.approveStatus === true || vm.formData.approveStatus==\\'03\\'\\\"><label for=\\\"txt\\\" class=\\\"col-sm-3 control-label\\\">审核备注：</label><div class=\\\"col-sm-7\\\"><textarea class=\\\"form-control input-sm partial-textarea\\\" id=\\\"txt\\\" ng-model=\\\"vm.formData.approveRemark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/departmentManager/statistics/statistics.tpl.html\",\"<div ng-controller=\\\"DepartmentManagerStatisticsController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>床位分组管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增床号</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'部门名称\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'床号\\'\\\">{{row.bedNo}}</td><td data-title=\\\"\\'所属组\\'\\\">{{row.group}}</td></tr></table><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">保存</button></div></div></div></div>\");\n$templateCache.put(\"app/departmentManager/turns/turns.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\" style=\\\"height: 40px\\\"><div class=\\\"col-sm-4\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>排班管理</span></div><div class=\\\"col-md-2 pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.newTurns()\\\">重新排班</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.copyWeek()\\\">复制上周</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.saveTurns()\\\">保存</button></div><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.backWeek()\\\">上一周</button> <span>第{{vm.data.weeks}}周</span> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.nextWeek()\\\">下一周</button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-inline\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>员工编号</th><th>员工姓名</th><th>{{vm.data.week1}}</th><th>{{vm.data.week2}}</th><th>{{vm.data.week3}}</th><th>{{vm.data.week4}}</th><th>{{vm.data.week5}}</th><th>{{vm.data.week6}}</th><th>{{vm.data.week7}}</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td>{{row.code}}</td><td>{{row.name}}</td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week1 in row.week1 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week1[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week2 in row.week2 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week2[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week3 in row.week3 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week3[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week4 in row.week4 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week4[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week5 in row.week5 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week5[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week6 in row.week6 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week6[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td><td><div class=\\\"turn-item-wrapper\\\" ng-repeat=\\\"week7 in row.week7 track by $index\\\"><select class=\\\"form-control input-sm\\\" ng-model=\\\"row.week7[$index].classCode\\\"><option ng-repeat=\\\"c in vm.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div></td></tr></table></form></div></div></div>\");\n$templateCache.put(\"app/departmentManager/turnsRule/turnsRule.model.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写排班规则</h5></div><form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">规则名称：</label> <input ng-model=\\\"vm.formData.ruleName\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">日期类型：</label><select ng-model=\\\"vm.formData.dateType\\\"><option value=\\\"01\\\">工作日</option><option value=\\\"02\\\">周末</option></select></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">班次：</label><select ng-model=\\\"vm.formData.classCode\\\"><option ng-repeat=\\\"c in vm.metaData.classList\\\" value=\\\"{{c.classCode}}\\\">{{c.className}}</option></select></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">班次次数：</label> <input ng-model=\\\"vm.formData.userCount\\\"></div></div><div class=\\\"row\\\"><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">护理人员级别：</label> <input ng-model=\\\"vm.formData.userLevel\\\"></div><div class=\\\"form-group col-sm-6\\\"><label class=\\\"control-label col-sm-4\\\">备注：</label> <input ng-model=\\\"vm.formData.remark\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/departmentManager/turnsRule/turnsRule.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-eye-slash\\\"></i> <span>排班规则管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.add()\\\">新增规则</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'规则名称\\'\\\">{{row.ruleName}}</td><td data-title=\\\"\\'日期类型\\'\\\">{{row.dateTypeName}}</td><td data-title=\\\"\\'班次\\'\\\">{{row.className}}</td><td data-title=\\\"\\'班次次数\\'\\\">{{row.userCount}}</td><td data-title=\\\"\\'护理人员级别\\'\\\">{{row.userLevel}}</td><td data-title=\\\"\\'备注\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.edit(row)\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.del(row.seqId)\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/call/call.include.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">事件等级：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.damageLevel\\\"><select ng-change=\\\"vm.formData.damageLevel = (vm.metaData.levelList | filter:vm.formData.level.damageLevelName)[0].damageLevel\\\" data=\\\"\\\" class=\\\"form-controll input-sm\\\" ng-options=\\\"level.damageLevelName for level in vm.metaData.levelList track by level.damageLevel\\\" ng-model=\\\"vm.formData.level\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">上报科室：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.deptCode\\\"><select ng-change=\\\"vm.formData.deptCode = (vm.metaData.deptList | filter:vm.formData.dept.deptName)[0].deptCode\\\" data=\\\"\\\" class=\\\"form-controll input-sm\\\" ng-options=\\\"dept.deptName for dept in vm.metaData.deptList track by dept.deptCode\\\" ng-model=\\\"vm.formData.dept\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">发生时间：</label> <span class=\\\"input-group\\\"><input ng-model=\\\"vm.formData.eventDate\\\" type=\\\"text\\\" id=\\\"eventDate\\\" name=\\\"eventDate\\\" required=\\\"\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.eventTimeOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.eventTimeCalender()\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span><uib-timepicker ng-model=\\\"vm.formData.eventTime\\\" class=\\\"time-picker\\\" ng-change=\\\"vm.timeChanged()\\\" hour-step=\\\"1\\\" minute-step=\\\"1\\\" show-meridian=\\\"ismeridian\\\"></uib-timepicker></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">上报人：</label> <input type=\\\"hidden\\\" ng-model=\\\"vm.formData.userCode\\\"> <input readonly=\\\"\\\" type=\\\"text\\\" ng-model=\\\"vm.formData.userName\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-model=\\\"vm.formData.userRole\\\" value=\\\"当事人\\\" name=\\\"userRole\\\" type=\\\"radio\\\"> 当事人</label></div><div class=\\\"checkbox\\\"><label><input ng-model=\\\"vm.formData.userRole\\\" value=\\\"目击者\\\" name=\\\"userRole\\\" type=\\\"radio\\\"> 目击者</label></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">住院号：</label> <input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.patientHospNo\\\" type=\\\"text\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">床号：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientBedNo\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">姓名：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientName\\\" class=\\\"form-control input-sm\\\"></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">性别：</label><select name=\\\"gender\\\" ng-model=\\\"vm.formData.patientGender\\\" class=\\\"form-control input-sm\\\"><option value=\\\"0\\\">女</option><option value=\\\"1\\\">男</option></select></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">年龄：</label> <input type=\\\"text\\\" ng-model=\\\"vm.formData.patientAge\\\" class=\\\"form-control input-sm\\\" style=\\\"width:4em;\\\"> 岁</div><div class=\\\"form-group form-block\\\"><label class=\\\"col-sm-1 control-label\\\">诊断：</label><div class=\\\"col-sm-11\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.patientDiagnose\\\" class=\\\"form-control input-sm\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label class=\\\"control-label\\\">事件类型：</label><div class=\\\"checkbox\\\" ng-repeat=\\\"eventType in vm.metaData.eventTypeList\\\"><label><input ng-model=\\\"vm.formData.eventType\\\" ng-checked=\\\"vm.formData.eventType.eventTypeCode == eventType.eventTypeCode\\\" type=\\\"radio\\\" value=\\\"{{eventType}}\\\" name=\\\"eventTypeCode\\\"> {{eventType.eventTypeName}}</label></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group form-block\\\"><label class=\\\"col-sm-2 control-label\\\">事件经过描述（5WH1）：</label><div class=\\\"col-sm-10\\\"><textarea type=\\\"text\\\" ng-model=\\\"vm.formData.eventDescribe\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">上报</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/call/call.modal.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写上报信息</h5></div><div ng-include=\\\"\\\" src=\\\"\\'app/malCaseUp/call/call.include.html\\'\\\"></div></div>\");\n$templateCache.put(\"app/malCaseUp/call/call.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-list-alt\\\"></i> <span>不良事件列表</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-upload\\\"></i> 事件上报</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'不良事件级别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.damageLevelName }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTypeName}}</td><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'患者住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'患者姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'患者性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientGenderName}}</td><td data-title=\\\"\\'患者年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientAge}}</td><td data-title=\\\"\\'患者主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientDiagnose}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventDescribe}}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.userName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/element/element.tpl.html\",\"<div ng-controller=\\\"MalCaseUpElementController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-indent\\\"></i> <span>不良元素元素管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">新增元素</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'元素编号\\'\\\">{{row.elementCode}}</td><td data-title=\\\"\\'元素名称\\'\\\">{{row.elementName}}</td><td data-title=\\\"\\'显示名称\\'\\\">{{row.viewName}}</td><td data-title=\\\"\\'压疮大小\\'\\\">{{row.groupName}}</td><td data-title=\\\"\\'元素类型\\'\\\">{{row.elementType}}</td><td data-title=\\\"\\'组件宽度\\'\\\">{{row.width}}</td><td data-title=\\\"\\'备注\\'\\\">{{row.remark}}</td><td data-title=\\\"\\'是否必填\\'\\\">{{row.required}}</td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/fix/fix.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>角色信息</span><div class=\\\"pull-right\\\"></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserCode === row.code}\\\"><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'风险评估\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'等级\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'当事人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'处理措施\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'后果\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td><td data-title=\\\"\\'改进措施\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.name}}</td><td data-title=\\\"\\'追踪\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.email }}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.phone}}</td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/estimate.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li ng-click=\\\"vm.fillItem(\\'measure\\', measure)\\\" ng-class=\\\"{\\'active\\': vm.formData.measure.meaCode == measure.meaCode}\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"measure in vm.formData.measureList track by $index\\\">{{$index + 1}}. {{measure.meaContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{measure.userName}}</span></div><blockquote>{{!measure.resDescribe ? \\'暂无评估\\' : measure.resDescribe}}</blockquote></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-disabled=\\\"!vm.formData.measure.seqId\\\" ng-model=\\\"vm.formData.measure.resDescribe\\\" placeholder=\\\"请选择措施\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><button ng-click=\\\"vm.saveListItem(\\'estimate\\')\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.formData.measure.resDescribe === \\'\\' || !vm.formData.measure.resDescribe\\\">提交评估</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/handle.modal.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写上报信息</h5></div><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"text-center handle-nav\\\"><div class=\\\"text-center status-buttons\\\"><a ui-sref-active=\\\"active\\\" ui-sref=\\\".malCase\\\"><span>1</span> 不良事件信息</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".report\\\"><span>2</span> 调查处理</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".requirement\\\"><span>3</span> 整改要求</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".measures\\\"><span>4</span> 整改措施</a> <i class=\\\"fa fa-arrow-right\\\"></i> <a ui-sref-active=\\\"active\\\" ui-sref=\\\".estimate\\\"><span>5</span> 整改效果评估</a></div></div><div id=\\\"form-views\\\" class=\\\"well well-sm\\\" ui-view=\\\"\\\"></div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/handle.tpl.html\",\"<div class=\\\"col-md-12 handle-wrapper\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-list-alt\\\"></i> <span>不良事件列表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'不良事件级别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.damageLevelName }}</td><td data-title=\\\"\\'类型\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTypeName}}</td><td data-title=\\\"\\'发生时间\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventTime}}</td><td data-title=\\\"\\'科室\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.deptName}}</td><td data-title=\\\"\\'患者住院号\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientHospNo }}</td><td data-title=\\\"\\'患者姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientName}}</td><td data-title=\\\"\\'患者性别\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{ row.patientGenderName}}</td><td data-title=\\\"\\'患者年龄\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientAge}}</td><td data-title=\\\"\\'患者主要诊断\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.patientDiagnose}}</td><td data-title=\\\"\\'简要（5WH1）\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.eventDescribe}}</td><td data-title=\\\"\\'报告人\\'\\\" ng-click=\\\"vm.loadDetail(row.code)\\\">{{row.userName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row)\\\" uib-tooltip=\\\"编辑\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/malCaseInfo.tpl.html\",\"<div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">事件类型：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.eventTypeName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">不良事件级别：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.damageLevelName}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"name\\\" class=\\\"col-md-4 control-label\\\">上报科室：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.deptName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"control-label col-md-4\\\">发生时间：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.eventTime}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">上报人：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.userName}}（{{vm.metaData.malCaseInfo.userRole}}）</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"name\\\" class=\\\"col-md-4 control-label\\\">患者住院号：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientHospNo}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者床号：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientBedNo}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者姓名：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientName}}</div></div><div class=\\\"label-group col-md-6\\\"><label for=\\\"email\\\" class=\\\"col-md-4 control-label\\\">患者性别：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientGenderName}}</div></div><div class=\\\"label-group col-md-6\\\"><label class=\\\"col-md-4 control-label\\\">患者年龄：</label><div class=\\\"col-md-8\\\">{{vm.metaData.malCaseInfo.patientAge}}</div></div><div class=\\\"label-group col-md-12\\\"><label class=\\\"col-md-2 control-label\\\">患者诊断：</label><div class=\\\"col-md-10\\\">{{vm.metaData.malCaseInfo.patientDiagnose}}</div></div><div class=\\\"label-group col-md-12\\\"><label class=\\\"col-md-2 control-label\\\">事件经过描述：</label><div class=\\\"col-md-10\\\">{{vm.metaData.malCaseInfo.eventDescribe}}</div></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/handle/measures.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li ng-class=\\\"{\\'active\\': vm.formData.measure.meaCode == measure.meaCode}\\\" class=\\\"list-group-item\\\" ng-click=\\\"vm.fillItem(\\'measure\\', measure)\\\" ng-repeat=\\\"measure in vm.formData.measureList track by $index\\\">{{$index + 1}}. {{measure.meaContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{measure.userName}}</span> <span style=\\\"margin-right:1em;\\\">实施负责人：{{(vm.metaData.userList | filter:measure.headUserCode)[0].userName }}</span> <button class=\\\"btn btn-xs btn-danger\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeListItem({index: $index, listName: \\'measure\\', meaCode: measure.meaCode, reportCode: vm.formData.reportCode})\\\"><span class=\\\"fa fa-trash\\\"></span></button></div></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">措施实施负责人：</label><div class=\\\"col-sm-10\\\"><input type=\\\"hidden\\\" name=\\\"headUserCode\\\" ng-model=\\\"vm.formData.headUserCode\\\"><select class=\\\"form-controll input-sm\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.measure.headUserName\\\" ng-change=\\\"vm.formData.measure.headUserCode = (vm.metaData.userList | filter:vm.formData.measure.headUserName)[0].userCode\\\"><option ng-repeat=\\\"user in vm.metaData.userList\\\" ng-selected=\\\"user.userCode == vm.formData.measure.headUserCode\\\" value=\\\"{{user.userName}}\\\">{{user.userName}}</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\">整改措施：</label><div class=\\\"col-sm-10\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-model=\\\"vm.formData.measure.meaContent\\\" placeholder=\\\"填写整改要求\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-2 control-label\\\"></label><div class=\\\"col-sm-10\\\"><button ng-click=\\\"vm.resetForm(\\'measure\\')\\\" class=\\\"btn btn-primary btn-sm\\\">清空</button> <button ng-click=\\\"vm.saveListItem(\\'measure\\')\\\" class=\\\"btn btn-success btn-sm\\\" ng-disabled=\\\"vm.formData.measure.meaContent === \\'\\' || !vm.formData.measure.meaContent\\\">保存</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/report.tpl.html\",\"<form class=\\\"form-inline w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><p>患者信息</p><table class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th style=\\\"width: 5em;\\\"></th><th class=\\\"text-center\\\">不良事件发生前</th><th class=\\\"text-center\\\">不良事件发生后</th></tr><tr><td>生命体征</td><td><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">BP</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.bp_before.value\\\" class=\\\"form-control input-sm\\\"> mmHg</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">P</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.p_before.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><br><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">R</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.r_before.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">T</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.t_before.value\\\" class=\\\"form-control input-sm\\\"> ℃</div></td><td><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">BP</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.bp_after.value\\\" class=\\\"form-control input-sm\\\"> mmHg</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">P</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.p_after.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><br><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">R</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.r_after.value\\\" class=\\\"form-control input-sm\\\"> 次／分</div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"control-label\\\">T</label> <input type=\\\"text\\\" style=\\\"width: 5em;\\\" ng-model=\\\"vm.formData.reportDetailList.t_after.value\\\" class=\\\"form-control input-sm\\\"> ℃</div></td></tr><tr><td>精神状况</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_clear_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_clear_before.value\\\" type=\\\"checkbox\\\"> 神志清</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_directive_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_directive_before.value\\\" type=\\\"checkbox\\\"> 有定向力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_upset_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" tng-model=\\\"vm.formData.reportDetailList.psychosis_upset_before.value\\\" type=\\\"checkbox\\\"> 不安</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_undiscerned_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_undiscerned_before.value\\\" type=\\\"checkbox\\\"> 无定力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_halfComa_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_halfComa_before.value\\\" type=\\\"checkbox\\\"> 半昏迷</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_coma_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_coma_before.value\\\" type=\\\"checkbox\\\"> 昏迷</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_else_before.value\\\" class=\\\"input-sm form-control\\\"></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_clear_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_clear_after.value\\\" type=\\\"checkbox\\\"> 神志清</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_directive_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_directive_after.value\\\" type=\\\"checkbox\\\"> 有定向力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_upset_after.value = \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" tng-model=\\\"vm.formData.reportDetailList.psychosis_upset_after.value\\\" type=\\\"checkbox\\\"> 不安</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_undiscerned_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_undiscerned_after.value\\\" type=\\\"checkbox\\\"> 无定力</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_halfComa_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_halfComa_after.value\\\" type=\\\"checkbox\\\"> 半昏迷</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.psychosis_coma_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_coma_after.value\\\" type=\\\"checkbox\\\"> 昏迷</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.psychosis_else_after.value\\\" class=\\\"input-sm form-control\\\"></div></div></td></tr><tr><td>运动</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_self_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_self_before.value\\\"> 独立</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_assist_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_assist_before.value\\\"> 辅助支持</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_limit_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.motion_limit_before.value\\\"> 限制在床/轮椅</label></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_self_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_self_after.value\\\" type=\\\"checkbox\\\"> 独立</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_assist_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_assist_after.value\\\" type=\\\"checkbox\\\"> 辅助支持</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.motion_limit_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.motion_limit_after.value\\\" type=\\\"checkbox\\\"> 限制在床/轮椅</label></div></div></td></tr><tr><td>残疾</td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_none_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_none_before.value\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_auditionDown_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_auditionDown_before.value\\\"> 听力下降</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_costive_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_costive_before.value\\\"> 行动不便</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_unclearEyed_before.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_unclearEyed_before.value\\\"> 视力缺损</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_else_before.value\\\" class=\\\"input-sm form-control\\\"></div></div></td><td><div class=\\\"form-group\\\"><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_none_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_none_after.value\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_auditionDown_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_auditionDown_after.value\\\" type=\\\"checkbox\\\"> 听力下降</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_costive_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_costive_after.value\\\" type=\\\"checkbox\\\"> 行动不便</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.deformity_unclearEyed_after.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_unclearEyed_after.value\\\" type=\\\"checkbox\\\"> 视力缺损</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.deformity_else_after.value\\\" class=\\\"input-sm form-control\\\"></div></div></td></tr><tr><td>其他说明</td><td><textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.elsedeclare_before.value\\\" rows=\\\"2\\\" cols=\\\"50\\\" class=\\\"form-control input-sm\\\"></textarea></td><td><textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.elsedeclare_after.value\\\" rows=\\\"2\\\" cols=\\\"50\\\" class=\\\"form-control input-sm\\\"></textarea></td></tr></table></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生24小时内用药：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_none.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_none.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_diuretic.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_diuretic.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 利尿剂</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_nicotine.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_nicotine.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 尼古丁／镇静</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_high_handed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_high_handed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 抗高压</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_24_medicine_depressed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_depressed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 抗抑郁</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_24_medicine_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生前采取的特殊预防措施：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_none.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_none.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 无</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_accompany.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_accompany.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 陪伴</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_informed.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_informed.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 已告知</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_guardrail.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_guardrail.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 床边扶栏</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_motionDevice.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_motionDevice.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 动作设备</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_sign.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_sign.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 标识</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_closestool.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_closestool.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 床边便器</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_restlessLimit.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_restlessLimit.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 躁动约束</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_before_measures_riskWarning.value == \\'1\\'\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_riskWarning.value\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 风险预警</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_before_measures_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生地点：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_ward.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_ward.value\\\"> 病房</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_treatmentRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_treatmentRoom.value\\\"> 治疗室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_changeRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_changeRoom.value\\\"> 换药室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_handleRoom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_handleRoom.value\\\"> 处置室</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_corridor.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_corridor.value\\\"> 走廊</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_washroom.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_washroom.value\\\"> 厕所</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_happen_addr_outDepartment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_outDepartment.value\\\"> 病区外</label></div><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_happen_addr_else.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生原因：</label><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_physiological.value\\\"> 病患生理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_old.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_old.value\\\"> 年老体弱</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_longSick.value\\\"> 久病不愈</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_worsen.value\\\"> 病情恶化</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_mentality.value\\\"> 病患心理因素</label></div>（<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_badMind.value\\\"> 情绪不稳</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_lostMind.value\\\"> 精神失常</label></div>）<div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_artificia.value\\\"> 人为因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_stuffStoppage.value\\\"> 医疗材料故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_instrumentStoppage.value\\\"> 仪器故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_deviceStoppage.value\\\"> 设备故障</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_yard.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_yard.value\\\"> 场地</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_environment.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_environment.value\\\"> 环境因素</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_winebowl.value\\\"> 酒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_drugster.value\\\"> 毒瘾</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutSystem.value\\\"> 与制度有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value == \\'1\\'\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_aboutFlow.value\\\"> 与流程有关</label></div><div class=\\\"checkbox\\\"><label><input ng-checked=\\\"\\\" ng-true-value=\\\"\\'1\\'\\\" ng-false-value=\\\"\\'0\\'\\\" type=\\\"checkbox\\\"> 其他：</label> <input type=\\\"text\\\" class=\\\"input-sm form-control\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_reason_else.value\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件目击：</label><div class=\\\"checkbox\\\"><input type=\\\"text\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_witness.value\\\" class=\\\"input-sm form-control\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"control-label\\\">不良事件发生的事实（包括不良事件发生经过，发生后治疗，发生后护理及发生后检查结果等情况，由当事人或发现者填写）：</label> <textarea name=\\\"name\\\" ng-model=\\\"vm.formData.reportDetailList.malcase_truth.value\\\" rows=\\\"3\\\" cols=\\\"100\\\" class=\\\"form-control input-sm\\\"></textarea></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveReportDetail()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form>\");\n$templateCache.put(\"app/malCaseUp/handle/requirement.tpl.html\",\"<form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><ul class=\\\"list-group\\\"><li class=\\\"list-group-item\\\" ng-class=\\\"{\\'active\\': vm.formData.requirement.reqCode == requirement.reqCode}\\\" ng-click=\\\"vm.fillItem(\\'requirement\\', requirement)\\\" ng-repeat=\\\"requirement in vm.formData.requirementList track by $index\\\">{{$index + 1}}. {{requirement.reqContent}}<div class=\\\"pull-right\\\"><span style=\\\"margin-right:1em;\\\">提出人：{{requirement.userName}}</span> <button class=\\\"btn btn-xs btn-danger\\\" uib-tooltip=\\\"删除\\\" ng-click=\\\"vm.removeListItem({index: $index, listName: \\'requirement\\', seqId: requirement.seqId})\\\"><span class=\\\"fa fa-trash\\\"></span></button></div></li><li class=\\\"list-group-item\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><textarea class=\\\"form-control input-sm\\\" cols=\\\"50\\\" rows=\\\"3\\\" ng-model=\\\"vm.formData.requirement.reqContent\\\" placeholder=\\\"填写整改要求\\\">\\n                </textarea></div></div><div class=\\\"form-group\\\"><div class=\\\"col-sm-12\\\"><button ng-click=\\\"vm.resetForm(\\'requirement\\')\\\" class=\\\"btn btn-primary btn-sm\\\">清空</button> <button ng-click=\\\"vm.saveListItem(\\'requirement\\')\\\" class=\\\"btn btn-success btn-sm\\\" ng-disabled=\\\"vm.formData.requirement.reqContent === \\'\\' || !vm.formData.requirement.reqContent\\\">保存</button></div></div></li></ul></div></div></div></form>\");\n$templateCache.put(\"app/malCaseUp/level/addLevel.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写分级标准信息</h5></div><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"modal-body\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">等级</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.damageLevelName\\\" name=\\\"damageLevelName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">流程：</label><div class=\\\"col-sm-9\\\"><div class=\\\"flow-list\\\"><div ng-repeat=\\\"flowItem in vm.formData.flowList track by $index\\\"><i class=\\\"fa fa-level-down fa-flip-horizontal\\\" ng-if=\\\"!$last\\\"></i> <span>{{flowItem}}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></div></div><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"填写流程\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow($event)\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.flowText === \\'\\' || !vm.flowText\\\">添加流程</button></span></div></div></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></form></div>\");\n$templateCache.put(\"app/malCaseUp/level/level.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>填写不良事件上报表</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedLevel.seqId === row.seqId}\\\"><td data-title=\\\"\\'等级\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{row.damageLevelName}}</td><td data-title=\\\"\\'等级描述\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{row.remark}}</td><td data-title=\\\"\\'处理流程\\'\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.flow }}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>填写分级标准信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.add()\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-plus\\\"></i> 添加分级标准 <i class=\\\"fa fa-angle-right\\\"></i></button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addLevelForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">等级</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.damageLevelName\\\" name=\\\"damageLevelName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">流程：</label><div class=\\\"col-sm-9\\\"><div class=\\\"flow-list\\\"><div ng-repeat=\\\"flowItem in vm.formData.flowList track by $index\\\"><i class=\\\"fa fa-level-down fa-flip-horizontal\\\" ng-if=\\\"!$last\\\"></i> <span>{{flowItem}}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></div></div><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"填写流程\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"vm.flowText === \\'\\' || !vm.flowText\\\">添加流程</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.save()\\\">保存</button></div></div></div></div></form></div></div></div>\");\n$templateCache.put(\"app/malCaseUp/statistics/statistics.tpl.html\",\"<div ng-controller=\\\"MalCaseUpStatisticsController as vm\\\"><button ng-click=\\\"tableParams.sorting({})\\\" class=\\\"btn btn-default pull-left\\\">新增</button> <button ng-click=\\\"tableParams.sorting({})\\\" class=\\\"btn btn-danger pull-left\\\">修改</button><table ng-table=\\\"tableParams\\\" class=\\\"table table-striped table-bordered\\\"><thead><tr><td>事件名称</td><td>事件类型</td><td>伤害级别</td><td>事件描述</td></tr></thead><tbody style=\\\"background-color: white\\\"><tr ng-repeat=\\\"ls in vm.lst\\\"><td>{{ls.groupNo}}</td><td>{{ls.groupName}}</td><td>{{ls.bedNo}}</td><td>{{ls.remark}}</td></tr></tbody></table></div>\");\n$templateCache.put(\"app/malCaseUp/type/type.tpl.html\",\"<div class=\\\"col-md-12\\\" ng-controller=\\\"MalCaseUpTypeController as vm\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-send\\\"></i> <span>上报类型列表</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\">增加类型</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'上报类型编号\\'\\\"><em>{{row.eventCode}}</em></td><td data-title=\\\"\\'上报类型名称\\'\\\">{{row.eventName}}</td><td data-title=\\\"\\'最后更新人\\'\\\">{{ row.lastUpdateCode }}</td><td data-title=\\\"\\'最后更新时间\\'\\\">{{row.lastUpdateTime}}</td></tr></table><loading></loading></div></div></div>\");\n$templateCache.put(\"app/manual/item/item.model.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5>填写科研管理</h5></div><div class=\\\"modal-body\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"form-group\\\"><div class=\\\"col-sm-3\\\"><label class=\\\"control-label\\\">课题名称：</label></div><div class=\\\"col-sm-9\\\"><input ng-model=\\\"vm.formData.subjectName\\\"></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">上报</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/manual/item/item.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>{{ vm.lst }}\");\n$templateCache.put(\"app/manual/workManual/workManual.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>{{ vm.lst }}\");\n$templateCache.put(\"app/nursingWorkers/files/files.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter: vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>人员数据</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" ng-disabled=\\\"!vm.selectedDept\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-user-plus\\\"></i> 添加员工</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': vm.selectedUserCode === row.userCode}\\\"><td data-title=\\\"\\'编号\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{row.hisCode}}</td><td data-title=\\\"\\'姓名\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{row.userName}}</td><td data-title=\\\"\\'邮箱\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{ row.email }}</td><td data-title=\\\"\\'电话\\'\\\" ng-click=\\\"vm.loadDetail(row.userCode)\\\">{{row.phone}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" ng-click=\\\"vm.open(row.userCode)\\\" uib-tooltip=\\\"编辑员工信息\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.del(row)\\\" uib-tooltip=\\\"删除员工\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-if=\\\"vm.selectedUserCode\\\"><div class=\\\"panel-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工编号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.hisCode}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工姓名：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.userName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工性别：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.genderName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">出生日期：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.birthday | date: \\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">电话：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.phone}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">邮箱：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.email}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">到院日期：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.inductionDate | date: \\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">员工性质：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.natureName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">国籍：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.country}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">籍贯：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.nativePlace}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">民族：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.nation}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">证件类型：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.papersTypeName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">证件号码：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.papersNo}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">毕业学校：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.graduationSchool}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">所学专业：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.profession}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学位：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.degree}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学位证编号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.degreeNo}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学历：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.education}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">学历证编号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.educationNo}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">毕业时间：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.graduationDate | date:\\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">外语水平：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.language}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">健康状态：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.health}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">批准时间：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceApproveDate | date:\\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">执业类型：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceTypeName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">执业证号：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceType}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">有效期致：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.practiceValidDate | date: \\'yyyy-MM-dd\\'}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">政治面貌：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.politacalStatusName}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">职称：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.technicalPost}}</span></div><div class=\\\"form-group col-md-3\\\"><label class=\\\"col-sm-6 control-label\\\">职务：</label> <span class=\\\"col-sm-6\\\">{{vm.detail.comUser.duty}}</span></div></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"职称职务\\\" active=\\\"tab.active\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>职务名称</th><th>审批单位</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserPosition\\\"><td class=\\\"text-left\\\">{{dtl.positionName}}</td><td class=\\\"text-left\\\">{{dtl.reviewUnit}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"护理信息\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>工作单位</th><th>工作部门</th><th>职务</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserNursing\\\"><td class=\\\"text-left\\\">{{dtl.reviewUnit}}</td><td class=\\\"text-left\\\">{{dtl.deptName}}</td><td class=\\\"text-left\\\">{{dtl.position}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"教育工作\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserEducation\\\"><td class=\\\"text-left\\\">{{dtl.educationType}}</td><td class=\\\"text-left\\\">{{dtl.leaningTime}}</td><td class=\\\"text-left\\\">{{dtl.courseTopics}}</td><td class=\\\"text-left\\\">{{dtl.courseContent}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"继续教育\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>主办单位</th><th>学习内容</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserTraining\\\"><td class=\\\"text-left\\\">{{dtl.professional}}</td><td class=\\\"text-left\\\">{{dtl.learnContent}}</td><td class=\\\"text-left\\\">{{dtl.diploma}}</td><td class=\\\"text-left\\\">{{dtl.speaker}}</td><td class=\\\"text-left\\\">{{dtl.creditType}}</td><td class=\\\"text-left\\\">{{dtl.credit}}</td><td class=\\\"text-left\\\">{{dtl.funding}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"学历信息\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>起始日期</th><th>结束日期</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserLearning\\\"><td class=\\\"text-left\\\">{{dtl.school}}</td><td class=\\\"text-left\\\">{{dtl.professional}}</td><td class=\\\"text-left\\\">{{dtl.diploma}}</td><td class=\\\"text-left\\\">{{dtl.diplomaNo}}</td><td class=\\\"text-left\\\">{{dtl.degree}}</td><td class=\\\"text-left\\\">{{dtl.degreeNo}}</td><td class=\\\"text-left\\\">{{dtl.startDate | date:\\'yyyy-MM-dd\\'}}</td><td class=\\\"text-left\\\">{{dtl.endDate | date:\\'yyyy-MM-dd\\'}}</td></tr></table></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"家庭成员\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>亲属关系</th><th>姓名</th><th>联系电话</th><th>邮件</th></tr><tr ng-repeat=\\\"dtl in vm.detail.comUserFamily\\\"><td class=\\\"text-left\\\">{{dtl.relation}}</td><td class=\\\"text-left\\\">{{dtl.name}}</td><td class=\\\"text-left\\\">{{dtl.phone}}</td><td class=\\\"text-left\\\">{{dtl.email}}</td></tr></table></uib-tab></uib-tabset></div></div></div>\");\n$templateCache.put(\"app/nursingWorkers/files/modal.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写用户信息</h5></div><div class=\\\"modal-body\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"0\\\" heading=\\\"基本信息\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"static-form-item container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"hisCode\\\" class=\\\"col-sm-3 control-label\\\">员工编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.count.comUser.hisCode\\\" id=\\\"hisCode\\\" name=\\\"hisCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"userName\\\" class=\\\"col-sm-3 control-label\\\">姓名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.count.comUser.userName\\\" id=\\\"userName\\\" name=\\\"userName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"duty\\\" class=\\\"col-sm-3 control-label\\\">职务：</label><div class=\\\"col-sm-9\\\"><input id=\\\"duty\\\" name=\\\"duty\\\" ng-model=\\\"vm.count.comUser.duty\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"birthday\\\" class=\\\"col-sm-3 control-label\\\">出生日期：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"birthday\\\" name=\\\"birthday\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.birthdayOpen\\\" ng-model=\\\"vm.count.comUser.birthday\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'birthdayOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"papersType\\\" class=\\\"col-sm-3 control-label\\\">证件类型：</label><div class=\\\"col-sm-9\\\"><select id=\\\"papersType\\\" name=\\\"papersType\\\" ng-model=\\\"vm.count.comUser.papersType\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"身份证\\\"></option><option value=\\\"02\\\" label=\\\"居住证\\\"></option><option value=\\\"03\\\" label=\\\"签证\\\"></option><option value=\\\"04\\\" label=\\\"护照\\\"></option><option value=\\\"05\\\" label=\\\"军人证\\\"></option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"nature\\\" class=\\\"col-sm-3 control-label\\\">员工性质：</label><div class=\\\"col-sm-9\\\"><select id=\\\"nature\\\" name=\\\"nature\\\" ng-model=\\\"vm.count.comUser.nature\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"实习\\\"></option><option value=\\\"02\\\" label=\\\"试用\\\"></option><option value=\\\"03\\\" label=\\\"正式\\\"></option><option value=\\\"04\\\" label=\\\"离职\\\"></option><option value=\\\"05\\\" label=\\\"其他\\\"></option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"country\\\" class=\\\"col-sm-3 control-label\\\">国籍：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"country\\\" name=\\\"country\\\" ng-model=\\\"vm.count.comUser.country\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"nativePlace\\\" class=\\\"col-sm-3 control-label\\\">籍贯：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"nativePlace\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.nativePlace\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"graduationSchool\\\" class=\\\"col-sm-3 control-label\\\">毕业学校：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"graduationSchool\\\" name=\\\"nativePlace\\\" ng-model=\\\"vm.count.comUser.graduationSchool\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"degree\\\" class=\\\"col-sm-3 control-label\\\">学分类型：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"degree\\\" name=\\\"degree\\\" ng-model=\\\"vm.count.comUser.degree\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"education\\\" class=\\\"col-sm-3 control-label\\\">学历：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"education\\\" name=\\\"education\\\" ng-model=\\\"vm.count.comUser.education\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"language\\\" class=\\\"col-sm-3 control-label\\\">外语水平：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"language\\\" name=\\\"language\\\" ng-model=\\\"vm.count.comUser.language\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"health\\\" class=\\\"col-sm-3 control-label\\\">健康状态：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"health\\\" name=\\\"health\\\" ng-model=\\\"vm.count.comUser.health\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceApproveDate\\\" class=\\\"col-sm-3 control-label\\\">执业批准时间：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"practiceApproveDate\\\" name=\\\"practiceApproveDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.practiceApproveDateIsOpen\\\" ng-model=\\\"vm.count.comUser.practiceApproveDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'practiceApproveDateIsOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"politacalStatus\\\" class=\\\"col-sm-3 control-label\\\">政治面貌：</label><div class=\\\"col-sm-9\\\"><select id=\\\"politacalStatus\\\" name=\\\"politacalStatus\\\" ng-model=\\\"vm.count.comUser.politacalStatus\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"党员\\\"></option><option value=\\\"02\\\" label=\\\"团员\\\"></option><option value=\\\"03\\\" label=\\\"公民\\\"></option><option value=\\\"04\\\" label=\\\"其他\\\"></option></select></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"male\\\" class=\\\"col-sm-3 control-label\\\">性别：</label><div class=\\\"col-sm-9\\\"><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.count.comUser.gender\\\" checked=\\\"\\\" id=\\\"male\\\" value=\\\"1\\\"> 男</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"gender\\\" ng-model=\\\"vm.count.comUser.gender\\\" id=\\\"female\\\" value=\\\"0\\\"> 女</label></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">邮箱：</label><div class=\\\"col-sm-9\\\"><input id=\\\"email\\\" class=\\\"form-control input-sm\\\" name=\\\"email\\\" ng-model=\\\"vm.count.comUser.email\\\" type=\\\"email\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"phone\\\" class=\\\"col-sm-3 control-label\\\">电话：</label><div class=\\\"col-sm-9\\\"><input id=\\\"phone\\\" class=\\\"form-control input-sm\\\" name=\\\"phone\\\" ng-model=\\\"vm.count.comUser.phone\\\" type=\\\"tel\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"inductionDate\\\" class=\\\"col-sm-3 control-label\\\">到院日期：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"inductionDate\\\" name=\\\"inductionDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.inductionDateOpen\\\" ng-model=\\\"vm.count.comUser.inductionDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'inductionDateOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"papersNo\\\" class=\\\"col-sm-3 control-label\\\">证件号码：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"papersNo\\\" name=\\\"papersNo\\\" ng-model=\\\"vm.count.comUser.papersNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"nation\\\" class=\\\"col-sm-3 control-label\\\">民族：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"nation\\\" name=\\\"nation\\\" ng-model=\\\"vm.count.comUser.nation\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"profession\\\" class=\\\"col-sm-3 control-label\\\">所学专业：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"profession\\\" name=\\\"profession\\\" ng-model=\\\"vm.count.comUser.profession\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"educationNo\\\" class=\\\"col-sm-3 control-label\\\">学历证书编号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"educationNo\\\" name=\\\"educationNo\\\" ng-model=\\\"vm.count.comUser.educationNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"graduationDate\\\" class=\\\"col-sm-3 control-label\\\">毕业时间：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"graduationDate\\\" name=\\\"graduationDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.graduationDateOpen\\\" ng-model=\\\"vm.count.comUser.graduationDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'graduationDateOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"degreeNo\\\" class=\\\"col-sm-3 control-label\\\">学分：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"degreeNo\\\" name=\\\"degreeNo\\\" ng-model=\\\"vm.count.comUser.degreeNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceType\\\" class=\\\"col-sm-3 control-label\\\">执业类型：</label><div class=\\\"col-sm-9\\\"><select id=\\\"practiceType\\\" name=\\\"practiceType\\\" ng-model=\\\"vm.count.comUser.practiceType\\\" class=\\\"form-control input-sm\\\"><option value=\\\"01\\\" label=\\\"医师\\\"></option><option value=\\\"02\\\" label=\\\"护士\\\"></option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceNo\\\" class=\\\"col-sm-3 control-label\\\">执业证号：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"practiceNo\\\" name=\\\"practiceNo\\\" ng-model=\\\"vm.count.comUser.practiceNo\\\" class=\\\"form-control input-sm\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"practiceValidDate\\\" class=\\\"col-sm-3 control-label\\\">执业有效期致：</label><div class=\\\"col-sm-9\\\"><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"practiceValidDate\\\" name=\\\"practiceValidDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"vm.practiceValidDateIsOpen\\\" ng-model=\\\"vm.count.comUser.practiceValidDate\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'practiceValidDateIsOpen\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></div></div><div class=\\\"form-group\\\"><label for=\\\"technicalPost\\\" class=\\\"col-sm-3 control-label\\\">职称：</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" id=\\\"technicalPost\\\" name=\\\"technicalPost\\\" ng-model=\\\"vm.count.comUser.technicalPost\\\" class=\\\"form-control input-sm\\\"></div></div></div></div><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label> <button data-type=\\\"comUser\\\" w5c-form-submit=\\\"vm.save(\\'comUser\\', $event)\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></div></div></form></uib-tab><uib-tab index=\\\"1\\\" heading=\\\"职称职务\\\" disable=\\\"!vm.accessible\\\" active=\\\"tab.active\\\"><form class=\\\"form-horizontal form-inline comUserPosition-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"comUserPositionForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>职称</th><th>审批单位</th><th>开始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserPosition track by $index\\\"><td><input class=\\\"form-control input-sm\\\" required=\\\"\\\" name=\\\"positionName\\\" ng-model=\\\"item.positionName\\\" placeholder=\\\"在职职称\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" name=\\\"reviewUnit\\\" required=\\\"\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.reviewUnit\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserPosition_startDate_{{$index}}\\\" required=\\\"\\\" name=\\\"comUserPositionStartDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" on-open-focus=\\\"true\\\" id=\\\"comUserPosition_endDate_{{$index}}\\\" required=\\\"\\\" name=\\\"comUserPositionEndDate\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserPosition\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserPosition\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加职称</button> <button data-type=\\\"comUserPosition\\\" w5c-form-submit=\\\"vm.save(\\'comUserPosition\\', $event)\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"2\\\" heading=\\\"护理信息\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserNursing-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserNursingForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>工作单位</th><th>单位级别</th><th>所属部门</th><th>职务</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserNursing\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.reviewUnit\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.unitLevel\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.deptName\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.position\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserNursing_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserNursing_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserNursing\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserNursing\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加教育信息</button> <button data-type=\\\"comUserNursing\\\" w5c-form-submit=\\\"vm.save(\\'comUserNursing\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"3\\\" heading=\\\"教育工作\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserEducation-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserEducationForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>代课类型</th><th>学时数</th><th>课程专题</th><th>课程内容</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserEducation\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.educationType\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.leaningTime\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.courseTopics\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.courseContent\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserEducation_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserEducation_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserEducation\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserEducation\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加教育信息</button> <button data-type=\\\"comUserEducation\\\" ng-click=\\\"vm.save(\\'comUserEducation\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"4\\\" heading=\\\"继续教育\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserTraining-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserTrainingForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学习内容</th><th>主办单位</th><th>学时</th><th>主讲</th><th>学分类型</th><th>学分</th><th>经费</th><th>描述</th><th>起始日期</th><th>结束日期</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserTraining\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.learnContent\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.professional\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 3em;\\\" ng-model=\\\"item.diploma\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.speaker\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.creditType\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 4em;\\\" ng-model=\\\"item.credit\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" style=\\\"width: 4em;\\\" ng-model=\\\"item.funding\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.describe\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserTraining_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserTraining_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserTraining\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserTraining\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加继续教育</button> <button data-type=\\\"comUserTraining\\\" ng-click=\\\"vm.save(\\'comUserTraining\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"5\\\" heading=\\\"学历信息\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal form-inline comUserLearning-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserLearningForm\\\"><div class=\\\"table-wrap\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>学校</th><th>专业</th><th>学历</th><th>学历证书编号</th><th>学位</th><th>学位证书编号</th><th>描述</th><th>开始时间</th><th>结束时间</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserLearning\\\"><td><input class=\\\"form-control input-sm\\\" ng-model=\\\"item.school\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.professional\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.diploma\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.diplomaNo\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.degree\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.degreeNo\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.describe\\\"></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserLearning_startDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.startDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.startDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'startDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><span class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"comUserLearning_endDate_{{$index}}\\\" uib-datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" is-open=\\\"item.endDateIsOpen\\\" close-text=\\\"关闭\\\" current-text=\\\"今天\\\" clear-text=\\\"清除\\\" class=\\\"form-control input-sm input-date\\\" ng-model=\\\"item.endDate\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-sm btn-default\\\" ng-click=\\\"vm.openCalender(\\'endDateIsOpen\\', item)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></span></td><td><button ng-click=\\\"vm.removeItem(\\'comUserLearning\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table></div><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserLearning\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加学历</button> <button data-type=\\\"comUserLearning\\\" ng-click=\\\"vm.save(\\'comUserLearning\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab><uib-tab index=\\\"6\\\" heading=\\\"家庭成员\\\" disable=\\\"!vm.accessible\\\"><form class=\\\"form-horizontal comUserFamily-form\\\" w5c-form-validate=\\\"vm.user.validationOption\\\" name=\\\"comUserFamilyForm\\\"><table class=\\\"table table-striped table-condensed table-no-border\\\"><tr><th>亲属关系</th><th>姓名</th><th>联系电话</th><th>邮件</th><th>备注</th><th></th></tr><tr ng-repeat=\\\"item in vm.count.comUserFamily\\\"><td><input type=\\\"hidden\\\" ng-model=\\\"item.userCode\\\" ng-value=\\\"vm.comUser.userCode\\\"> <input class=\\\"form-control input-sm\\\" ng-model=\\\"item.relation\\\" type=\\\"text\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.name\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.phone\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.email\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"item.remark\\\"></td><td><button ng-click=\\\"vm.removeItem(\\'comUserFamily\\', $index,item.seqId)\\\" class=\\\"btn btn-sm btn-danger\\\">删除</button></td></tr></table><div class=\\\"container-fluid\\\"><button ng-click=\\\"vm.addItem(\\'comUserFamily\\')\\\" class=\\\"btn btn-primary btn-sm\\\">添加成员</button> <button data-type=\\\"comUserFamily\\\" ng-click=\\\"vm.save(\\'comUserFamily\\')\\\" class=\\\"btn btn-success btn-sm\\\">保存</button></div></form></uib-tab></uib-tabset></div></div>\");\n$templateCache.put(\"app/quality/check/check.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>{{ vm.lst }}\");\n$templateCache.put(\"app/quality/deal/deal.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>{{ vm.lst }}\");\n$templateCache.put(\"app/quality/task/task.tpl.html\",\"<div class=\\\"task\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>检查任务管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addTask()\\\">新增任务</button></div></div><div class=\\\"panel-body\\\"><div class=\\\"col-md-12 filter-row\\\"><form class=\\\"form-inline pull-right\\\"><div class=\\\"form-group quality-filter\\\"><label for=\\\"ward\\\" class=\\\"control-label\\\">月份&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"ward\\\"><option>2015年5月</option><option>2015年6月</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"ward\\\" class=\\\"control-label\\\">类型&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"ward\\\"><option>a</option><option>2</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"ward\\\" class=\\\"control-label\\\">病区&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"ward\\\"><option>1</option><option>2</option></select></div><div class=\\\"form-group quality-filter\\\"><button class=\\\"btn btn-xs btn-primary\\\">查询</button></div></form></div><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'检查日期\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'状态\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'检查病区\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'检查类型\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'检查表\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'检查组长\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'检查组长\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"修改\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/research/item/item.tpl.html\",\"<div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-balance-scale\\\"></i> <span>科研项目管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"vm.open()\\\">新增</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr><th>课题名称</th><th>项目来源</th><th>其实日期</th><th>结束日期</th><th>经费</th><th>课题负责人</th><th>课题参与人</th><th>操作</th></tr><tr ng-repeat=\\\"row in vm.lst\\\"><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.subjectName }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.itemSource }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.startDate }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.endDate }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.cost }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.cost }}</td><td class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.cost }}</td><td class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/quality/form/form.tpl.html\",\"<div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>质控检查表单管理</span><div class=\\\"pull-right\\\"><button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.addForm()\\\">新增表单</button> <button class=\\\"btn btn-xs btn-primary\\\" ng-click=\\\"vm.test()\\\">test</button></div></div><div class=\\\"panel-body\\\"><form class=\\\"form-inline pull-right\\\"><div class=\\\"form-group quality-filter\\\"><label for=\\\"ward\\\" class=\\\"control-label\\\">类型&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"ward\\\"><option>a</option><option>2</option></select></div><div class=\\\"form-group quality-filter\\\"><label for=\\\"ward\\\" class=\\\"control-label\\\">病区&nbsp;</label><select class=\\\"form-control input-sm\\\" id=\\\"ward\\\"><option>1</option><option>2</option></select></div></form><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'编号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'类型\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'表单名称\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'使用科室\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'创建时间\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'状态\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"修改\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-edit\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/research/papers/papers.tpl.html\",\"<div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>床位分组管理</span></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-condensed table-bordered table-striped\\\"><tr ng-repeat=\\\"row in vm.lst\\\"><td data-title=\\\"\\'组号\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupCode }}</td><td data-title=\\\"\\'组名\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.groupName }}</td><td data-title=\\\"\\'床位\\'\\\" class=\\\"text-center\\\" ng-click=\\\"vm.edit(row)\\\">{{ row.beds }}</td><td data-title=\\\"\\'操作\\'\\\" class=\\\"text-center\\\"><button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"vm.deleteGroup(row.seqId)\\\" uib-tooltip=\\\"删除\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-tasks\\\"></i> <span>新增分组</span></div><div class=\\\"panel-body\\\"><form class=\\\"form-horizontal w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"addbedForm\\\" form=\\\"addbedForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"groupCode\\\" class=\\\"col-sm-3 control-label\\\">组号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupCode\\\" name=\\\"groupCode\\\" type=\\\"text\\\" id=\\\"groupCode\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"groupName\\\" class=\\\"col-sm-3 control-label\\\">组名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" name=\\\"groupName\\\" required=\\\"\\\" autocomplete=\\\"off\\\" ng-model=\\\"vm.formData.groupName\\\" type=\\\"text\\\" id=\\\"groupName\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"bedCode\\\" class=\\\"col-sm-3 control-label\\\">床位：</label><div class=\\\"col-sm-9\\\"><ul class=\\\"flow-list\\\"><li ng-repeat=\\\"flowItem in vm.formData.bedList track by $index\\\"><span>{{ flowItem }}</span> <a ng-click=\\\"vm.removeFlow($index)\\\" href=\\\"javascript:;\\\" class=\\\"text-danger\\\"><i class=\\\"fa fa-times-circle\\\"></i></a></li></ul><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.flowText\\\" placeholder=\\\"新增床位\\\" autocomplete=\\\"off\\\" name=\\\"bedCode\\\" id=\\\"bedCode\\\"> <span class=\\\"input-group-btn\\\"><button ng-click=\\\"vm.addFlow()\\\" class=\\\"btn btn-primary btn-sm\\\" ng-disabled=\\\"addbedForm.bedCode.$invalid || addbedForm.bedCode.$pristine\\\">新增</button></span></div></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.saveGroup()\\\" ng-disabled=\\\"addbedForm.groupName.$invalid || addbedForm.groupCode.$invalid\\\">保存</button></div></div></div></div></form></div></div></div>{{ vm.lst }}\");\n$templateCache.put(\"app/system/users/addExistRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">编辑用户角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-options=\\\"role.roleName for role in vm.metaData.roleList track by role.roleCode\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.role\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">所属科室：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" ng-options=\\\"dept.deptName for dept in vm.metaData.deptList track by dept.deptCode\\\" name=\\\"dept\\\" ng-model=\\\"vm.formData.dept\\\"></select></div></div></div></div></form></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-sm btn-success {{vm.roleBtnStatus.state}}\\\" type=\\\"button\\\" ng-click=\\\"vm.formData = {data: [{roleCode:vm.formData.role.roleCode,deptCode: vm.formData.dept.deptCode, userId: vm.metaData.currentUser.seqId}]}; vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div>\");\n$templateCache.put(\"app/system/users/addUser.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">所属部门：</label><div class=\\\"col-sm-9\\\"><input type=\\\"hidden\\\" name=\\\"deptCode\\\" ng-model=\\\"vm.formData.deptCode\\\"> <input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.deptName\\\" readonly=\\\"\\\" id=\\\"deptCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">用户姓名：</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-controll input-sm\\\" name=\\\"userName\\\" ng-model=\\\"vm.formData.userName\\\" ng-change=\\\"vm.formData.userCode = (vm.metaData.userList | filter:vm.formData.userName)[0].userCode\\\"><option ng-repeat=\\\"user in vm.metaData.userList\\\" value=\\\"{{user.userName}}\\\">{{user.userName}}</option></select></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">用户编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.userCode\\\" id=\\\"userCode\\\" readonly=\\\"\\\" name=\\\"userCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">登录名：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.loginName\\\" id=\\\"loginName\\\" name=\\\"loginName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">密码：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.password\\\" id=\\\"password\\\" name=\\\"password\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/system/users/users.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>科室列表</span></div><div class=\\\"panel-body list\\\"><div class=\\\"list-filter\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" ng-model=\\\"vm.filterText.deptName\\\" placeholder=\\\"输入关键字搜索\\\"></div><uib-accordion class=\\\"list-accordion\\\"><div class=\\\"list__tile\\\"><a href=\\\"javascript:;\\\" ng-class=\\\"{\\'active\\': vm.deptData.deptCode === vm.selectedDept}\\\" ng-click=\\\"vm.load(vm.deptData.deptCode, vm.deptData.deptName)\\\"><span class=\\\"list__text ng-binding ng-scope\\\" role=\\\"button\\\" tabindex=\\\"0\\\">{{vm.deptData.deptName}}</span> <i class=\\\"pull-right fa fa-angle-down\\\"></i></a></div><ul class=\\\"sublist\\\"><li ng-repeat=\\\"subItem in vm.deptData.belongedDepts | filter:vm.filterText\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': subItem.deptCode === vm.selectedDept}\\\"><a ng-click=\\\"vm.load(subItem.deptCode, subItem.deptName)\\\" class=\\\"sublist__item\\\">{{subItem.deptName}}</a></li></ul></uib-accordion></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>用户信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\" ng-disabled=\\\"!vm.selectedDept\\\">添加用户</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.tableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\" ng-class=\\\"{\\'info\\': row.userCode === vm.selectedUser.userCode}\\\" ng-click=\\\"vm.showRole(row)\\\"><td data-title=\\\"\\'员工编号\\'\\\">{{row.userCode}}</td><td data-title=\\\"\\'用户姓名\\'\\\">{{row.userName}}</td><td data-title=\\\"\\'登录名\\'\\\">{{row.loginName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-default btn-xs\\\" uib-tooltip=\\\"编辑用户信息\\\" ng-click=\\\"vm.open(row)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-pencil\\\"></span></button> <button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除用户\\\" ng-click=\\\"vm.del(row.seqId)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div><div class=\\\"panel panel-default\\\" ng-if=\\\"vm.selectedUser\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>用户角色</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.openRole()\\\" class=\\\"btn btn-primary btn-xs\\\" ng-disabled=\\\"!vm.selectedDept\\\">添加现有角色</button></div></div><div class=\\\"panel-body\\\"><table ng-table=\\\"vm.roleTableParams\\\" class=\\\"table table-hover table-condensed table-bordered table-striped\\\" demo-tracked-table=\\\"demo.tableTracker\\\"><tr ng-repeat=\\\"row in $data\\\"><td data-title=\\\"\\'角色编号\\'\\\">{{row.roleCode}}</td><td data-title=\\\"\\'所属部门\\'\\\">{{row.deptName}}</td><td data-title=\\\"\\'角色名称\\'\\\">{{row.roleName}}</td><td data-title=\\\"\\'操作\\'\\\"><button class=\\\"btn btn-danger btn-xs\\\" uib-tooltip=\\\"删除这个角色\\\" ng-click=\\\"vm.delUserRole(row.seqId)\\\" ng-if=\\\"!row.isEditing\\\"><span class=\\\"fa fa-trash\\\"></span></button></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/system/roles/addRole.tpl.html\",\"<div><div class=\\\"modal-header\\\"><button type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h5 class=\\\"modal-title\\\">填写角色信息</h5></div><div class=\\\"modal-body\\\"><form class=\\\"form-horizontal comUser-form w5c-form\\\" role=\\\"form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.role.validationOption\\\" name=\\\"userForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-8\\\"><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.formData.roleName\\\" id=\\\"roleName\\\" name=\\\"roleName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"email\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" name=\\\"remark\\\" ng-model=\\\"vm.formData.remark\\\"></textarea></div></div><div class=\\\"form-group\\\"><label for=\\\"name\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" w5c-form-submit=\\\"vm.ok()\\\">保存</button> <button class=\\\"btn btn-sm btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.cancel()\\\">取消</button></div></div></div></div></form></div></div>\");\n$templateCache.put(\"app/system/roles/roles.tpl.html\",\"<div class=\\\"col-md-2\\\"><div class=\\\"panel pull-left dept-wrapper panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>角色列表</span></div><div class=\\\"panel-body list\\\"><ul class=\\\"sublist\\\"><li ng-repeat=\\\"item in vm.roleData\\\" class=\\\"accordion-item\\\" ng-class=\\\"{\\'active\\': item.roleCode === vm.roleDetail.roleCode}\\\"><a ng-click=\\\"vm.load(item)\\\" data-role-code=\\\"{{item.roleCode}}\\\" class=\\\"sublist__item\\\">{{item.roleName}}</a></li></ul></div></div></div><div class=\\\"col-md-10\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-user\\\"></i> <span>角色信息</span><div class=\\\"pull-right\\\"><button ng-click=\\\"vm.open()\\\" class=\\\"btn btn-primary btn-xs\\\">添加角色</button></div></div><div class=\\\"panel-body\\\"><form data-role-id=\\\"{{vm.roleDetail.seqId}}\\\" class=\\\"form form-horizontal w5c-form role-edit-form change-user-form\\\" novalidate=\\\"\\\" w5c-form-validate=\\\"vm.validationOption\\\" name=\\\"roleEditForm\\\"><div class=\\\"container-fluid\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"roleCode\\\" class=\\\"col-sm-3 control-label\\\">角色编号：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" ng-model=\\\"vm.roleDetail.roleCode\\\" id=\\\"roleCode\\\" name=\\\"roleCode\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label for=\\\"roleName\\\" class=\\\"col-sm-3 control-label\\\">角色名称：</label><div class=\\\"col-sm-9\\\"><input class=\\\"form-control input-sm\\\" required=\\\"\\\" ng-model=\\\"vm.roleDetail.roleName\\\" id=\\\"roleName\\\" name=\\\"roleName\\\" type=\\\"text\\\"></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><button class=\\\"btn btn-sm btn-success {{vm.loginBtnStatus.state}}\\\" type=\\\"button\\\" ng-disabled=\\\"\\\" w5c-form-submit=\\\"vm.edit()\\\">保存</button> <button class=\\\"btn btn-sm btn-danger\\\" type=\\\"button\\\" ng-disabled=\\\"\\\" ng-click=\\\"vm.del()\\\">删除</button></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group\\\"><label for=\\\"remark\\\" class=\\\"col-sm-3 control-label\\\">描述：</label><div class=\\\"col-sm-9\\\"><textarea class=\\\"form-control input-sm\\\" id=\\\"remark\\\" name=\\\"remark\\\" ng-model=\\\"vm.roleDetail.remark\\\"></textarea></div></div></div></div><div class=\\\"navgation-edition container-fluid\\\" ng-if=\\\"vm.roleDetail\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-danger\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>未添加的功能</span></div><uib-accordion class=\\\"list-accordion\\\" close-others=\\\"false\\\"><uib-accordion-group ng-repeat=\\\"item in vm.notHaveList\\\" panel-class=\\\"list__title\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><span class=\\\"dept-list__text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"dept-sublist\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ng-click=\\\"vm.navExchange(item, subItem, $parent.$index, $index, \\'add\\')\\\" class=\\\"sublist__item\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div><div class=\\\"col-md-2 exchange-icon\\\"><div class=\\\"text-center\\\"><i class=\\\"fa fa-exchange\\\"></i></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-success\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-bars\\\"></i> <span>已添加的功能</span></div><uib-accordion class=\\\"list-accordion\\\" close-others=\\\"false\\\"><uib-accordion-group ng-repeat=\\\"item in vm.hadList\\\" panel-class=\\\"list__title\\\" is-open=\\\"item.isOpen\\\"><uib-accordion-heading><span class=\\\"dept-list__text\\\">{{item.funName}}</span> <i class=\\\"pull-right fa\\\" ng-class=\\\"{\\'fa-angle-down\\': item.isOpen, \\'fa-angle-right\\': !item.isOpen}\\\"></i></uib-accordion-heading><ul class=\\\"dept-sublist\\\"><li ng-repeat=\\\"subItem in item.child\\\"><a ng-click=\\\"vm.navExchange(item, subItem, $parent.$index, $index, \\'remove\\')\\\" class=\\\"sublist__item\\\">{{subItem.funName}}</a></li></ul></uib-accordion-group></uib-accordion></div></div></div></form></div></div></div>\");}]);"],"sourceRoot":"/source/"}