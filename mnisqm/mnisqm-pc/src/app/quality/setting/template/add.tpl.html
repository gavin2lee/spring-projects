<div class="wrapper quality-add-form-wrapper padding-content">
  <uib-tabset active="active">
    <uib-tab index="0" heading="质量检查模板编辑">
      <div class="panel panel-layout panel-default" loading-wrapper loading-type="content" loading-options="vm.load">
        <div class="tool-wrapper container-fluid form-inline">
          <div class="filter-item">
            <label for="formName">模板名称：</label>
            <input class="input-sm form-control" id="formName" ng-model="vm.formData.modelName">
          </div>
          <div class="filter-item">
            <label>是否启用</label> <input type="checkbox" ng-model="vm.formData.isUsed" ng-true-value="'1'" ng-false-value="'0'">
          </div>
          <div class="filter-item">
            项目累计分值：{{vm.totalScore}}
          </div>
          <div class="pull-right">
            <button class="btn btn-success btn-sm" ng-click="vm.save()">保存</button>
            <button class="btn btn-primary btn-sm" ng-click="vm.open()">新增项目</button>
          </div>
        </div>
        <div class="panel-body">
          <table class="table table-condensed table-bordered no-border">
            <thead>
              <tr class="header-export">
                <th>类别</th>
                <th>子类别</th>
                <th>项目</th>
                <th>描述</th>
                <th>考核办法</th>
                <th>分值</th>
                <th print-remove>操作</th>
              </tr>
            </thead>
            <tbody>
              <tr class="row-{{$index}}" ng-repeat="row in vm.lst">
                <td class="grey-td" ng-if="vm.tableLayout(row.seqId, row.cate)" ng-attr-rowspan="{{vm.tableLayout(row.seqId, row.cate)}}">{{row.cate}}</td>
                <td class="grey-td" ng-if="vm.tableLayout(row.seqId, row.cate, row.subcate)" ng-attr-rowspan="{{vm.tableLayout(row.seqId, row.cate, row.subcate)}}">{{row.subcate}}</td>
                <td class="text-center">
                  {{ row.detailName }}
                </td>
                <td class="text-center">
                  {{ row.descrip }}
                </td>
                <td class="text-center">
                  {{ row.stantard }}
                </td>
                <td class="text-center">
                  {{ row.points }}
                </td>
                <td class="text-center">
                  <button class="btn btn-primary btn-xs" ng-click="vm.open(row)" ng-if="!row.isEditing">
                    <span class="fa fa-pencil"></span>编辑
                  </button>
                  <button class="btn btn-danger btn-xs" ng-click="vm.del(row.seqId)">
                    <span class="fa fa-trash"></span>删除
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </uib-tab>
  </uib-tabset>
</div>